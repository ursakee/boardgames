const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BrainTrainBoard-CfM1n3cq.js","assets/x-CRgH5BoF.js","assets/useGameSession-B_NWnEaC.js","assets/BrainTrainLobbyPage-CzxAQgbD.js","assets/circle-plus-DwdcZO0g.js","assets/info-Cx_-c4bt.js","assets/BrainTrainGamePage-Dg7Jm4AJ.js","assets/users-Es8a_JvO.js","assets/log-out-hl6wLXhG.js","assets/TicTacToeBoard-CLhzEdOf.js","assets/TicTacToeLobbyPage-AALIf0Lz.js","assets/swords-BNXxC3mE.js","assets/TicTacToeGamePage-C7liM8OH.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Tv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ed={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function n1(){if(Hy)return Jl;Hy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:h,ref:l!==void 0?l:null,props:u}}return Jl.Fragment=t,Jl.jsx=i,Jl.jsxs=i,Jl}var qy;function i1(){return qy||(qy=1,ed.exports=n1()),ed.exports}var It=i1(),nd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function r1(){if(Gy)return bt;Gy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,G={};function j(V,et,lt){this.props=V,this.context=et,this.refs=G,this.updater=lt||I}j.prototype.isReactComponent={},j.prototype.setState=function(V,et){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,et,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=j.prototype;function nt(V,et,lt){this.props=V,this.context=et,this.refs=G,this.updater=lt||I}var W=nt.prototype=new F;W.constructor=nt,M(W,j.prototype),W.isPureReactComponent=!0;var ut=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function O(V,et,lt,it,mt,Ct){return lt=Ct.ref,{$$typeof:r,type:V,key:et,ref:lt!==void 0?lt:null,props:Ct}}function w(V,et){return O(V.type,et,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var et={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return et[lt]})}var P=/\/+/g;function U(V,et){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):et.toString(36)}function D(){}function Le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(et){V.status==="pending"&&(V.status="fulfilled",V.value=et)},function(et){V.status==="pending"&&(V.status="rejected",V.reason=et)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,et,lt,it,mt){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Tt=!1;if(V===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(V.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=V._init,se(Tt(V._payload),et,lt,it,mt)}}if(Tt)return mt=mt(V),Tt=it===""?"."+U(V,0):it,ut(mt)?(lt="",Tt!=null&&(lt=Tt.replace(P,"$&/")+"/"),se(mt,et,lt,"",function(Gn){return Gn})):mt!=null&&(R(mt)&&(mt=w(mt,lt+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(P,"$&/")+"/")+Tt)),et.push(mt)),1;Tt=0;var Ie=it===""?".":it+":";if(ut(V))for(var Zt=0;Zt<V.length;Zt++)it=V[Zt],Ct=Ie+U(it,Zt),Tt+=se(it,et,lt,Ct,mt);else if(Zt=A(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(it=V.next()).done;)it=it.value,Ct=Ie+U(it,Zt++),Tt+=se(it,et,lt,Ct,mt);else if(Ct==="object"){if(typeof V.then=="function")return se(Le(V),et,lt,it,mt);throw et=String(V),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function Y(V,et,lt){if(V==null)return V;var it=[],mt=0;return se(V,it,"","",function(Ct){return et.call(lt,Ct,mt++)}),it}function st(V){if(V._status===-1){var et=V._result;et=et(),et.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=et)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function kt(){}return bt.Children={map:Y,forEach:function(V,et,lt){Y(V,function(){et.apply(this,arguments)},lt)},count:function(V){var et=0;return Y(V,function(){et++}),et},toArray:function(V){return Y(V,function(et){return et})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=j,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=nt,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return at.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,et,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=M({},V.props),mt=V.key,Ct=void 0;if(et!=null)for(Tt in et.ref!==void 0&&(Ct=void 0),et.key!==void 0&&(mt=""+et.key),et)!pt.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(it[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=lt;else if(1<Tt){for(var Ie=Array(Tt),Zt=0;Zt<Tt;Zt++)Ie[Zt]=arguments[Zt+2];it.children=Ie}return O(V.type,mt,void 0,void 0,Ct,it)},bt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},bt.createElement=function(V,et,lt){var it,mt={},Ct=null;if(et!=null)for(it in et.key!==void 0&&(Ct=""+et.key),et)pt.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=et[it]);var Tt=arguments.length-2;if(Tt===1)mt.children=lt;else if(1<Tt){for(var Ie=Array(Tt),Zt=0;Zt<Tt;Zt++)Ie[Zt]=arguments[Zt+2];mt.children=Ie}if(V&&V.defaultProps)for(it in Tt=V.defaultProps,Tt)mt[it]===void 0&&(mt[it]=Tt[it]);return O(V,Ct,void 0,void 0,null,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:m,render:V}},bt.isValidElement=R,bt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:st}},bt.memo=function(V,et){return{$$typeof:g,type:V,compare:et===void 0?null:et}},bt.startTransition=function(V){var et=at.T,lt={};at.T=lt;try{var it=V(),mt=at.S;mt!==null&&mt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(kt,dt)}catch(Ct){dt(Ct)}finally{at.T=et}},bt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},bt.use=function(V){return at.H.use(V)},bt.useActionState=function(V,et,lt){return at.H.useActionState(V,et,lt)},bt.useCallback=function(V,et){return at.H.useCallback(V,et)},bt.useContext=function(V){return at.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,et){return at.H.useDeferredValue(V,et)},bt.useEffect=function(V,et,lt){var it=at.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(V,et)},bt.useId=function(){return at.H.useId()},bt.useImperativeHandle=function(V,et,lt){return at.H.useImperativeHandle(V,et,lt)},bt.useInsertionEffect=function(V,et){return at.H.useInsertionEffect(V,et)},bt.useLayoutEffect=function(V,et){return at.H.useLayoutEffect(V,et)},bt.useMemo=function(V,et){return at.H.useMemo(V,et)},bt.useOptimistic=function(V,et){return at.H.useOptimistic(V,et)},bt.useReducer=function(V,et,lt){return at.H.useReducer(V,et,lt)},bt.useRef=function(V){return at.H.useRef(V)},bt.useState=function(V){return at.H.useState(V)},bt.useSyncExternalStore=function(V,et,lt){return at.H.useSyncExternalStore(V,et,lt)},bt.useTransition=function(){return at.H.useTransition()},bt.version="19.1.0",bt}var Fy;function Gd(){return Fy||(Fy=1,nd.exports=r1()),nd.exports}var X=Gd();const Hn=Tv(X);var id={exports:{}},Wl={},rd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function a1(){return Qy||(Qy=1,function(r){function t(Y,st){var dt=Y.length;Y.push(st);t:for(;0<dt;){var kt=dt-1>>>1,V=Y[kt];if(0<l(V,st))Y[kt]=st,Y[dt]=V,dt=kt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],dt=Y.pop();if(dt!==st){Y[0]=dt;t:for(var kt=0,V=Y.length,et=V>>>1;kt<et;){var lt=2*(kt+1)-1,it=Y[lt],mt=lt+1,Ct=Y[mt];if(0>l(it,dt))mt<V&&0>l(Ct,it)?(Y[kt]=Ct,Y[mt]=dt,kt=mt):(Y[kt]=it,Y[lt]=dt,kt=lt);else if(mt<V&&0>l(Ct,dt))Y[kt]=Ct,Y[mt]=dt,kt=mt;else break t}}return st}function l(Y,st){var dt=Y.sortIndex-st.sortIndex;return dt!==0?dt:Y.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var y=[],g=[],E=1,S=null,A=3,I=!1,M=!1,G=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ut(Y){for(var st=i(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=Y)s(g),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(g)}}function at(Y){if(G=!1,ut(Y),!M)if(i(y)!==null)M=!0,pt||(pt=!0,U());else{var st=i(g);st!==null&&se(at,st.startTime-Y)}}var pt=!1,O=-1,w=5,R=-1;function N(){return j?!0:!(r.unstable_now()-R<w)}function P(){if(j=!1,pt){var Y=r.unstable_now();R=Y;var st=!0;try{t:{M=!1,G&&(G=!1,nt(O),O=-1),I=!0;var dt=A;try{e:{for(ut(Y),S=i(y);S!==null&&!(S.expirationTime>Y&&N());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,A=S.priorityLevel;var V=kt(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof V=="function"){S.callback=V,ut(Y),st=!0;break e}S===i(y)&&s(y),ut(Y)}else s(y);S=i(y)}if(S!==null)st=!0;else{var et=i(g);et!==null&&se(at,et.startTime-Y),st=!1}}break t}finally{S=null,A=dt,I=!1}st=void 0}}finally{st?U():pt=!1}}}var U;if(typeof W=="function")U=function(){W(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Le=D.port2;D.port1.onmessage=P,U=function(){Le.postMessage(null)}}else U=function(){F(P,0)};function se(Y,st){O=F(function(){Y(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var dt=A;A=st;try{return Y()}finally{A=dt}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=A;A=Y;try{return st()}finally{A=dt}},r.unstable_scheduleCallback=function(Y,st,dt){var kt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,Y={id:E++,callback:st,priorityLevel:Y,startTime:dt,expirationTime:V,sortIndex:-1},dt>kt?(Y.sortIndex=dt,t(g,Y),i(y)===null&&Y===i(g)&&(G?(nt(O),O=-1):G=!0,se(at,dt-kt))):(Y.sortIndex=V,t(y,Y),M||I||(M=!0,pt||(pt=!0,U()))),Y},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Y){var st=A;return function(){var dt=A;A=st;try{return Y.apply(this,arguments)}finally{A=dt}}}}(ad)),ad}var Yy;function s1(){return Yy||(Yy=1,rd.exports=a1()),rd.exports}var sd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function l1(){if($y)return Ke;$y=1;var r=Gd();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},Ke.flushSync=function(y){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:I}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Ke.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,g){return y(g)},Ke.useFormState=function(y,g,E){return h.H.useFormState(y,g,E)},Ke.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var Ky;function o1(){if(Ky)return sd.exports;Ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sd.exports=l1(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function u1(){if(Xy)return Wl;Xy=1;var r=s1(),t=Gd(),i=o1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===o)return m(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,o=d;break}if(T===o){v=!0,o=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=f;break}if(T===o){v=!0,o=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case j:return"Profiler";case G:return"StrictMode";case at:return"Suspense";case pt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case W:return(e.displayName||"Context")+".Provider";case nt:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Le(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Le(e(n))}catch{}}return null}var se=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],V=-1;function et(e){return{current:e}}function lt(e){0>V||(e.current=kt[V],kt[V]=null,V--)}function it(e,n){V++,kt[V]=e.current,e.current=n}var mt=et(null),Ct=et(null),Tt=et(null),Ie=et(null);function Zt(e,n){switch(it(Tt,n),it(Ct,e),it(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=py(n),e=yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(mt),it(mt,e)}function Gn(){lt(mt),lt(Ct),lt(Tt)}function $i(e){e.memoizedState!==null&&it(Ie,e);var n=mt.current,a=yy(n,e.type);n!==a&&(it(Ct,e),it(mt,a))}function pi(e){Ct.current===e&&(lt(mt),lt(Ct)),Ie.current===e&&(lt(Ie),Yl._currentValue=dt)}var kr=Object.prototype.hasOwnProperty,Br=r.unstable_scheduleCallback,jr=r.unstable_cancelCallback,Gs=r.unstable_shouldYield,No=r.unstable_requestPaint,vn=r.unstable_now,tf=r.unstable_getCurrentPriorityLevel,Fs=r.unstable_ImmediatePriority,Na=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,ef=r.unstable_LowPriority,xa=r.unstable_IdlePriority,Qs=r.log,xo=r.unstable_setDisableYieldValue,le=null,qt=null;function un(e){if(typeof Qs=="function"&&xo(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(le,e)}catch{}}var Ye=Math.clz32?Math.clz32:qr,Mo=Math.log,nf=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(Mo(e)/nf|0)|0}var Gr=256,Fr=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ma(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?f=Mn(o):(v&=T,v!==0?f=Mn(v):a||(a=T&~e,a!==0&&(f=Mn(a))))):(T=o&~d,T!==0?f=Mn(T):v!==0?f=Mn(v):a||(a=o&~e,a!==0&&(f=Mn(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Qr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function Ks(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function yi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function _i(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xs(e,n,a,o,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Ye(a),Z=1<<$;T[$]=0,C[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var q=H[$];q!==null&&(q.lane&=-536870913)}a&=~Z}o!==0&&Fn(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Fn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ye(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Zs(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Ye(a),f=1<<o;f&n|e[o]&n&&(e[o]|=n),a&=~f}}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Ly(e.type))}function Po(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var ee=Math.random().toString(36).slice(2),Se="__reactFiber$"+ee,pe="__reactProps$"+ee,En="__reactContainer$"+ee,Js="__reactEvents$"+ee,rf="__reactListeners$"+ee,Zi="__reactHandles$"+ee,Lo="__reactResources$"+ee,Yr="__reactMarker$"+ee;function Ji(e){delete e[Se],delete e[pe],delete e[Js],delete e[rf],delete e[Zi]}function vi(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[En]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ty(e);e!==null;){if(a=e[Se])return a;e=Ty(e)}return n}e=a,a=e.parentNode}return null}function Qn(e){if(e=e[Se]||e[En]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function We(e){var n=e[Lo];return n||(n=e[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[Yr]=!0}var Ws=new Set,La={};function Pn(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(La[e]=n,e=0;e<n.length;e++)Ws.add(n[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},$r={};function ko(e){return kr.call($r,e)?!0:kr.call(zo,e)?!1:Uo.test(e)?$r[e]=!0:(zo[e]=!0,!1)}function Wi(e,n,a){if(ko(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function $n(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Kr,Bo;function Ti(e){if(Kr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Bo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Bo}var Ua=!1;function za(e,n){if(!e||Ua)return"";Ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var H=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){H=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){H=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),B=T.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===B.length)for(o=C.length-1,f=B.length-1;1<=o&&0<=f&&C[o]!==B[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==B[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==B[f]){var $=`
`+C[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=f);break}}}finally{Ua=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ti(a):""}function tl(e){switch(e.tag){case 26:case 27:case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return za(e.type,!1);case 11:return za(e.type.render,!1);case 1:return za(e.type,!0);case 31:return Ti("Activity");default:return""}}function ka(e){try{var n="";do n+=tl(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function el(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function af(e){var n=el(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ba(e){e._valueTracker||(e._valueTracker=af(e))}function nl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=el(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sf=/[\n"\\]/g;function ye(e){return e.replace(sf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cn(e,n,a,o,f,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+tn(n)):e.value!==""+tn(n)&&(e.value=""+tn(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?tr(e,v,tn(n)):a!=null?tr(e,v,tn(a)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function Zr(e,n,a,o,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+tn(a):"",n=n!=null?""+tn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function tr(e,n,a){n==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Si(e,n,a,o){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Qt(e,n,a){if(n!=null&&(n=""+tn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+tn(a):""}function Jr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=tn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Tn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Wr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function il(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&jo(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&jo(e,d,n[d])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(e){return of.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ai=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,wi=null;function al(e){var n=Qn(e);if(n&&(e=n.stateNode)){var a=e[pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var f=o[pe]||null;if(!f)throw Error(s(90));cn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&nl(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Si(e,!!a.multiple,n,!1)}}}var Kn=!1;function Ho(e,n,a){if(Kn)return e(n,a);Kn=!0;try{var o=e(n);return o}finally{if(Kn=!1,(bi!==null||wi!==null)&&(Pu(),bi&&(n=bi,e=wi,wi=bi=null,al(n),e)))for(n=0;n<e.length;n++)al(e[n])}}function ta(e,n){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Ln)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){An=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{An=!1}var Xn=null,er=null,Ri=null;function sl(){if(Ri)return Ri;var e,n=er,a=n.length,o,f="value"in Xn?Xn.value:Xn.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===f[d-o];o++);return Ri=f.slice(e,1<o?1-o:void 0)}function Zn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function ll(){return!1}function Ve(e){function n(a,o,f,d,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:ll,this.isPropagationStopped=ll,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Ve(jt),na=E({},jt,{view:0,detail:0}),qo=Ve(na),qa,Ga,Wn,ia=E({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(qa=e.screenX-Wn.screenX,Ga=e.screenY-Wn.screenY):Ga=qa=0,Wn=e),qa)},movementY:function(e){return"movementY"in e?e.movementY:Ga}}),bn=Ve(ia),Go=E({},ia,{dataTransfer:0}),uf=Ve(Go),ra=E({},na,{relatedTarget:0}),Fa=Ve(ra),ol=E({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Ve(ol),Fo=E({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ya=Ve(Fo),cf=E({},jt,{data:0}),ul=Ve(cf),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Yo[e])?!!n[e]:!1}function sa(){return cl}var $o=E({},na,{key:function(e){if(e.key){var n=aa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$a=Ve($o),Ko=E({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ve(Ko),Ci=E({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),Xo=Ve(Ci),Zo=E({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=Ve(Zo),Wo=E({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Ve(Wo),en=E({},jt,{newState:0,oldState:0}),tu=Ve(en),eu=[9,13,27,32],ti=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var p=Ln&&"TextEvent"in window&&!c,_=Ln&&(!ti||c&&8<c&&11>=c),b=" ",z=!1;function Q(e,n){switch(e){case"keyup":return eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Ae(e,n){switch(e){case"compositionend":return rt(n);case"keypress":return n.which!==32?null:(z=!0,b);case"textInput":return e=n.data,e===b&&z?null:e;default:return null}}function Mt(e,n){if(xt)return e==="compositionend"||!ti&&Q(e,n)?(e=sl(),Ri=er=Xn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Oe[e.type]:n==="textarea"}function Di(e,n,a,o){bi?wi?wi.push(o):wi=[o]:bi=o,n=ju(n,"onChange"),0<n.length&&(a=new Ha("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ze=null,ei=null;function hl(e){fy(e,0)}function nu(e){var n=Yn(e);if(nl(n))return e}function Nm(e,n){if(e==="change")return n}var xm=!1;if(Ln){var ff;if(Ln){var hf="oninput"in document;if(!hf){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),hf=typeof Mm.oninput=="function"}ff=hf}else ff=!1;xm=ff&&(!document.documentMode||9<document.documentMode)}function Pm(){ze&&(ze.detachEvent("onpropertychange",Lm),ei=ze=null)}function Lm(e){if(e.propertyName==="value"&&nu(ei)){var n=[];Di(n,ei,e,Sn(e)),Ho(hl,n)}}function NE(e,n,a){e==="focusin"?(Pm(),ze=n,ei=a,ze.attachEvent("onpropertychange",Lm)):e==="focusout"&&Pm()}function xE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(ei)}function ME(e,n){if(e==="click")return nu(n)}function PE(e,n){if(e==="input"||e==="change")return nu(n)}function LE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:LE;function dl(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!kr.call(n,f)||!fn(e[f],n[f]))return!1}return!0}function Um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zm(e,n){var a=Um(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Um(a)}}function km(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?km(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Xr(e.document)}return n}function df(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var UE=Ln&&"documentMode"in document&&11>=document.documentMode,Xa=null,mf=null,ml=null,gf=!1;function jm(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Xa==null||Xa!==Xr(o)||(o=Xa,"selectionStart"in o&&df(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ml&&dl(ml,o)||(ml=o,o=ju(mf,"onSelect"),0<o.length&&(n=new Ha("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Xa)))}function la(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Za={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},pf={},Hm={};Ln&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function oa(e){if(pf[e])return pf[e];if(!Za[e])return e;var n=Za[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hm)return pf[e]=n[a];return e}var qm=oa("animationend"),Gm=oa("animationiteration"),Fm=oa("animationstart"),zE=oa("transitionrun"),kE=oa("transitionstart"),BE=oa("transitioncancel"),Qm=oa("transitionend"),Ym=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Un(e,n){Ym.set(e,n),Pn(n,[e])}var $m=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var a=$m.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ka(n)},$m.set(e,n),n)}return{value:e,source:n,stack:ka(n)}}var Rn=[],Ja=0,_f=0;function iu(){for(var e=Ja,n=_f=Ja=0;n<e;){var a=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var f=Rn[n];Rn[n++]=null;var d=Rn[n];if(Rn[n++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}d!==0&&Km(a,f,d)}}function ru(e,n,a,o){Rn[Ja++]=e,Rn[Ja++]=n,Rn[Ja++]=a,Rn[Ja++]=o,_f|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vf(e,n,a,o){return ru(e,n,a,o),au(e)}function Wa(e,n){return ru(e,null,null,n),au(e)}function Km(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-Ye(a),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=a|536870912),d):null}function au(e){if(50<kl)throw kl=0,wh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ts={};function jE(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,a,o){return new jE(e,n,a,o)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,n){var a=e.alternate;return a===null?(a=hn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Xm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function su(e,n,a,o,f,d){var v=0;if(o=e,typeof e=="function")Ef(e)&&(v=1);else if(typeof e=="string")v=qT(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=hn(31,a,n,f),e.elementType=R,e.lanes=d,e;case M:return ua(a.children,f,d,n);case G:v=8,f|=24;break;case j:return e=hn(12,a,n,f|2),e.elementType=j,e.lanes=d,e;case at:return e=hn(13,a,n,f),e.elementType=at,e.lanes=d,e;case pt:return e=hn(19,a,n,f),e.elementType=pt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:case W:v=10;break t;case nt:v=9;break t;case ut:v=11;break t;case O:v=14;break t;case w:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=hn(v,a,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function ua(e,n,a,o){return e=hn(7,e,o,n),e.lanes=a,e}function Tf(e,n,a){return e=hn(6,e,null,n),e.lanes=a,e}function Sf(e,n,a){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var es=[],ns=0,lu=null,ou=0,Cn=[],Dn=0,ca=null,Vi=1,Oi="";function fa(e,n){es[ns++]=ou,es[ns++]=lu,lu=e,ou=n}function Zm(e,n,a){Cn[Dn++]=Vi,Cn[Dn++]=Oi,Cn[Dn++]=ca,ca=e;var o=Vi;e=Oi;var f=32-Ye(o)-1;o&=~(1<<f),a+=1;var d=32-Ye(n)+f;if(30<d){var v=f-f%5;d=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Vi=1<<32-Ye(n)+f|a<<f|o,Oi=d+e}else Vi=1<<d|a<<f|o,Oi=e}function Af(e){e.return!==null&&(fa(e,1),Zm(e,1,0))}function bf(e){for(;e===lu;)lu=es[--ns],es[ns]=null,ou=es[--ns],es[ns]=null;for(;e===ca;)ca=Cn[--Dn],Cn[Dn]=null,Oi=Cn[--Dn],Cn[Dn]=null,Vi=Cn[--Dn],Cn[Dn]=null}var nn=null,oe=null,Bt=!1,ha=null,ni=!1,wf=Error(s(519));function da(e){var n=Error(s(418,""));throw yl(wn(n,e)),wf}function Jm(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Se]=e,n[pe]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<jl.length;a++)Ot(jl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Zr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ba(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Jr(n,o.value,o.defaultValue,o.children),Ba(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||gy(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||da(e)}function Wm(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function gl(e){if(e!==nn)return!1;if(!Bt)return Wm(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jh(e.type,e.memoizedProps)),a=!a),a&&oe&&da(e),Wm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){oe=kn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,yr(e.type)?(e=Fh,Fh=null,oe=e):oe=n):oe=nn?kn(e.stateNode.nextSibling):null;return!0}function pl(){oe=nn=null,Bt=!1}function tg(){var e=ha;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),ha=null),e}function yl(e){ha===null?ha=[e]:ha.push(e)}var Rf=et(null),ma=null,Ni=null;function nr(e,n,a){it(Rf,n._currentValue),n._currentValue=a}function xi(e){e._currentValue=Rf.current,lt(Rf)}function Cf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Df(e,n,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Cf(d.return,a,e),o||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Cf(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function _l(e,n,a,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;fn(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===Ie.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}f=f.return}e!==null&&Df(n,e,a,o),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ga(e){ma=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return eg(ma,e)}function cu(e,n){return ma===null&&ga(e),eg(e,n)}function eg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ni=Ni.next=n;return a}var HE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},qE=r.unstable_scheduleCallback,GE=r.unstable_NormalPriority,we={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new HE,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&qE(GE,function(){e.controller.abort()})}var El=null,Vf=0,is=0,rs=null;function FE(e,n){if(El===null){var a=El=[];Vf=0,is=Nh(),rs={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Vf++,n.then(ng,ng),n}function ng(){if(--Vf===0&&El!==null){rs!==null&&(rs.status="fulfilled");var e=El;El=null,is=0,rs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function QE(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var ig=Y.S;Y.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&FE(e,n),ig!==null&&ig(e,n)};var pa=et(null);function Of(){var e=pa.current;return e!==null?e:Jt.pooledCache}function fu(e,n){n===null?it(pa,pa.current):it(pa,n.pool)}function rg(){var e=Of();return e===null?null:{parent:we._currentValue,pool:e}}var Tl=Error(s(460)),ag=Error(s(474)),hu=Error(s(542)),Nf={then:function(){}};function sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function du(){}function lg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(du,du),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ug(e),e;default:if(typeof n.status=="string")n.then(du,du);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ug(e),e}throw Sl=n,Tl}}var Sl=null;function og(){if(Sl===null)throw Error(s(459));var e=Sl;return Sl=null,e}function ug(e){if(e===Tl||e===hu)throw Error(s(483))}var ir=!1;function xf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=au(e),Km(e,null,a),n}return ru(e,o,n,a),au(e)}function Al(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Zs(e,a)}}function Pf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Lf=!1;function bl(){if(Lf){var e=rs;if(e!==null)throw e}}function wl(e,n,a,o){Lf=!1;var f=e.updateQueue;ir=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,B=C.next;C.next=null,v===null?d=B:v.next=B,v=C;var $=e.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=C))}if(d!==null){var Z=f.baseState;v=0,$=B=C=null,T=d;do{var H=T.lane&-536870913,q=H!==T.lane;if(q?(Pt&H)===H:(o&H)===H){H!==0&&H===is&&(Lf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=e,yt=T;H=n;var Kt=a;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){Z=Et.call(Kt,Z,H);break t}Z=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,H=typeof Et=="function"?Et.call(Kt,Z,H):Et,H==null)break t;Z=E({},Z,H);break t;case 2:ir=!0}}H=T.callback,H!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[H]:q.push(H))}else q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=q,C=Z):$=$.next=q,v|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;q=T,T=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);$===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),dr|=v,e.lanes=v,e.memoizedState=Z}}function cg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function fg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cg(a[e],n)}var as=et(null),mu=et(0);function hg(e,n){e=Bi,it(mu,e),it(as,n),Bi=e|n.baseLanes}function Uf(){it(mu,Bi),it(as,as.current)}function zf(){Bi=mu.current,lt(as),lt(mu)}var sr=0,wt=null,Yt=null,_e=null,gu=!1,ss=!1,ya=!1,pu=0,Rl=0,ls=null,YE=0;function he(){throw Error(s(321))}function kf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!fn(e[a],n[a]))return!1;return!0}function Bf(e,n,a,o,f,d){return sr=d,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?Kg:Xg,ya=!1,d=a(o,f),ya=!1,ss&&(d=mg(n,a,o,f)),dg(e),d}function dg(e){Y.H=Su;var n=Yt!==null&&Yt.next!==null;if(sr=0,_e=Yt=wt=null,gu=!1,Rl=0,ls=null,n)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&uu(e)&&(Ne=!0))}function mg(e,n,a,o){wt=e;var f=0;do{if(ss&&(ls=null),Rl=0,ss=!1,25<=f)throw Error(s(301));if(f+=1,_e=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=tT,d=n(a,o)}while(ss);return d}function $E(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(wt.flags|=1024),n}function jf(){var e=pu!==0;return pu=0,e}function Hf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function qf(e){if(gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gu=!1}sr=0,_e=Yt=wt=null,ss=!1,Rl=pu=0,ls=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?wt.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Yt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=_e===null?wt.memoizedState:_e.next;if(n!==null)_e=n,Yt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},_e===null?wt.memoizedState=_e=e:_e=_e.next=e}return _e}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=Rl;return Rl+=1,ls===null&&(ls=[]),e=lg(ls,e,n),n=wt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Kg:Xg),e}function yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===W)return $e(e)}throw Error(s(438,String(e)))}function Ff(e){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gf(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=N;return n.index++,a}function Mi(e,n){return typeof n=="function"?n(e):n}function _u(e){var n=ve();return Qf(n,Yt,e)}function Qf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var T=v=null,C=null,B=n,$=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Pt&Z)===Z:(sr&Z)===Z){var H=B.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===is&&($=!0);else if((sr&H)===H){B=B.next,H===is&&($=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=Z,v=d):C=C.next=Z,wt.lanes|=H,dr|=H;Z=B.action,ya&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=H,v=d):C=C.next=H,wt.lanes|=Z,dr|=Z;B=B.next}while(B!==null&&B!==n);if(C===null?v=d:C.next=T,!fn(d,e.memoizedState)&&(Ne=!0,$&&(a=rs,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Yf(e){var n=ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);fn(d,n.memoizedState)||(Ne=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function gg(e,n,a){var o=wt,f=ve(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!fn((Yt||f).memoizedState,a);v&&(f.memoizedState=a,Ne=!0),f=f.queue;var T=_g.bind(null,o,f,e);if(Dl(2048,8,T,[e]),f.getSnapshot!==n||v||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,os(9,vu(),yg.bind(null,o,f,a,n),null),Jt===null)throw Error(s(349));d||(sr&124)!==0||pg(o,n,a)}return a}function pg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=Gf(),wt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function yg(e,n,a,o){n.value=a,n.getSnapshot=o,vg(n)&&Eg(e)}function _g(e,n,a){return a(function(){vg(n)&&Eg(e)})}function vg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!fn(e,a)}catch{return!0}}function Eg(e){var n=Wa(e,2);n!==null&&yn(n,e,2)}function $f(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),ya){un(!0);try{a()}finally{un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},n}function Tg(e,n,a,o){return e.baseState=a,Qf(e,Yt,typeof o=="function"?o:Mi)}function KE(e,n,a,o,f){if(Tu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Sg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Sg(e,n){var a=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(f,o),C=Y.S;C!==null&&C(v,T),Ag(e,n,T)}catch(B){Kf(e,n,B)}finally{Y.T=d}}else try{d=a(f,o),Ag(e,n,d)}catch(B){Kf(e,n,B)}}function Ag(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bg(e,n,o)},function(o){return Kf(e,n,o)}):bg(e,n,a)}function bg(e,n,a){n.status="fulfilled",n.value=a,wg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Sg(e,a)))}function Kf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wg(n),n=n.next;while(n!==o)}e.action=null}function wg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rg(e,n){return n}function Cg(e,n){if(Bt){var a=Jt.formState;if(a!==null){t:{var o=wt;if(Bt){if(oe){e:{for(var f=oe,d=ni;f.nodeType!==8;){if(!d){f=null;break e}if(f=kn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){oe=kn(f.nextSibling),o=f.data==="F!";break t}}da(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},a.queue=o,a=Qg.bind(null,wt,o),o.dispatch=a,o=$f(!1),d=th.bind(null,wt,!1,o.queue),o=rn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,a=KE.bind(null,wt,f,d,a),f.dispatch=a,o.memoizedState=e,[n,a,!1]}function Dg(e){var n=ve();return Ig(n,Yt,e)}function Ig(e,n,a){if(n=Qf(e,n,Rg)[0],e=_u(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Cl(n)}catch(v){throw v===Tl?hu:v}else o=n;n=ve();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,os(9,vu(),XE.bind(null,f,a),null)),[o,d,e]}function XE(e,n){e.action=n}function Vg(e){var n=ve(),a=Yt;if(a!==null)return Ig(n,a,e);ve(),n=n.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function os(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Gf(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function vu(){return{destroy:void 0,resource:void 0}}function Og(){return ve().memoizedState}function Eu(e,n,a,o){var f=rn();o=o===void 0?null:o,wt.flags|=e,f.memoizedState=os(1|n,vu(),a,o)}function Dl(e,n,a,o){var f=ve();o=o===void 0?null:o;var d=f.memoizedState.inst;Yt!==null&&o!==null&&kf(o,Yt.memoizedState.deps)?f.memoizedState=os(n,d,a,o):(wt.flags|=e,f.memoizedState=os(1|n,d,a,o))}function Ng(e,n){Eu(8390656,8,e,n)}function xg(e,n){Dl(2048,8,e,n)}function Mg(e,n){return Dl(4,2,e,n)}function Pg(e,n){return Dl(4,4,e,n)}function Lg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ug(e,n,a){a=a!=null?a.concat([e]):null,Dl(4,4,Lg.bind(null,n,e),a)}function Xf(){}function zg(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&kf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function kg(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&kf(n,o[1]))return o[0];if(o=e(),ya){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,n],o}function Zf(e,n,a){return a===void 0||(sr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Hp(),wt.lanes|=e,dr|=e,a)}function Bg(e,n,a,o){return fn(a,n)?a:as.current!==null?(e=Zf(e,a,o),fn(e,n)||(Ne=!0),e):(sr&42)===0?(Ne=!0,e.memoizedState=a):(e=Hp(),wt.lanes|=e,dr|=e,n)}function jg(e,n,a,o,f){var d=st.p;st.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,th(e,!1,n,a);try{var C=f(),B=Y.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=QE(C,o);Il(e,n,$,pn(e))}else Il(e,n,o,pn(e))}catch(Z){Il(e,n,{then:function(){},status:"rejected",reason:Z},pn())}finally{st.p=d,Y.T=v}}function ZE(){}function Jf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var f=Hg(e).queue;jg(e,f,n,dt,a===null?ZE:function(){return qg(e),a(o)})}function Hg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function qg(e){var n=Hg(e).next.queue;Il(e,n,{},pn())}function Wf(){return $e(Yl)}function Gg(){return ve().memoizedState}function Fg(){return ve().memoizedState}function JE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();e=rr(a);var o=ar(n,e,a);o!==null&&(yn(o,n,a),Al(o,n,a)),n={cache:If()},e.payload=n;return}n=n.return}}function WE(e,n,a){var o=pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(e)?Yg(n,a):(a=vf(e,n,a,o),a!==null&&(yn(a,e,o),$g(a,n,o)))}function Qg(e,n,a){var o=pn();Il(e,n,a,o)}function Il(e,n,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))Yg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,fn(T,v))return ru(e,n,f,0),Jt===null&&iu(),!1}catch{}finally{}if(a=vf(e,n,f,o),a!==null)return yn(a,e,o),$g(a,n,o),!0}return!1}function th(e,n,a,o){if(o={lane:2,revertLane:Nh(),action:o,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(s(479))}else n=vf(e,a,o,2),n!==null&&yn(n,e,2)}function Tu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Yg(e,n){ss=gu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function $g(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Zs(e,a)}}var Su={readContext:$e,use:yu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Kg={readContext:$e,use:yu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Ng,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Eu(4194308,4,Lg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Eu(4194308,4,e,n)},useInsertionEffect:function(e,n){Eu(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var o=e();if(ya){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=rn();if(a!==void 0){var f=a(n);if(ya){un(!0);try{a(n)}finally{un(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=WE.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=$f(e);var n=e.queue,a=Qg.bind(null,wt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(e,n){var a=rn();return Zf(a,e,n)},useTransition:function(){var e=$f(!1);return e=jg.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=wt,f=rn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Pt&124)!==0||pg(o,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,Ng(_g.bind(null,o,d,e),[e]),o.flags|=2048,os(9,vu(),yg.bind(null,o,d,a,n),null),a},useId:function(){var e=rn(),n=Jt.identifierPrefix;if(Bt){var a=Oi,o=Vi;a=(o&~(1<<32-Ye(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=pu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=YE++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Wf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=th.bind(null,wt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ff,useCacheRefresh:function(){return rn().memoizedState=JE.bind(null,wt)}},Xg={readContext:$e,use:yu,useCallback:zg,useContext:$e,useEffect:xg,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:Pg,useMemo:kg,useReducer:_u,useRef:Og,useState:function(){return _u(Mi)},useDebugValue:Xf,useDeferredValue:function(e,n){var a=ve();return Bg(a,Yt.memoizedState,e,n)},useTransition:function(){var e=_u(Mi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Wf,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var a=ve();return Tg(a,Yt,e,n)},useMemoCache:Ff,useCacheRefresh:Fg},tT={readContext:$e,use:yu,useCallback:zg,useContext:$e,useEffect:xg,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:Pg,useMemo:kg,useReducer:Yf,useRef:Og,useState:function(){return Yf(Mi)},useDebugValue:Xf,useDeferredValue:function(e,n){var a=ve();return Yt===null?Zf(a,e,n):Bg(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Yf(Mi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Wf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,n){var a=ve();return Yt!==null?Tg(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:Fg},us=null,Vl=0;function Au(e){var n=Vl;return Vl+=1,us===null&&(us=[]),lg(us,e,n)}function Ol(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zg(e){var n=e._init;return n(e._payload)}function Jg(e){function n(L,x){if(e){var k=L.deletions;k===null?(L.deletions=[x],L.flags|=16):k.push(x)}}function a(L,x){if(!e)return null;for(;x!==null;)n(L,x),x=x.sibling;return null}function o(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function f(L,x){return L=Ii(L,x),L.index=0,L.sibling=null,L}function d(L,x,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<x?(L.flags|=67108866,x):k):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,x,k,K){return x===null||x.tag!==6?(x=Tf(k,L.mode,K),x.return=L,x):(x=f(x,k),x.return=L,x)}function C(L,x,k,K){var ct=k.type;return ct===M?$(L,x,k.props.children,K,k.key):x!==null&&(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Zg(ct)===x.type)?(x=f(x,k.props),Ol(x,k),x.return=L,x):(x=su(k.type,k.key,k.props,null,L.mode,K),Ol(x,k),x.return=L,x)}function B(L,x,k,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Sf(k,L.mode,K),x.return=L,x):(x=f(x,k.children||[]),x.return=L,x)}function $(L,x,k,K,ct){return x===null||x.tag!==7?(x=ua(k,L.mode,K,ct),x.return=L,x):(x=f(x,k),x.return=L,x)}function Z(L,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Tf(""+x,L.mode,k),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case A:return k=su(x.type,x.key,x.props,null,L.mode,k),Ol(k,x),k.return=L,k;case I:return x=Sf(x,L.mode,k),x.return=L,x;case w:var K=x._init;return x=K(x._payload),Z(L,x,k)}if(se(x)||U(x))return x=ua(x,L.mode,k,null),x.return=L,x;if(typeof x.then=="function")return Z(L,Au(x),k);if(x.$$typeof===W)return Z(L,cu(L,x),k);bu(L,x)}return null}function H(L,x,k,K){var ct=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:T(L,x,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return k.key===ct?C(L,x,k,K):null;case I:return k.key===ct?B(L,x,k,K):null;case w:return ct=k._init,k=ct(k._payload),H(L,x,k,K)}if(se(k)||U(k))return ct!==null?null:$(L,x,k,K,null);if(typeof k.then=="function")return H(L,x,Au(k),K);if(k.$$typeof===W)return H(L,x,cu(L,k),K);bu(L,k)}return null}function q(L,x,k,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(k)||null,T(x,L,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return L=L.get(K.key===null?k:K.key)||null,C(x,L,K,ct);case I:return L=L.get(K.key===null?k:K.key)||null,B(x,L,K,ct);case w:var Dt=K._init;return K=Dt(K._payload),q(L,x,k,K,ct)}if(se(K)||U(K))return L=L.get(k)||null,$(x,L,K,ct,null);if(typeof K.then=="function")return q(L,x,k,Au(K),ct);if(K.$$typeof===W)return q(L,x,k,cu(x,K),ct);bu(x,K)}return null}function Et(L,x,k,K){for(var ct=null,Dt=null,ht=x,_t=x=0,Me=null;ht!==null&&_t<k.length;_t++){ht.index>_t?(Me=ht,ht=null):Me=ht.sibling;var zt=H(L,ht,k[_t],K);if(zt===null){ht===null&&(ht=Me);break}e&&ht&&zt.alternate===null&&n(L,ht),x=d(zt,x,_t),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt,ht=Me}if(_t===k.length)return a(L,ht),Bt&&fa(L,_t),ct;if(ht===null){for(;_t<k.length;_t++)ht=Z(L,k[_t],K),ht!==null&&(x=d(ht,x,_t),Dt===null?ct=ht:Dt.sibling=ht,Dt=ht);return Bt&&fa(L,_t),ct}for(ht=o(ht);_t<k.length;_t++)Me=q(ht,L,_t,k[_t],K),Me!==null&&(e&&Me.alternate!==null&&ht.delete(Me.key===null?_t:Me.key),x=d(Me,x,_t),Dt===null?ct=Me:Dt.sibling=Me,Dt=Me);return e&&ht.forEach(function(Sr){return n(L,Sr)}),Bt&&fa(L,_t),ct}function yt(L,x,k,K){if(k==null)throw Error(s(151));for(var ct=null,Dt=null,ht=x,_t=x=0,Me=null,zt=k.next();ht!==null&&!zt.done;_t++,zt=k.next()){ht.index>_t?(Me=ht,ht=null):Me=ht.sibling;var Sr=H(L,ht,zt.value,K);if(Sr===null){ht===null&&(ht=Me);break}e&&ht&&Sr.alternate===null&&n(L,ht),x=d(Sr,x,_t),Dt===null?ct=Sr:Dt.sibling=Sr,Dt=Sr,ht=Me}if(zt.done)return a(L,ht),Bt&&fa(L,_t),ct;if(ht===null){for(;!zt.done;_t++,zt=k.next())zt=Z(L,zt.value,K),zt!==null&&(x=d(zt,x,_t),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt);return Bt&&fa(L,_t),ct}for(ht=o(ht);!zt.done;_t++,zt=k.next())zt=q(ht,L,_t,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ht.delete(zt.key===null?_t:zt.key),x=d(zt,x,_t),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt);return e&&ht.forEach(function(e1){return n(L,e1)}),Bt&&fa(L,_t),ct}function Kt(L,x,k,K){if(typeof k=="object"&&k!==null&&k.type===M&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case A:t:{for(var ct=k.key;x!==null;){if(x.key===ct){if(ct=k.type,ct===M){if(x.tag===7){a(L,x.sibling),K=f(x,k.props.children),K.return=L,L=K;break t}}else if(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Zg(ct)===x.type){a(L,x.sibling),K=f(x,k.props),Ol(K,k),K.return=L,L=K;break t}a(L,x);break}else n(L,x);x=x.sibling}k.type===M?(K=ua(k.props.children,L.mode,K,k.key),K.return=L,L=K):(K=su(k.type,k.key,k.props,null,L.mode,K),Ol(K,k),K.return=L,L=K)}return v(L);case I:t:{for(ct=k.key;x!==null;){if(x.key===ct)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){a(L,x.sibling),K=f(x,k.children||[]),K.return=L,L=K;break t}else{a(L,x);break}else n(L,x);x=x.sibling}K=Sf(k,L.mode,K),K.return=L,L=K}return v(L);case w:return ct=k._init,k=ct(k._payload),Kt(L,x,k,K)}if(se(k))return Et(L,x,k,K);if(U(k)){if(ct=U(k),typeof ct!="function")throw Error(s(150));return k=ct.call(k),yt(L,x,k,K)}if(typeof k.then=="function")return Kt(L,x,Au(k),K);if(k.$$typeof===W)return Kt(L,x,cu(L,k),K);bu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(a(L,x.sibling),K=f(x,k),K.return=L,L=K):(a(L,x),K=Tf(k,L.mode,K),K.return=L,L=K),v(L)):a(L,x)}return function(L,x,k,K){try{Vl=0;var ct=Kt(L,x,k,K);return us=null,ct}catch(ht){if(ht===Tl||ht===hu)throw ht;var Dt=hn(29,ht,null,L.mode);return Dt.lanes=K,Dt.return=L,Dt}finally{}}}var cs=Jg(!0),Wg=Jg(!1),In=et(null),ii=null;function lr(e){var n=e.alternate;it(Re,Re.current&1),it(In,e),ii===null&&(n===null||as.current!==null||n.memoizedState!==null)&&(ii=e)}function tp(e){if(e.tag===22){if(it(Re,Re.current),it(In,e),ii===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ii=e)}}else or()}function or(){it(Re,Re.current),it(In,In.current)}function Pi(e){lt(In),ii===e&&(ii=null),lt(Re)}var Re=et(0);function wu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function eh(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nh={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=pn(),f=rr(o);f.payload=n,a!=null&&(f.callback=a),n=ar(e,f,o),n!==null&&(yn(n,e,o),Al(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=pn(),f=rr(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=ar(e,f,o),n!==null&&(yn(n,e,o),Al(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=pn(),o=rr(a);o.tag=2,n!=null&&(o.callback=n),n=ar(e,o,a),n!==null&&(yn(n,e,a),Al(n,e,a))}};function ep(e,n,a,o,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!dl(a,o)||!dl(f,d):!0}function np(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&nh.enqueueReplaceState(n,n.state,null)}function _a(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ip(e){Ru(e)}function rp(e){console.error(e)}function ap(e){Ru(e)}function Cu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ih(e,n,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(e,n)},a}function lp(e){return e=rr(e),e.tag=3,e}function op(e,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){sp(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){sp(n,a,o),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function eT(e,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&_l(n,a,f,!0),a=In.current,a!==null){switch(a.tag){case 13:return ii===null?Ch():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===Nf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ih(e,o,f)),!1;case 22:return a.flags|=65536,o===Nf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ih(e,o,f)),!1}throw Error(s(435,a.tag))}return Ih(e,o,f),Ch(),!1}if(Bt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==wf&&(e=Error(s(422),{cause:o}),yl(wn(e,a)))):(o!==wf&&(n=Error(s(423),{cause:o}),yl(wn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=wn(o,a),f=ih(e.stateNode,o,f),Pf(e,f),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:o});if(d=wn(d,a),zl===null?zl=[d]:zl.push(d),ue!==4&&(ue=2),n===null)return!0;o=wn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=ih(a.stateNode,o,e),Pf(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(mr===null||!mr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lp(f),op(f,e,a,o),Pf(a,f),!1}a=a.return}while(a!==null);return!1}var up=Error(s(461)),Ne=!1;function ke(e,n,a,o){n.child=e===null?Wg(n,null,a,o):cs(n,e.child,a,o)}function cp(e,n,a,o,f){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return ga(n),o=Bf(e,n,a,v,d,f),T=jf(),e!==null&&!Ne?(Hf(e,n,f),Li(e,n,f)):(Bt&&T&&Af(n),n.flags|=1,ke(e,n,o,f),n.child)}function fp(e,n,a,o,f){if(e===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,hp(e,n,d,o,f)):(e=su(a.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!fh(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,o)&&e.ref===n.ref)return Li(e,n,f)}return n.flags|=1,e=Ii(d,o),e.ref=n.ref,e.return=n,n.child=e}function hp(e,n,a,o,f){if(e!==null){var d=e.memoizedProps;if(dl(d,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=d,fh(e,f))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Li(e,n,f)}return rh(e,n,a,o,f)}function dp(e,n,a){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return mp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fu(n,d!==null?d.cachePool:null),d!==null?hg(n,d):Uf(),tp(n);else return n.lanes=n.childLanes=536870912,mp(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(fu(n,d.cachePool),hg(n,d),or(),n.memoizedState=null):(e!==null&&fu(n,null),Uf(),or());return ke(e,n,f,a),n.child}function mp(e,n,a,o){var f=Of();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&fu(n,null),Uf(),tp(n),e!==null&&_l(e,n,o,!0),null}function Du(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function rh(e,n,a,o,f){return ga(n),a=Bf(e,n,a,o,void 0,f),o=jf(),e!==null&&!Ne?(Hf(e,n,f),Li(e,n,f)):(Bt&&o&&Af(n),n.flags|=1,ke(e,n,a,f),n.child)}function gp(e,n,a,o,f,d){return ga(n),n.updateQueue=null,a=mg(n,o,a,f),dg(e),o=jf(),e!==null&&!Ne?(Hf(e,n,d),Li(e,n,d)):(Bt&&o&&Af(n),n.flags|=1,ke(e,n,a,d),n.child)}function pp(e,n,a,o,f){if(ga(n),n.stateNode===null){var d=ts,v=a.contextType;typeof v=="object"&&v!==null&&(d=$e(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},xf(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?$e(v):ts,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(eh(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nh.enqueueReplaceState(d,d.state,null),wl(n,o,d,f),bl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,C=_a(a,T);d.props=C;var B=d.context,$=a.contextType;v=ts,typeof $=="object"&&$!==null&&(v=$e($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&np(n,d,o,v),ir=!1;var H=n.memoizedState;d.state=H,wl(n,o,d,f),bl(),B=n.memoizedState,T||H!==B||ir?(typeof Z=="function"&&(eh(n,a,Z,o),B=n.memoizedState),(C=ir||ep(n,a,C,o,H,B,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),d.props=o,d.state=B,d.context=v,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Mf(e,n),v=n.memoizedProps,$=_a(a,v),d.props=$,Z=n.pendingProps,H=d.context,B=a.contextType,C=ts,typeof B=="object"&&B!==null&&(C=$e(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&np(n,d,o,C),ir=!1,H=n.memoizedState,d.state=H,wl(n,o,d,f),bl();var q=n.memoizedState;v!==Z||H!==q||ir||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof T=="function"&&(eh(n,a,T,o),q=n.memoizedState),($=ir||ep(n,a,$,o,H,q,C)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=C,o=$):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Du(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=cs(n,e.child,null,f),n.child=cs(n,null,a,f)):ke(e,n,a,f),n.memoizedState=d.state,e=n.child):e=Li(e,n,f),e}function yp(e,n,a,o){return pl(),n.flags|=256,ke(e,n,a,o),n.child}var ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sh(e){return{baseLanes:e,cachePool:rg()}}function lh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Vn),e}function _p(e,n,a){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(f?lr(n):or(),Bt){var T=oe,C;if(C=T){t:{for(C=T,T=ni;C.nodeType!==8;){if(!T){T=null;break t}if(C=kn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ca!==null?{id:Vi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},C=hn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,nn=n,oe=null,C=!0):C=!1}C||da(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Gh(T)?n.lanes=32:n.lanes=536870912,null;Pi(n)}return T=o.children,o=o.fallback,f?(or(),f=n.mode,T=Iu({mode:"hidden",children:T},f),o=ua(o,f,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,f=n.child,f.memoizedState=sh(a),f.childLanes=lh(e,v,a),n.memoizedState=ah,o):(lr(n),oh(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(lr(n),n.flags&=-257,n=uh(e,n,a)):n.memoizedState!==null?(or(),n.child=e.child,n.flags|=128,n=null):(or(),f=o.fallback,T=n.mode,o=Iu({mode:"visible",children:o.children},T),f=ua(f,T,a,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,cs(n,e.child,null,a),o=n.child,o.memoizedState=sh(a),o.childLanes=lh(e,v,a),n.memoizedState=ah,n=f);else if(lr(n),Gh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(s(419)),o.stack="",o.digest=v,yl({value:o,source:null,stack:null}),n=uh(e,n,a)}else if(Ne||_l(e,n,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Jt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ki(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,Wa(e,o),yn(v,e,o),up;T.data==="$?"||Ch(),n=uh(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,oe=kn(T.nextSibling),nn=n,Bt=!0,ha=null,ni=!1,e!==null&&(Cn[Dn++]=Vi,Cn[Dn++]=Oi,Cn[Dn++]=ca,Vi=e.id,Oi=e.overflow,ca=n),n=oh(n,o.children),n.flags|=4096);return n}return f?(or(),f=o.fallback,T=n.mode,C=e.child,B=C.sibling,o=Ii(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,B!==null?f=Ii(B,f):(f=ua(f,T,a,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,T=e.child.memoizedState,T===null?T=sh(a):(C=T.cachePool,C!==null?(B=we._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=rg(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=lh(e,v,a),n.memoizedState=ah,o):(lr(n),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function oh(e,n){return n=Iu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Iu(e,n){return e=hn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function uh(e,n,a){return cs(n,e.child,null,a),e=oh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Cf(e.return,n,a)}function ch(e,n,a,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=f)}function Ep(e,n,a){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(ke(e,n,o.children,a),o=Re.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,a,n);else if(e.tag===19)vp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(it(Re,o),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&wu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),ch(n,!1,f,a,d);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&wu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}ch(n,!0,a,null,d);break;case"together":ch(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Li(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),dr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_l(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ii(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function fh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function nT(e,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),nr(n,we,e.memoizedState.cache),pl();break;case 27:case 5:$i(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(lr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_p(e,n,a):(lr(n),e=Li(e,n,a),e!==null?e.sibling:null);lr(n);break;case 19:var f=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(_l(e,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return Ep(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Re,Re.current),o)break;return null;case 22:case 23:return n.lanes=0,dp(e,n,a);case 24:nr(n,we,e.memoizedState.cache)}return Li(e,n,a)}function Tp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!fh(e,a)&&(n.flags&128)===0)return Ne=!1,nT(e,n,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&Zm(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Ef(o)?(e=_a(o,e),n.tag=1,n=pp(null,n,o,e,a)):(n.tag=0,n=rh(null,n,o,e,a));else{if(o!=null){if(f=o.$$typeof,f===ut){n.tag=11,n=cp(null,n,o,e,a);break t}else if(f===O){n.tag=14,n=fp(null,n,o,e,a);break t}}throw n=Le(o)||o,Error(s(306,n,""))}}return n;case 0:return rh(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=_a(o,n.pendingProps),pp(e,n,o,f,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,Mf(e,n),wl(n,o,null,a);var v=n.memoizedState;if(o=v.cache,nr(n,we,o),o!==d.cache&&Df(n,[we],a,!0),bl(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=yp(e,n,o,a);break t}else if(o!==f){f=wn(Error(s(424)),n),yl(f),n=yp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=kn(e.firstChild),nn=n,Bt=!0,ha=null,ni=!0,a=Wg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pl(),o===f){n=Li(e,n,a);break t}ke(e,n,o,a)}n=n.child}return n;case 26:return Du(e,n),e===null?(a=wy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=qu(Tt.current).createElement(a),o[Se]=n,o[pe]=e,je(o,a,e),fe(o),n.stateNode=o):n.memoizedState=wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $i(n),e===null&&Bt&&(o=n.stateNode=Sy(n.type,n.pendingProps,Tt.current),nn=n,ni=!0,f=oe,yr(n.type)?(Fh=f,oe=kn(o.firstChild)):oe=f),ke(e,n,n.pendingProps.children,a),Du(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((f=o=oe)&&(o=VT(o,n.type,n.pendingProps,ni),o!==null?(n.stateNode=o,nn=n,oe=kn(o.firstChild),ni=!1,f=!0):f=!1),f||da(n)),$i(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,jh(f,d)?o=null:v!==null&&jh(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=Bf(e,n,$E,null,null,a),Yl._currentValue=f),Du(e,n),ke(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=OT(a,n.pendingProps,ni),a!==null?(n.stateNode=a,nn=n,oe=null,e=!0):e=!1),e||da(n)),null;case 13:return _p(e,n,a);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=cs(n,null,o,a):ke(e,n,o,a),n.child;case 11:return cp(e,n,n.type,n.pendingProps,a);case 7:return ke(e,n,n.pendingProps,a),n.child;case 8:return ke(e,n,n.pendingProps.children,a),n.child;case 12:return ke(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,nr(n,n.type,o.value),ke(e,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,ga(n),f=$e(f),o=o(f),n.flags|=1,ke(e,n,o,a),n.child;case 14:return fp(e,n,n.type,n.pendingProps,a);case 15:return hp(e,n,n.type,n.pendingProps,a);case 19:return Ep(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Iu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ii(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return dp(e,n,a);case 24:return ga(n),o=$e(we),e===null?(f=Of(),f===null&&(f=Jt,d=If(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:o,cache:f},xf(n),nr(n,we,f)):((e.lanes&a)!==0&&(Mf(e,n),wl(n,null,null,a),bl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),nr(n,we,o)):(o=d.cache,nr(n,we,o),o!==f.cache&&Df(n,[we],a,!0))),ke(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(e){e.flags|=4}function Sp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vy(n)){if(n=In.current,n!==null&&((Pt&4194048)===Pt?ii!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==ii))throw Sl=Nf,ag;e.flags|=8192}}function Vu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ks():536870912,e.lanes|=n,ms|=n)}function Nl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function iT(e,n,a){var o=n.pendingProps;switch(bf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(we),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gl(n)?Ui(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tg())),ie(n),null;case 26:return a=n.memoizedState,e===null?(Ui(n),a!==null?(ie(n),Sp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ui(n),ie(n),Sp(n,a)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ui(n),ie(n),n.flags&=-16777217),null;case 27:pi(n),a=Tt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ui(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=mt.current,gl(n)?Jm(n):(e=Sy(f,o,a),n.stateNode=e,Ui(n))}return ie(n),null;case 5:if(pi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ui(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(e=mt.current,gl(n))Jm(n);else{switch(f=qu(Tt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}e[Se]=n,e[pe]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(je(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ui(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Tt.current,gl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,f=nn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||gy(e.nodeValue,a)),e||da(n)}else e=qu(e).createTextNode(o),e[Se]=n,n.stateNode=e}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=gl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Se]=n}else pl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),f=!1}else f=tg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Pi(n),n):(Pi(n),null)}if(Pi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Vu(n,n.updateQueue),ie(n),null;case 4:return Gn(),e===null&&Lh(n.stateNode.containerInfo),ie(n),null;case 10:return xi(n.type),ie(n),null;case 19:if(lt(Re),f=n.memoizedState,f===null)return ie(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Nl(f,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=wu(e),d!==null){for(n.flags|=128,Nl(f,!1),e=d.updateQueue,n.updateQueue=e,Vu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Xm(a,e),a=a.sibling;return it(Re,Re.current&1|2),n.child}e=e.sibling}f.tail!==null&&vn()>xu&&(n.flags|=128,o=!0,Nl(f,!1),n.lanes=4194304)}else{if(!o)if(e=wu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Vu(n,e),Nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Bt)return ie(n),null}else 2*vn()-f.renderingStartTime>xu&&a!==536870912&&(n.flags|=128,o=!0,Nl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=vn(),n.sibling=null,e=Re.current,it(Re,o?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Pi(n),zf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Vu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&lt(pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xi(we),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function rT(e,n){switch(bf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(we),Gn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return pi(n),null;case 13:if(Pi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(Re),null;case 4:return Gn(),null;case 10:return xi(n.type),null;case 22:case 23:return Pi(n),zf(),e!==null&&lt(pa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(we),null;case 25:return null;default:return null}}function Ap(e,n){switch(bf(n),n.tag){case 3:xi(we),Gn();break;case 26:case 27:case 5:pi(n);break;case 4:Gn();break;case 13:Pi(n);break;case 19:lt(Re);break;case 10:xi(n.type);break;case 22:case 23:Pi(n),zf(),e!==null&&lt(pa);break;case 24:xi(we)}}function xl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==f)}}catch(T){Xt(n,n.return,T)}}function ur(e,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var C=a,B=T;try{B()}catch($){Xt(f,C,$)}}}o=o.next}while(o!==d)}}catch($){Xt(n,n.return,$)}}function bp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{fg(n,a)}catch(o){Xt(e,e.return,o)}}}function wp(e,n,a){a.props=_a(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Ml(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(f){Xt(e,n,f)}}function ri(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Xt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(e,n,f)}else a.current=null}function Rp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Xt(e,e.return,f)}}function hh(e,n,a){try{var o=e.stateNode;wT(o,e.type,a,n),o[pe]=n}catch(f){Xt(e,e.return,f)}}function Cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function dh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hu));else if(o!==4&&(o===27&&yr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(mh(e,n,a),e=e.sibling;e!==null;)mh(e,n,a),e=e.sibling}function Ou(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ou(e,n,a),e=e.sibling;e!==null;)Ou(e,n,a),e=e.sibling}function Dp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);je(n,o,a),n[Se]=e,n[pe]=a}catch(d){Xt(e,e.return,d)}}var zi=!1,de=!1,gh=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,xe=null;function aT(e,n){if(e=e.containerInfo,kh=Ku,e=Bm(e),df(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,B=0,$=0,Z=e,H=null;e:for(;;){for(var q;Z!==a||f!==0&&Z.nodeType!==3||(T=v+f),Z!==d||o!==0&&Z.nodeType!==3||(C=v+o),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)H=Z,Z=q;for(;;){if(Z===e)break e;if(H===a&&++B===f&&(T=v),H===d&&++$===o&&(C=v),(q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bh={focusedElem:e,selectionRange:a},Ku=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Et=_a(a.type,f,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Et,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Xt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)qh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function Vp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),o&4&&xl(5,a);break;case 1:if(cr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var f=_a(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}o&64&&bp(a),o&512&&Ml(a,a.return);break;case 3:if(cr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fg(e,n)}catch(v){Xt(a,a.return,v)}}break;case 27:n===null&&o&4&&Dp(a);case 26:case 5:cr(e,a),n===null&&o&4&&Rp(a),o&512&&Ml(a,a.return);break;case 12:cr(e,a);break;case 13:cr(e,a),o&4&&xp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=mT.bind(null,a),NT(e,a))));break;case 22:if(o=a.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||de,f=zi;var d=de;zi=o,(de=n)&&!d?fr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),zi=f,de=d}break;case 30:break;default:cr(e,a)}}function Op(e){var n=e.alternate;n!==null&&(e.alternate=null,Op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ji(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,an=!1;function ki(e,n,a){for(a=a.child;a!==null;)Np(e,n,a),a=a.sibling}function Np(e,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:de||ri(a,n),ki(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ri(a,n);var o=ne,f=an;yr(a.type)&&(ne=a.stateNode,an=!1),ki(e,n,a),ql(a.stateNode),ne=o,an=f;break;case 5:de||ri(a,n);case 6:if(o=ne,f=an,ne=null,ki(e,n,a),ne=o,an=f,ne!==null)if(an)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){Xt(a,n,d)}else try{ne.removeChild(a.stateNode)}catch(d){Xt(a,n,d)}break;case 18:ne!==null&&(an?(e=ne,Ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zl(e)):Ey(ne,a.stateNode));break;case 4:o=ne,f=an,ne=a.stateNode.containerInfo,an=!0,ki(e,n,a),ne=o,an=f;break;case 0:case 11:case 14:case 15:de||ur(2,a,n),de||ur(4,a,n),ki(e,n,a);break;case 1:de||(ri(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wp(a,n,o)),ki(e,n,a);break;case 21:ki(e,n,a);break;case 22:de=(o=de)||a.memoizedState!==null,ki(e,n,a),de=o;break;default:ki(e,n,a)}}function xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zl(e)}catch(a){Xt(n,n.return,a)}}function sT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ip),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ip),n;default:throw Error(s(435,e.tag))}}function ph(e,n){var a=sT(e);n.forEach(function(o){var f=gT.bind(null,e,o);a.has(o)||(a.add(o),o.then(f,f))})}function dn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(yr(T.type)){ne=T.stateNode,an=!1;break t}break;case 5:ne=T.stateNode,an=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Np(d,v,f),ne=null,an=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Mp(n,e),n=n.sibling}var zn=null;function Mp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),o&4&&(ur(3,e,e.return),xl(3,e),ur(5,e,e.return));break;case 1:dn(n,e),mn(e),o&512&&(de||a===null||ri(a,a.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=zn;if(dn(n,e),mn(e),o&512&&(de||a===null||ri(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Yr]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),je(d,o,a),d[Se]=e,fe(d),o=d;break t;case"link":var v=Dy("link","href",f).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(o),je(d,o,a),f.head.appendChild(d);break;case"meta":if(v=Dy("meta","content",f).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=f.createElement(o),je(d,o,a),f.head.appendChild(d);break;default:throw Error(s(468,o))}d[Se]=e,fe(d),o=d}e.stateNode=o}else Iy(f,e.type,e.stateNode);else e.stateNode=Cy(f,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Iy(f,e.type,e.stateNode):Cy(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&hh(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(n,e),mn(e),o&512&&(de||a===null||ri(a,a.return)),a!==null&&o&4&&hh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,e),mn(e),o&512&&(de||a===null||ri(a,a.return)),e.flags&32){f=e.stateNode;try{Tn(f,"")}catch(q){Xt(e,e.return,q)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,hh(e,f,a!==null?a.memoizedProps:f)),o&1024&&(gh=!0);break;case 6:if(dn(n,e),mn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(q){Xt(e,e.return,q)}}break;case 3:if(Qu=null,f=zn,zn=Gu(n.containerInfo),dn(n,e),zn=f,mn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(n.containerInfo)}catch(q){Xt(e,e.return,q)}gh&&(gh=!1,Pp(e));break;case 4:o=zn,zn=Gu(e.stateNode.containerInfo),dn(n,e),mn(e),zn=o;break;case 12:dn(n,e),mn(e);break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sh=vn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ph(e,o)));break;case 22:f=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=zi,$=de;if(zi=B||f,de=$||C,dn(n,e),de=$,zi=B,mn(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||C||zi||de||va(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){Xt(C,C.return,q)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(q){Xt(C,C.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ph(e,a))));break;case 19:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ph(e,o)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Cp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=dh(e);Ou(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=dh(e);Ou(e,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,B=dh(e);mh(e,B,C);break;default:throw Error(s(161))}}catch($){Xt(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vp(e,n.alternate,n),n=n.sibling}function va(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ur(4,n,n.return),va(n);break;case 1:ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wp(n,n.return,a),va(n);break;case 27:ql(n.stateNode);case 26:case 5:ri(n,n.return),va(n);break;case 22:n.memoizedState===null&&va(n);break;case 30:va(n);break;default:va(n)}e=e.sibling}}function fr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:fr(f,d,a),xl(4,d);break;case 1:if(fr(f,d,a),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xt(o,o.return,B)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)cg(C[f],T)}catch(B){Xt(o,o.return,B)}}a&&v&64&&bp(d),Ml(d,d.return);break;case 27:Dp(d);case 26:case 5:fr(f,d,a),a&&o===null&&v&4&&Rp(d),Ml(d,d.return);break;case 12:fr(f,d,a);break;case 13:fr(f,d,a),a&&v&4&&xp(f,d);break;case 22:d.memoizedState===null&&fr(f,d,a),Ml(d,d.return);break;case 30:break;default:fr(f,d,a)}n=n.sibling}}function yh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vl(a))}function _h(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e))}function ai(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lp(e,n,a,o),n=n.sibling}function Lp(e,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n,a,o),f&2048&&xl(9,n);break;case 1:ai(e,n,a,o);break;case 3:ai(e,n,a,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e)));break;case 12:if(f&2048){ai(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(n,n.return,C)}}else ai(e,n,a,o);break;case 13:ai(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ai(e,n,a,o):Pl(e,n):d._visibility&2?ai(e,n,a,o):(d._visibility|=2,fs(e,n,a,o,(n.subtreeFlags&10256)!==0)),f&2048&&yh(v,n);break;case 24:ai(e,n,a,o),f&2048&&_h(n.alternate,n);break;default:ai(e,n,a,o)}}function fs(e,n,a,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=a,C=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:fs(d,v,T,C,f),xl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?fs(d,v,T,C,f):Pl(d,v):($._visibility|=2,fs(d,v,T,C,f)),f&&B&2048&&yh(v.alternate,v);break;case 24:fs(d,v,T,C,f),f&&B&2048&&_h(v.alternate,v);break;default:fs(d,v,T,C,f)}n=n.sibling}}function Pl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,f=o.flags;switch(o.tag){case 22:Pl(a,o),f&2048&&yh(o.alternate,o);break;case 24:Pl(a,o),f&2048&&_h(o.alternate,o);break;default:Pl(a,o)}n=n.sibling}}var Ll=8192;function hs(e){if(e.subtreeFlags&Ll)for(e=e.child;e!==null;)Up(e),e=e.sibling}function Up(e){switch(e.tag){case 26:hs(e),e.flags&Ll&&e.memoizedState!==null&&FT(zn,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var n=zn;zn=Gu(e.stateNode.containerInfo),hs(e),zn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ll,Ll=16777216,hs(e),Ll=n):hs(e));break;default:hs(e)}}function zp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xe=o,Bp(o,e)}zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kp(e),e=e.sibling}function kp(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&ur(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Nu(e)):Ul(e);break;default:Ul(e)}}function Nu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xe=o,Bp(o,e)}zp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ur(8,n,n.return),Nu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Nu(n));break;default:Nu(n)}e=e.sibling}}function Bp(e,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ur(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:vl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,xe=o;else t:for(a=e;xe!==null;){o=xe;var f=o.sibling,d=o.return;if(Op(o),o===a){xe=null;break t}if(f!==null){f.return=d,xe=f;break t}xe=d}}}var lT={getCacheForType:function(e){var n=$e(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},oT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Vt=null,Pt=0,Ft=0,gn=null,hr=!1,ds=!1,vh=!1,Bi=0,ue=0,dr=0,Ea=0,Eh=0,Vn=0,ms=0,zl=null,sn=null,Th=!1,Sh=0,xu=1/0,Mu=null,mr=null,Be=0,gr=null,gs=null,ps=0,Ah=0,bh=null,jp=null,kl=0,wh=null;function pn(){if((Gt&2)!==0&&Pt!==0)return Pt&-Pt;if(Y.T!==null){var e=is;return e!==0?e:Nh()}return Xi()}function Hp(){Vn===0&&(Vn=(Pt&536870912)===0||Bt?$s():536870912);var e=In.current;return e!==null&&(e.flags|=32),Vn}function yn(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(ys(e,0),pr(e,Pt,Vn,!1)),_i(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(Ea|=a),ue===4&&pr(e,Pt,Vn,!1)),si(e))}function qp(e,n,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Qr(e,n),f=o?fT(e,n):Dh(e,n,!0),d=o;do{if(f===0){ds&&!o&&pr(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!uT(a)){f=Dh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;f=zl;var C=T.current.memoizedState.isDehydrated;if(C&&(ys(T,v).flags|=256),v=Dh(T,v,!1),v!==2){if(vh&&!C){T.errorRecoveryDisabledLanes|=d,Ea|=d,f=4;break t}d=sn,sn=f,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){ys(e,0),pr(e,n,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pr(o,n,Vn,!hr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Sh+300-vn(),10<f)){if(pr(o,n,Vn,!hr),Ma(o,0,!0)!==0)break t;o.timeoutHandle=_y(Gp.bind(null,o,a,sn,Mu,Th,n,Vn,Ea,ms,hr,d,2,-0,0),f);break t}Gp(o,a,sn,Mu,Th,n,Vn,Ea,ms,hr,d,0,-0,0)}}break}while(!0);si(e)}function Gp(e,n,a,o,f,d,v,T,C,B,$,Z,H,q){if(e.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:GT},Up(n),Z=QT(),Z!==null)){e.cancelPendingCommit=Z(Zp.bind(null,e,n,d,a,o,f,v,T,C,$,1,H,q)),pr(e,d,v,!B);return}Zp(e,n,d,a,o,f,v,T,C)}function uT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],d=f.getSnapshot;f=f.value;try{if(!fn(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pr(e,n,a,o){n&=~Eh,n&=~Ea,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-Ye(f),v=1<<d;o[d]=-1,f&=~v}a!==0&&Fn(e,a,n)}function Pu(){return(Gt&6)===0?(Bl(0),!1):!0}function Rh(){if(Vt!==null){if(Ft===0)var e=Vt.return;else e=Vt,Ni=ma=null,qf(e),us=null,Vl=0,e=Vt;for(;e!==null;)Ap(e.alternate,e),e=e.return;Vt=null}}function ys(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,CT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Rh(),Jt=e,Vt=a=Ii(e.current,null),Pt=n,Ft=0,gn=null,hr=!1,ds=Qr(e,n),vh=!1,ms=Vn=Eh=Ea=dr=ue=0,sn=zl=null,Th=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Ye(o),d=1<<f;n|=e[f],o&=~d}return Bi=n,iu(),a}function Fp(e,n){wt=null,Y.H=Su,n===Tl||n===hu?(n=og(),Ft=3):n===ag?(n=og(),Ft=4):Ft=n===up?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Vt===null&&(ue=1,Cu(e,wn(n,e.current)))}function Qp(){var e=Y.H;return Y.H=Su,e===null?Su:e}function Yp(){var e=Y.A;return Y.A=lT,e}function Ch(){ue=4,hr||(Pt&4194048)!==Pt&&In.current!==null||(ds=!0),(dr&134217727)===0&&(Ea&134217727)===0||Jt===null||pr(Jt,Pt,Vn,!1)}function Dh(e,n,a){var o=Gt;Gt|=2;var f=Qp(),d=Yp();(Jt!==e||Pt!==n)&&(Mu=null,ys(e,n)),n=!1;var v=ue;t:do try{if(Ft!==0&&Vt!==null){var T=Vt,C=gn;switch(Ft){case 8:Rh(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var B=Ft;if(Ft=0,gn=null,_s(e,T,C,B),a&&ds){v=0;break t}break;default:B=Ft,Ft=0,gn=null,_s(e,T,C,B)}}cT(),v=ue;break}catch($){Fp(e,$)}while(!0);return n&&e.shellSuspendCounter++,Ni=ma=null,Gt=o,Y.H=f,Y.A=d,Vt===null&&(Jt=null,Pt=0,iu()),v}function cT(){for(;Vt!==null;)$p(Vt)}function fT(e,n){var a=Gt;Gt|=2;var o=Qp(),f=Yp();Jt!==e||Pt!==n?(Mu=null,xu=vn()+500,ys(e,n)):ds=Qr(e,n);t:do try{if(Ft!==0&&Vt!==null){n=Vt;var d=gn;e:switch(Ft){case 1:Ft=0,gn=null,_s(e,n,d,1);break;case 2:case 9:if(sg(d)){Ft=0,gn=null,Kp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),si(e)},d.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:sg(d)?(Ft=0,gn=null,Kp(n)):(Ft=0,gn=null,_s(e,n,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var T=Vt;if(!v||Vy(v)){Ft=0,gn=null;var C=T.sibling;if(C!==null)Vt=C;else{var B=T.return;B!==null?(Vt=B,Lu(B)):Vt=null}break e}}Ft=0,gn=null,_s(e,n,d,5);break;case 6:Ft=0,gn=null,_s(e,n,d,6);break;case 8:Rh(),ue=6;break t;default:throw Error(s(462))}}hT();break}catch($){Fp(e,$)}while(!0);return Ni=ma=null,Y.H=o,Y.A=f,Gt=a,Vt!==null?0:(Jt=null,Pt=0,iu(),ue)}function hT(){for(;Vt!==null&&!Gs();)$p(Vt)}function $p(e){var n=Tp(e.alternate,e,Bi);e.memoizedProps=e.pendingProps,n===null?Lu(e):Vt=n}function Kp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gp(a,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=gp(a,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:qf(n);default:Ap(a,n),n=Vt=Xm(n,Bi),n=Tp(a,n,Bi)}e.memoizedProps=e.pendingProps,n===null?Lu(e):Vt=n}function _s(e,n,a,o){Ni=ma=null,qf(n),us=null,Vl=0;var f=n.return;try{if(eT(e,f,n,a,Pt)){ue=1,Cu(e,wn(a,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;ue=1,Cu(e,wn(a,e.current)),Vt=null;return}n.flags&32768?(Bt||o===1?e=!0:ds||(Pt&536870912)!==0?e=!1:(hr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xp(n,e)):Lu(n)}function Lu(e){var n=e;do{if((n.flags&32768)!==0){Xp(n,hr);return}e=n.return;var a=iT(n.alternate,n,Bi);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);ue===0&&(ue=5)}function Xp(e,n){do{var a=rT(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);ue=6,Vt=null}function Zp(e,n,a,o,f,d,v,T,C){e.cancelPendingCommit=null;do Uu();while(Be!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=_f,Xs(e,a,d,v,T,C),e===Jt&&(Vt=Jt=null,Pt=0),gs=n,gr=e,ps=a,Ah=d,bh=f,jp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pT(Hr,function(){return ny(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,f=st.p,st.p=2,v=Gt,Gt|=4;try{aT(e,n,a)}finally{Gt=v,st.p=f,Y.T=o}}Be=1,Jp(),Wp(),ty()}}function Jp(){if(Be===1){Be=0;var e=gr,n=gs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=st.p;st.p=2;var f=Gt;Gt|=4;try{Mp(n,e);var d=Bh,v=Bm(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&km(T.ownerDocument.documentElement,T)){if(C!==null&&df(T)){var B=C.start,$=C.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var q=H.getSelection(),Et=T.textContent.length,yt=Math.min(C.start,Et),Kt=C.end===void 0?yt:Math.min(C.end,Et);!q.extend&&yt>Kt&&(v=Kt,Kt=yt,yt=v);var L=zm(T,yt),x=zm(T,Kt);if(L&&x&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var k=Z.createRange();k.setStart(L.node,L.offset),q.removeAllRanges(),yt>Kt?(q.addRange(k),q.extend(x.node,x.offset)):(k.setEnd(x.node,x.offset),q.addRange(k))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var K=Z[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ku=!!kh,Bh=kh=null}finally{Gt=f,st.p=o,Y.T=a}}e.current=n,Be=2}}function Wp(){if(Be===2){Be=0;var e=gr,n=gs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=st.p;st.p=2;var f=Gt;Gt|=4;try{Vp(e,n.alternate,n)}finally{Gt=f,st.p=o,Y.T=a}}Be=3}}function ty(){if(Be===4||Be===3){Be=0,No();var e=gr,n=gs,a=ps,o=jp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,gs=gr=null,ey(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(mr=null),Pa(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Y.T,f=st.p,st.p=2,Y.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=n,st.p=f}}(ps&3)!==0&&Uu(),si(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===wh?kl++:(kl=0,wh=e):kl=0,Bl(0)}}function ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,vl(n)))}function Uu(e){return Jp(),Wp(),ty(),ny()}function ny(){if(Be!==5)return!1;var e=gr,n=Ah;Ah=0;var a=Pa(ps),o=Y.T,f=st.p;try{st.p=32>a?32:a,Y.T=null,a=bh,bh=null;var d=gr,v=ps;if(Be=0,gs=gr=null,ps=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,kp(d.current),Lp(d,d.current,v,a),Gt=T,Bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{st.p=f,Y.T=o,ey(e,n)}}function iy(e,n,a){n=wn(a,n),n=ih(e.stateNode,n,2),e=ar(e,n,2),e!==null&&(_i(e,2),si(e))}function Xt(e,n,a){if(e.tag===3)iy(e,e,a);else for(;n!==null;){if(n.tag===3){iy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(mr===null||!mr.has(o))){e=wn(a,e),a=lp(2),o=ar(n,a,2),o!==null&&(op(a,o,n,e),_i(o,2),si(o));break}}n=n.return}}function Ih(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new oT;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(vh=!0,f.add(a),e=dT.bind(null,e,n,a),n.then(e,e))}function dT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Pt&a)===a&&(ue===4||ue===3&&(Pt&62914560)===Pt&&300>vn()-Sh?(Gt&2)===0&&ys(e,0):Eh|=a,ms===Pt&&(ms=0)),si(e)}function ry(e,n){n===0&&(n=Ks()),e=Wa(e,n),e!==null&&(_i(e,n),si(e))}function mT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ry(e,a)}function gT(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),ry(e,a)}function pT(e,n){return Br(e,n)}var zu=null,vs=null,Vh=!1,ku=!1,Oh=!1,Ta=0;function si(e){e!==vs&&e.next===null&&(vs===null?zu=vs=e:vs=vs.next=e),ku=!0,Vh||(Vh=!0,_T())}function Bl(e,n){if(!Oh&&ku){Oh=!0;do for(var a=!1,o=zu;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Ye(42|e)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,oy(o,d))}else d=Pt,d=Ma(o,o===Jt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Qr(o,d)||(a=!0,oy(o,d));o=o.next}while(a);Oh=!1}}function yT(){ay()}function ay(){ku=Vh=!1;var e=0;Ta!==0&&(RT()&&(e=Ta),Ta=0);for(var n=vn(),a=null,o=zu;o!==null;){var f=o.next,d=sy(o,n);d===0?(o.next=null,a===null?zu=f:a.next=f,f===null&&(vs=a)):(a=o,(e!==0||(d&3)!==0)&&(ku=!0)),o=f}Bl(e)}function sy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ye(d),T=1<<v,C=f[v];C===-1?((T&a)===0||(T&o)!==0)&&(f[v]=Ys(T,n)):C<=n&&(e.expiredLanes|=T),d&=~T}if(n=Jt,a=Pt,a=Ma(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&jr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&jr(o),Pa(a)){case 2:case 8:a=Na;break;case 32:a=Hr;break;case 268435456:a=xa;break;default:a=Hr}return o=ly.bind(null,e),a=Br(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&jr(o),e.callbackPriority=2,e.callbackNode=null,2}function ly(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uu()&&e.callbackNode!==a)return null;var o=Pt;return o=Ma(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qp(e,o,n),sy(e,vn()),e.callbackNode!=null&&e.callbackNode===a?ly.bind(null,e):null)}function oy(e,n){if(Uu())return null;qp(e,n,!0)}function _T(){DT(function(){(Gt&6)!==0?Br(Fs,yT):ay()})}function Nh(){return Ta===0&&(Ta=$s()),Ta}function uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ja(""+e)}function cy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function vT(e,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var d=uy((f[pe]||null).action),v=o.submitter;v&&(n=(n=v[pe]||null)?uy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Ha("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ta!==0){var C=v?cy(f,v):new FormData(f);Jf(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?cy(f,v):new FormData(f),Jf(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var xh=0;xh<yf.length;xh++){var Mh=yf[xh],ET=Mh.toLowerCase(),TT=Mh[0].toUpperCase()+Mh.slice(1);Un(ET,"on"+TT)}Un(qm,"onAnimationEnd"),Un(Gm,"onAnimationIteration"),Un(Fm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(zE,"onTransitionRun"),Un(kE,"onTransitionStart"),Un(BE,"onTransitionCancel"),Un(Qm,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function fy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=B;try{d(f)}catch($){Ru($)}f.currentTarget=null,d=C}else for(v=0;v<o.length;v++){if(T=o[v],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=B;try{d(f)}catch($){Ru($)}f.currentTarget=null,d=C}}}}function Ot(e,n){var a=n[Js];a===void 0&&(a=n[Js]=new Set);var o=e+"__bubble";a.has(o)||(hy(n,e,2,!1),a.add(o))}function Ph(e,n,a){var o=0;n&&(o|=4),hy(a,e,o,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Lh(e){if(!e[Bu]){e[Bu]=!0,Ws.forEach(function(a){a!=="selectionchange"&&(ST.has(a)||Ph(a,!1,e),Ph(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,Ph("selectionchange",!1,n))}}function hy(e,n,a,o){switch(Ly(n)){case 2:var f=KT;break;case 8:f=XT;break;default:f=Xh}a=f.bind(null,n,a,e),f=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Uh(e,n,a,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=vi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=d=v;continue t}T=T.parentNode}}o=o.return}Ho(function(){var B=d,$=Sn(a),Z=[];t:{var H=Ym.get(e);if(H!==void 0){var q=Ha,Et=e;switch(e){case"keypress":if(Zn(a)===0)break t;case"keydown":case"keyup":q=$a;break;case"focusin":Et="focus",q=Fa;break;case"focusout":Et="blur",q=Fa;break;case"beforeblur":case"afterblur":q=Fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Xo;break;case qm:case Gm:case Fm:q=Qa;break;case Qm:q=Jo;break;case"scroll":case"scrollend":q=qo;break;case"wheel":q=Ka;break;case"copy":case"cut":case"paste":q=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=fl;break;case"toggle":case"beforetoggle":q=tu}var yt=(n&4)!==0,Kt=!yt&&(e==="scroll"||e==="scrollend"),L=yt?H!==null?H+"Capture":null:H;yt=[];for(var x=B,k;x!==null;){var K=x;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||L===null||(K=ta(x,L),K!=null&&yt.push(Hl(x,K,k))),Kt)break;x=x.return}0<yt.length&&(H=new q(H,Et,null,a,$),Z.push({event:H,listeners:yt}))}}if((n&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",H&&a!==Ai&&(Et=a.relatedTarget||a.fromElement)&&(vi(Et)||Et[En]))break t;if((q||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Et=a.relatedTarget||a.toElement,q=B,Et=Et?vi(Et):null,Et!==null&&(Kt=u(Et),yt=Et.tag,Et!==Kt||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(q=null,Et=B),q!==Et)){if(yt=bn,K="onMouseLeave",L="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(yt=fl,K="onPointerLeave",L="onPointerEnter",x="pointer"),Kt=q==null?H:Yn(q),k=Et==null?H:Yn(Et),H=new yt(K,x+"leave",q,a,$),H.target=Kt,H.relatedTarget=k,K=null,vi($)===B&&(yt=new yt(L,x+"enter",Et,a,$),yt.target=k,yt.relatedTarget=Kt,K=yt),Kt=K,q&&Et)e:{for(yt=q,L=Et,x=0,k=yt;k;k=Es(k))x++;for(k=0,K=L;K;K=Es(K))k++;for(;0<x-k;)yt=Es(yt),x--;for(;0<k-x;)L=Es(L),k--;for(;x--;){if(yt===L||L!==null&&yt===L.alternate)break e;yt=Es(yt),L=Es(L)}yt=null}else yt=null;q!==null&&dy(Z,H,q,yt,!1),Et!==null&&Kt!==null&&dy(Z,Kt,Et,yt,!0)}}t:{if(H=B?Yn(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ct=Nm;else if(be(H))if(xm)ct=PE;else{ct=xE;var Dt=NE}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&rl(B.elementType)&&(ct=Nm):ct=ME;if(ct&&(ct=ct(e,B))){Di(Z,ct,a,$);break t}Dt&&Dt(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&tr(H,"number",H.value)}switch(Dt=B?Yn(B):window,e){case"focusin":(be(Dt)||Dt.contentEditable==="true")&&(Xa=Dt,mf=B,ml=null);break;case"focusout":ml=mf=Xa=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,jm(Z,a,$);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":jm(Z,a,$)}var ht;if(ti)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else xt?Q(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(xt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&xt&&(ht=sl()):(Xn=$,er="value"in Xn?Xn.value:Xn.textContent,xt=!0)),Dt=ju(B,_t),0<Dt.length&&(_t=new ul(_t,e,null,a,$),Z.push({event:_t,listeners:Dt}),ht?_t.data=ht:(ht=rt(a),ht!==null&&(_t.data=ht)))),(ht=p?Ae(e,a):Mt(e,a))&&(_t=ju(B,"onBeforeInput"),0<_t.length&&(Dt=new ul("onBeforeInput","beforeinput",null,a,$),Z.push({event:Dt,listeners:_t}),Dt.data=ht)),vT(Z,e,B,a,$)}fy(Z,n)})}function Hl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ju(e,n){for(var a=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ta(e,a),f!=null&&o.unshift(Hl(e,f,d)),f=ta(e,n),f!=null&&o.push(Hl(e,f,d))),e.tag===3)return o;e=e.return}return[]}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dy(e,n,a,o,f){for(var d=n._reactName,v=[];a!==null&&a!==o;){var T=a,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||B===null||(C=B,f?(B=ta(a,d),B!=null&&v.unshift(Hl(a,B,C))):f||(B=ta(a,d),B!=null&&v.push(Hl(a,B,C)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var AT=/\r\n?/g,bT=/\u0000|\uFFFD/g;function my(e){return(typeof e=="string"?e:""+e).replace(AT,`
`).replace(bT,"")}function gy(e,n){return n=my(n),my(e)===n}function Hu(){}function $t(e,n,a,o,f,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Tn(e,""+o);break;case"className":$n(e,"class",o);break;case"tabIndex":$n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,o);break;case"style":il(e,o,d);break;case"data":if(n!=="object"){$n(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ja(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&$t(e,n,"name",f.name,f,null),$t(e,n,"formEncType",f.formEncType,f,null),$t(e,n,"formMethod",f.formMethod,f,null),$t(e,n,"formTarget",f.formTarget,f,null)):($t(e,n,"encType",f.encType,f,null),$t(e,n,"method",f.method,f,null),$t(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ja(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hu);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ja(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Wi(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lf.get(a)||a,Wi(e,a,o))}}function zh(e,n,a,o,f,d){switch(a){case"style":il(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&Tn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,f);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Wi(e,a,o)}}}function je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,d,v,a,null)}}f&&$t(e,n,"srcSet",a.srcSet,a,null),o&&$t(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=f=null,C=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":f=$;break;case"type":v=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$t(e,n,o,$,a,null)}}Zr(e,d,T,C,B,v,f,!1),Ba(e);return;case"select":Ot("invalid",e),o=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:$t(e,n,f,T,a,null)}n=d,a=v,e.multiple=!!o,n!=null?Si(e,!!o,n,!1):a!=null&&Si(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),d=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(e,n,v,T,a,null)}Jr(e,o,f,d),Ba(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,C,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<jl.length;o++)Ot(jl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,B,o,a,null)}return;default:if(rl(n)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&zh(e,n,$,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&$t(e,n,T,o,a,null))}function wT(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,C=null,B=null,$=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Z;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,Z)}}for(var H in o){var q=o[H];if(Z=a[H],o.hasOwnProperty(H)&&(q!=null||Z!=null))switch(H){case"type":d=q;break;case"name":f=q;break;case"checked":B=q;break;case"defaultChecked":$=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Z&&$t(e,n,H,q,o,Z)}}cn(e,v,T,C,B,$,d,f);return;case"select":q=v=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(d)||$t(e,n,d,null,o,C)}for(f in o)if(d=o[f],C=a[f],o.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&$t(e,n,f,d,o,C)}n=T,a=v,o=q,H!=null?Si(e,!!a,H,!1):!!o!=!!a&&(n!=null?Si(e,!!a,n,!0):Si(e,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(e,n,T,null,o,f)}for(v in o)if(f=o[v],d=a[v],o.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&$t(e,n,v,f,o,d)}Qt(e,H,q);return;case"option":for(var Et in a)if(H=a[Et],a.hasOwnProperty(Et)&&H!=null&&!o.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:$t(e,n,Et,null,o,H)}for(C in o)if(H=o[C],q=a[C],o.hasOwnProperty(C)&&H!==q&&(H!=null||q!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$t(e,n,C,H,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!=null&&!o.hasOwnProperty(yt)&&$t(e,n,yt,null,o,H);for(B in o)if(H=o[B],q=a[B],o.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:$t(e,n,B,H,o,q)}return;default:if(rl(n)){for(var Kt in a)H=a[Kt],a.hasOwnProperty(Kt)&&H!==void 0&&!o.hasOwnProperty(Kt)&&zh(e,n,Kt,void 0,o,H);for($ in o)H=o[$],q=a[$],!o.hasOwnProperty($)||H===q||H===void 0&&q===void 0||zh(e,n,$,H,o,q);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!o.hasOwnProperty(L)&&$t(e,n,L,null,o,H);for(Z in o)H=o[Z],q=a[Z],!o.hasOwnProperty(Z)||H===q||H==null&&q==null||$t(e,n,Z,H,o,q)}var kh=null,Bh=null;function qu(e){return e.nodeType===9?e:e.ownerDocument}function py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function RT(){var e=window.event;return e&&e.type==="popstate"?e===Hh?!1:(Hh=e,!0):(Hh=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,DT=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(e){return vy.resolve(null).then(e).catch(IT)}:_y;function IT(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function Ey(e,n){var a=n,o=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ql(v.documentElement),a&2&&ql(v.body),a&4)for(a=v.head,ql(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[Yr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){e.removeChild(d),Zl(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Zl(n)}function qh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qh(a),Ji(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function VT(e,n,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Yr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function OT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function Gh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function NT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Fh=null;function Ty(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Sy(e,n,a){switch(n=qu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ji(e)}var On=new Map,Ay=new Set;function Gu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=st.d;st.d={f:xT,r:MT,D:PT,C:LT,L:UT,m:zT,X:BT,S:kT,M:jT};function xT(){var e=ji.f(),n=Pu();return e||n}function MT(e){var n=Qn(e);n!==null&&n.tag===5&&n.type==="form"?qg(n):ji.r(e)}var Ts=typeof document>"u"?null:document;function by(e,n,a){var o=Ts;if(o&&typeof n=="string"&&n){var f=ye(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ay.has(f)||(Ay.add(f),e={rel:e,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),je(n,"link",e),fe(n),o.head.appendChild(n)))}}function PT(e){ji.D(e),by("dns-prefetch",e,null)}function LT(e,n){ji.C(e,n),by("preconnect",e,n)}function UT(e,n,a){ji.L(e,n,a);var o=Ts;if(o&&e&&n){var f='link[rel="preload"][as="'+ye(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ye(a.imageSizes)+'"]')):f+='[href="'+ye(e)+'"]';var d=f;switch(n){case"style":d=Ss(e);break;case"script":d=As(e)}On.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),On.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Gl(d))||n==="script"&&o.querySelector(Fl(d))||(n=o.createElement("link"),je(n,"link",e),fe(n),o.head.appendChild(n)))}}function zT(e,n){ji.m(e,n);var a=Ts;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ye(o)+'"][href="'+ye(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=As(e)}if(!On.has(d)&&(e=E({rel:"modulepreload",href:e},n),On.set(d,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}o=a.createElement("link"),je(o,"link",e),fe(o),a.head.appendChild(o)}}}function kT(e,n,a){ji.S(e,n,a);var o=Ts;if(o&&e){var f=We(o).hoistableStyles,d=Ss(e);n=n||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Gl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=On.get(d))&&Qh(e,a);var C=v=o.createElement("link");fe(C),je(C,"link",e),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function BT(e,n){ji.X(e,n);var a=Ts;if(a&&e){var o=We(a).hoistableScripts,f=As(e),d=o.get(f);d||(d=a.querySelector(Fl(f)),d||(e=E({src:e,async:!0},n),(n=On.get(f))&&Yh(e,n),d=a.createElement("script"),fe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function jT(e,n){ji.M(e,n);var a=Ts;if(a&&e){var o=We(a).hoistableScripts,f=As(e),d=o.get(f);d||(d=a.querySelector(Fl(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=On.get(f))&&Yh(e,n),d=a.createElement("script"),fe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function wy(e,n,a,o){var f=(f=Tt.current)?Gu(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ss(a.href),a=We(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ss(a.href);var d=We(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(Gl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),d||HT(f,e,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=We(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ss(e){return'href="'+ye(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function Ry(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function HT(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",a),fe(n),e.head.appendChild(n))}function As(e){return'[src="'+ye(e)+'"]'}function Fl(e){return"script[async]"+e}function Cy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(o)return n.instance=o,fe(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),je(o,"style",f),Fu(o,a.precedence,e),n.instance=o;case"stylesheet":f=Ss(a.href);var d=e.querySelector(Gl(f));if(d)return n.state.loading|=4,n.instance=d,fe(d),d;o=Ry(a),(f=On.get(f))&&Qh(o,f),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",o),n.state.loading|=4,Fu(d,a.precedence,e),n.instance=d;case"script":return d=As(a.src),(f=e.querySelector(Fl(d)))?(n.instance=f,fe(f),f):(o=a,(f=On.get(d))&&(o=E({},a),Yh(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),fe(f),je(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Fu(o,a.precedence,e));return n.instance}function Fu(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qu=null;function Dy(e,n,a){if(Qu===null){var o=new Map,f=Qu=new Map;f.set(a,o)}else f=Qu,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Yr]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Iy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function qT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function GT(){}function FT(e,n,a){if(Ql===null)throw Error(s(475));var o=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ss(a.href),d=e.querySelector(Gl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Yu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,fe(d);return}d=e.ownerDocument||e,a=Ry(a),(f=On.get(f))&&Qh(a,f),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Yu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function QT(){if(Ql===null)throw Error(s(475));var e=Ql;return e.stylesheets&&e.count===0&&$h(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&$h(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $u=null;function $h(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$u=new Map,n.forEach(YT,e),$u=null,Yu.call(e))}function YT(e,n){if(!(n.state.loading&4)){var a=$u.get(e);if(a)var o=a.get(null);else{a=new Map,$u.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=n.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,f),a.set(v,f),this.count++,o=Yu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Yl={$$typeof:W,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function $T(e,n,a,o,f,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Oy(e,n,a,o,f,d,v,T,C,B,$,Z){return e=new $T(e,n,a,v,T,C,B,Z),n=1,d===!0&&(n|=24),d=hn(3,null,null,n),e.current=d,d.stateNode=e,n=If(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},xf(d),e}function Ny(e){return e?(e=ts,e):ts}function xy(e,n,a,o,f,d){f=Ny(f),o.context===null?o.context=f:o.pendingContext=f,o=rr(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ar(e,o,n),a!==null&&(yn(a,e,n),Al(a,e,n))}function My(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Kh(e,n){My(e,n),(e=e.alternate)&&My(e,n)}function Py(e){if(e.tag===13){var n=Wa(e,67108864);n!==null&&yn(n,e,67108864),Kh(e,67108864)}}var Ku=!0;function KT(e,n,a,o){var f=Y.T;Y.T=null;var d=st.p;try{st.p=2,Xh(e,n,a,o)}finally{st.p=d,Y.T=f}}function XT(e,n,a,o){var f=Y.T;Y.T=null;var d=st.p;try{st.p=8,Xh(e,n,a,o)}finally{st.p=d,Y.T=f}}function Xh(e,n,a,o){if(Ku){var f=Zh(o);if(f===null)Uh(e,n,o,Xu,a),Uy(e,o);else if(JT(f,e,n,a,o))o.stopPropagation();else if(Uy(e,o),n&4&&-1<ZT.indexOf(e)){for(;f!==null;){var d=Qn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Ye(v);T.entanglements[1]|=C,v&=~C}si(d),(Gt&6)===0&&(xu=vn()+500,Bl(0))}}break;case 13:T=Wa(d,2),T!==null&&yn(T,d,2),Pu(),Kh(d,2)}if(d=Zh(o),d===null&&Uh(e,n,o,Xu,a),d===f)break;f=d}f!==null&&o.stopPropagation()}else Uh(e,n,o,null,a)}}function Zh(e){return e=Sn(e),Jh(e)}var Xu=null;function Jh(e){if(Xu=null,e=vi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xu=e,null}function Ly(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tf()){case Fs:return 2;case Na:return 8;case Hr:case ef:return 32;case xa:return 268435456;default:return 32}default:return 32}}var Wh=!1,_r=null,vr=null,Er=null,$l=new Map,Kl=new Map,Tr=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uy(e,n){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(e,n,a,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Qn(n),n!==null&&Py(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function JT(e,n,a,o,f){switch(n){case"focusin":return _r=Xl(_r,e,n,a,o,f),!0;case"dragenter":return vr=Xl(vr,e,n,a,o,f),!0;case"mouseover":return Er=Xl(Er,e,n,a,o,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Xl($l.get(d)||null,e,n,a,o,f)),!0;case"gotpointercapture":return d=f.pointerId,Kl.set(d,Xl(Kl.get(d)||null,e,n,a,o,f)),!0}return!1}function zy(e){var n=vi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Po(e.priority,function(){if(a.tag===13){var o=pn();o=Ki(o);var f=Wa(a,o);f!==null&&yn(f,a,o),Kh(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Zh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ai=o,a.target.dispatchEvent(o),Ai=null}else return n=Qn(a),n!==null&&Py(n),e.blockedOn=a,!1;n.shift()}return!0}function ky(e,n,a){Zu(e)&&a.delete(n)}function WT(){Wh=!1,_r!==null&&Zu(_r)&&(_r=null),vr!==null&&Zu(vr)&&(vr=null),Er!==null&&Zu(Er)&&(Er=null),$l.forEach(ky),Kl.forEach(ky)}function Ju(e,n){e.blockedOn===n&&(e.blockedOn=null,Wh||(Wh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WT)))}var Wu=null;function By(e){Wu!==e&&(Wu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wu===e&&(Wu=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Jh(o||a)===null)continue;break}var d=Qn(a);d!==null&&(e.splice(n,3),n-=3,Jf(d,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Zl(e){function n(C){return Ju(C,e)}_r!==null&&Ju(_r,e),vr!==null&&Ju(vr,e),Er!==null&&Ju(Er,e),$l.forEach(n),Kl.forEach(n);for(var a=0;a<Tr.length;a++){var o=Tr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)zy(a),a.blockedOn===null&&Tr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],d=a[o+1],v=f[pe]||null;if(typeof d=="function")v||By(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[pe]||null)T=v.formAction;else if(Jh(f)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),By(a)}}}function td(e){this._internalRoot=e}tc.prototype.render=td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=pn();xy(a,o,e,n,null,null)},tc.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xy(e.current,2,null,e,null,null),Pu(),n[En]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Tr.length&&n!==0&&n<Tr[a].priority;a++);Tr.splice(a,0,e),a===0&&zy(e)}};var jy=t.version;if(jy!=="19.1.0")throw Error(s(527,jy,"19.1.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var t1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{le=ec.inject(t1),qt=ec}catch{}}return Wl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",f=ip,d=rp,v=ap,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Oy(e,1,!1,null,null,a,o,f,d,v,T,null),e[En]=n.current,Lh(e),new td(n)},Wl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,f="",d=ip,v=rp,T=ap,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=Oy(e,1,!0,n,a??null,o,f,d,v,T,C,B),n.context=Ny(null),a=n.current,o=pn(),o=Ki(o),f=rr(o),f.callback=null,ar(a,f,o),a=o,n.current.lanes=a,_i(n,a),si(n),e[En]=n.current,Lh(e),new tc(n)},Wl.version="19.1.0",Wl}var Zy;function c1(){if(Zy)return id.exports;Zy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),id.exports=u1(),id.exports}var f1=c1();const h1=Tv(f1);var to={},Jy;function d1(){if(Jy)return to;Jy=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parse=h,to.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,I){const M=new u,G=A.length;if(G<2)return M;const j=I?.decode||E;let F=0;do{const nt=A.indexOf("=",F);if(nt===-1)break;const W=A.indexOf(";",F),ut=W===-1?G:W;if(nt>ut){F=A.lastIndexOf(";",nt-1)+1;continue}const at=m(A,F,nt),pt=y(A,nt,at),O=A.slice(at,pt);if(M[O]===void 0){let w=m(A,nt+1,ut),R=y(A,ut,w);const N=j(A.slice(w,R));M[O]=N}F=ut+1}while(F<G);return M}function m(A,I,M){do{const G=A.charCodeAt(I);if(G!==32&&G!==9)return I}while(++I<M);return M}function y(A,I,M){for(;I>M;){const G=A.charCodeAt(--I);if(G!==32&&G!==9)return I+1}return M}function g(A,I,M){const G=M?.encode||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=G(I);if(!t.test(j))throw new TypeError(`argument val is invalid: ${I}`);let F=A+"="+j;if(!M)return F;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);F+="; Max-Age="+M.maxAge}if(M.domain){if(!i.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);F+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);F+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);F+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(F+="; HttpOnly"),M.secure&&(F+="; Secure"),M.partitioned&&(F+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return F}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return l.call(A)==="[object Date]"}return to}d1();var Wy="popstate";function m1(r={}){function t(l,u){let{pathname:h="/",search:m="",hash:y=""}=Da(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),_d("",{pathname:h,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let y=l.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof u=="string"?u:fo(u))}function s(l,u){qn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return p1(t,i,s,r)}function re(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g1(){return Math.random().toString(36).substring(2,10)}function t_(r,t){return{usr:r.state,key:r.key,idx:t}}function _d(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Da(t):t,state:i,key:t&&t.key||s||g1()}}function fo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Da(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function p1(r,t,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,h=l.history,m="POP",y=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let j=E(),F=j==null?null:j-g;g=j,y&&y({action:m,location:G.location,delta:F})}function A(j,F){m="PUSH";let nt=_d(G.location,j,F);i&&i(nt,j),g=E()+1;let W=t_(nt,g),ut=G.createHref(nt);try{h.pushState(W,"",ut)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;l.location.assign(ut)}u&&y&&y({action:m,location:G.location,delta:1})}function I(j,F){m="REPLACE";let nt=_d(G.location,j,F);i&&i(nt,j),g=E();let W=t_(nt,g),ut=G.createHref(nt);h.replaceState(W,"",ut),u&&y&&y({action:m,location:G.location,delta:0})}function M(j){return y1(j)}let G={get action(){return m},get location(){return r(l,h)},listen(j){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(Wy,S),y=j,()=>{l.removeEventListener(Wy,S),y=null}},createHref(j){return t(l,j)},createURL:M,encodeLocation(j){let F=M(j);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:I,go(j){return h.go(j)}};return G}function y1(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:fo(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Sv(r,t,i="/"){return _1(r,t,i,!1)}function _1(r,t,i,s){let l=typeof t=="string"?Da(t):t,u=qi(l.pathname||"/",i);if(u==null)return null;let h=Av(r);v1(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let g=V1(u);m=D1(h[y],g,s)}return m}function Av(r,t=[],i=[],s=""){let l=(u,h,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};y.relativePath.startsWith("/")&&(re(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=Hi([s,y.relativePath]),E=i.concat(y);u.children&&u.children.length>0&&(re(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Av(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:R1(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let m of bv(u.path))l(u,h,m)}),t}function bv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let h=bv(s.join("/")),m=[];return m.push(...h.map(y=>y===""?u:[u,y].join("/"))),l&&m.push(...h),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function v1(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:C1(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var E1=/^:[\w-]+$/,T1=3,S1=2,A1=1,b1=10,w1=-2,e_=r=>r==="*";function R1(r,t){let i=r.split("/"),s=i.length;return i.some(e_)&&(s+=w1),t&&(s+=S1),i.filter(l=>!e_(l)).reduce((l,u)=>l+(E1.test(u)?T1:u===""?A1:b1),s)}function C1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function D1(r,t,i=!1){let{routesMeta:s}=r,l={},u="/",h=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),A=y.route;if(!S&&g&&i&&!s[s.length-1].route.index&&(S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(l,S.params),h.push({params:l,pathname:Hi([u,S.pathname]),pathnameBase:M1(Hi([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Hi([u,S.pathnameBase]))}return h}function yc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=I1(r.path,r.caseSensitive,r.end),l=t.match(i);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},A)=>{if(E==="*"){let M=m[A]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const I=m[A];return S&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function I1(r,t=!1,i=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function V1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function qi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function O1(r,t="/"){let{pathname:i,search:s="",hash:l=""}=typeof r=="string"?Da(r):r;return{pathname:i?i.startsWith("/")?i:N1(i,t):t,search:P1(s),hash:L1(l)}}function N1(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function ld(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function wv(r){let t=x1(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Rv(r,t,i,s=!1){let l;typeof r=="string"?l=Da(r):(l={...r},re(!l.pathname||!l.pathname.includes("?"),ld("?","pathname","search",l)),re(!l.pathname||!l.pathname.includes("#"),ld("#","pathname","hash",l)),re(!l.search||!l.search.includes("#"),ld("#","search","hash",l)));let u=r===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=i;else{let S=t.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;l.pathname=A.join("/")}m=S>=0?t[S]:"/"}let y=O1(l,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),M1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),P1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,L1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function U1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Cv=["POST","PUT","PATCH","DELETE"];new Set(Cv);var z1=["GET",...Cv];new Set(z1);var Us=X.createContext(null);Us.displayName="DataRouter";var Mc=X.createContext(null);Mc.displayName="DataRouterState";var Dv=X.createContext({isTransitioning:!1});Dv.displayName="ViewTransition";var k1=X.createContext(new Map);k1.displayName="Fetchers";var B1=X.createContext(null);B1.displayName="Await";var mi=X.createContext(null);mi.displayName="Navigation";var So=X.createContext(null);So.displayName="Location";var gi=X.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Fd=X.createContext(null);Fd.displayName="RouteError";function j1(r,{relative:t}={}){re(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=X.useContext(mi),{hash:l,pathname:u,search:h}=bo(r,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Hi([i,u])),s.createHref({pathname:m,search:h,hash:l})}function Ao(){return X.useContext(So)!=null}function Ia(){return re(Ao(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(So).location}var Iv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vv(r){X.useContext(mi).static||X.useLayoutEffect(r)}function H1(){let{isDataRoute:r}=X.useContext(gi);return r?nS():q1()}function q1(){re(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(Us),{basename:t,navigator:i}=X.useContext(mi),{matches:s}=X.useContext(gi),{pathname:l}=Ia(),u=JSON.stringify(wv(s)),h=X.useRef(!1);return Vv(()=>{h.current=!0}),X.useCallback((y,g={})=>{if(qn(h.current,Iv),!h.current)return;if(typeof y=="number"){i.go(y);return}let E=Rv(y,JSON.parse(u),l,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Hi([t,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[t,i,u,l,r])}X.createContext(null);function G1(){let{matches:r}=X.useContext(gi),t=r[r.length-1];return t?t.params:{}}function bo(r,{relative:t}={}){let{matches:i}=X.useContext(gi),{pathname:s}=Ia(),l=JSON.stringify(wv(i));return X.useMemo(()=>Rv(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function F1(r,t){return Ov(r,t)}function Ov(r,t,i,s){re(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=X.useContext(mi),{matches:u}=X.useContext(gi),h=u[u.length-1],m=h?h.params:{},y=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let F=E&&E.path||"";Nv(y,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let S=Ia(),A;if(t){let F=typeof t=="string"?Da(t):t;re(g==="/"||F.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=S;let I=A.pathname||"/",M=I;if(g!=="/"){let F=g.replace(/^\//,"").split("/");M="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let G=Sv(r,{pathname:M});qn(E||G!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=X1(G&&G.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Hi([g,l.encodeLocation?l.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Hi([g,l.encodeLocation?l.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,i,s);return t&&j?X.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function Q1(){let r=eS(),t=U1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),i?X.createElement("pre",{style:l},i):null,h)}var Y1=X.createElement(Q1,null),$1=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?X.createElement(gi.Provider,{value:this.props.routeContext},X.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K1({routeContext:r,match:t,children:i}){let s=X.useContext(Us);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(gi.Provider,{value:r},i)}function X1(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let l=r,u=i?.errors;if(u!=null){let y=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,m=-1;if(i)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:S}=i,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||A){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,g,E)=>{let S,A=!1,I=null,M=null;i&&(S=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||Y1,h&&(m<0&&E===0?(Nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):m===E&&(A=!0,M=g.route.hydrateFallbackElement||null)));let G=t.concat(l.slice(0,E+1)),j=()=>{let F;return S?F=I:A?F=M:g.route.Component?F=X.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=y,X.createElement(K1,{match:g,routeContext:{outlet:y,matches:G,isDataRoute:i!=null},children:F})};return i&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?X.createElement($1,{location:i.location,revalidation:i.revalidation,component:I,error:S,children:j(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):j()},null)}function Qd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(r){let t=X.useContext(Us);return re(t,Qd(r)),t}function J1(r){let t=X.useContext(Mc);return re(t,Qd(r)),t}function W1(r){let t=X.useContext(gi);return re(t,Qd(r)),t}function Yd(r){let t=W1(r),i=t.matches[t.matches.length-1];return re(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function tS(){return Yd("useRouteId")}function eS(){let r=X.useContext(Fd),t=J1("useRouteError"),i=Yd("useRouteError");return r!==void 0?r:t.errors?.[i]}function nS(){let{router:r}=Z1("useNavigate"),t=Yd("useNavigate"),i=X.useRef(!1);return Vv(()=>{i.current=!0}),X.useCallback(async(l,u={})=>{qn(i.current,Iv),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var n_={};function Nv(r,t,i){!t&&!n_[r]&&(n_[r]=!0,qn(!1,i))}X.memo(iS);function iS({routes:r,future:t,state:i}){return Ov(r,void 0,i,t)}function oc(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rS({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}){re(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof i=="string"&&(i=Da(i));let{pathname:y="/",search:g="",hash:E="",state:S=null,key:A="default"}=i,I=X.useMemo(()=>{let M=qi(y,h);return M==null?null:{location:{pathname:M,search:g,hash:E,state:S,key:A},navigationType:s}},[h,y,g,E,S,A,s]);return qn(I!=null,`<Router basename="${h}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:X.createElement(mi.Provider,{value:m},X.createElement(So.Provider,{children:t,value:I}))}function aS({children:r,location:t}){return F1(vd(r),t)}function vd(r,t=[]){let i=[];return X.Children.forEach(r,(s,l)=>{if(!X.isValidElement(s))return;let u=[...t,l];if(s.type===X.Fragment){i.push.apply(i,vd(s.props.children,u));return}re(s.type===oc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=vd(s.props.children,u)),i.push(h)}),i}var uc="get",cc="application/x-www-form-urlencoded";function Pc(r){return r!=null&&typeof r.tagName=="string"}function sS(r){return Pc(r)&&r.tagName.toLowerCase()==="button"}function lS(r){return Pc(r)&&r.tagName.toLowerCase()==="form"}function oS(r){return Pc(r)&&r.tagName.toLowerCase()==="input"}function uS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cS(r,t){return r.button===0&&(!t||t==="_self")&&!uS(r)}var nc=null;function fS(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var hS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(r){return r!=null&&!hS.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function dS(r,t){let i,s,l,u,h;if(lS(r)){let m=r.getAttribute("action");s=m?qi(m,t):null,i=r.getAttribute("method")||uc,l=od(r.getAttribute("enctype"))||cc,u=new FormData(r)}else if(sS(r)||oS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?qi(y,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||uc,l=od(r.getAttribute("formenctype"))||od(m.getAttribute("enctype"))||cc,u=new FormData(m,r),!fS()){let{name:g,type:E,value:S}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,S)}}else{if(Pc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uc,s=null,l=cc,h=r}return u&&l==="text/plain"&&(h=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:h}}function $d(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function mS(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pS(r,t,i){let s=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await mS(u,i);return h.links?h.links():[]}return[]}));return ES(s.flat(1).filter(gS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function i_(r,t,i,s,l,u){let h=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,m=(y,g)=>i[g].pathname!==y.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,g)=>h(y,g)||m(y,g)):u==="data"?t.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(h(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yS(r,t,{includeHydrateFallback:i}={}){return _S(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function _S(r){return[...new Set(r)]}function vS(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function ES(r,t){let i=new Set;return new Set(t),r.reduce((s,l)=>{let u=JSON.stringify(vS(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TS=new Set([100,101,204,205]);function SS(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&qi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function xv(){let r=X.useContext(Us);return $d(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AS(){let r=X.useContext(Mc);return $d(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kd=X.createContext(void 0);Kd.displayName="FrameworkContext";function Mv(){let r=X.useContext(Kd);return $d(r,"You must render this element inside a <HydratedRouter> element"),r}function bS(r,t){let i=X.useContext(Kd),[s,l]=X.useState(!1),[u,h]=X.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=t,A=X.useRef(null);X.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=F=>{F.forEach(nt=>{h(nt.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[r]),X.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let I=()=>{l(!0)},M=()=>{l(!1),h(!1)};return i?r!=="intent"?[u,A,{}]:[u,A,{onFocus:eo(m,I),onBlur:eo(y,M),onMouseEnter:eo(g,I),onMouseLeave:eo(E,M),onTouchStart:eo(S,I)}]:[!1,A,{}]}function eo(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function wS({page:r,...t}){let{router:i}=xv(),s=X.useMemo(()=>Sv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?X.createElement(CS,{page:r,matches:s,...t}):null}function RS(r){let{manifest:t,routeModules:i}=Mv(),[s,l]=X.useState([]);return X.useEffect(()=>{let u=!1;return pS(r,t,i).then(h=>{u||l(h)}),()=>{u=!0}},[r,t,i]),s}function CS({page:r,matches:t,...i}){let s=Ia(),{manifest:l,routeModules:u}=Mv(),{basename:h}=xv(),{loaderData:m,matches:y}=AS(),g=X.useMemo(()=>i_(r,t,y,l,s,"data"),[r,t,y,l,s]),E=X.useMemo(()=>i_(r,t,y,l,s,"assets"),[r,t,y,l,s]),S=X.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,G=!1;if(t.forEach(F=>{let nt=l.routes[F.route.id];!nt||!nt.hasLoader||(!g.some(W=>W.route.id===F.route.id)&&F.route.id in m&&u[F.route.id]?.shouldRevalidate||nt.hasClientLoader?G=!0:M.add(F.route.id))}),M.size===0)return[];let j=SS(r,h);return G&&M.size>0&&j.searchParams.set("_routes",t.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[h,m,s,l,g,t,r,u]),A=X.useMemo(()=>yS(E,l),[E,l]),I=RS(E);return X.createElement(X.Fragment,null,S.map(M=>X.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...i})),A.map(M=>X.createElement("link",{key:M,rel:"modulepreload",href:M,...i})),I.map(({key:M,link:G})=>X.createElement("link",{key:M,...G})))}function DS(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pv&&(window.__reactRouterVersion="7.6.3")}catch{}function IS({basename:r,children:t,window:i}){let s=X.useRef();s.current==null&&(s.current=m1({window:i,v5Compat:!0}));let l=s.current,[u,h]=X.useState({action:l.action,location:l.location}),m=X.useCallback(y=>{X.startTransition(()=>h(y))},[h]);return X.useLayoutEffect(()=>l.listen(m),[l,m]),X.createElement(rS,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var Lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xd=X.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:h,state:m,target:y,to:g,preventScrollReset:E,viewTransition:S,...A},I){let{basename:M}=X.useContext(mi),G=typeof g=="string"&&Lv.test(g),j,F=!1;if(typeof g=="string"&&G&&(j=g,Pv))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=qi(N.pathname,M);N.origin===R.origin&&P!=null?g=P+N.search+N.hash:F=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=j1(g,{relative:l}),[W,ut,at]=bS(s,A),pt=xS(g,{replace:h,state:m,target:y,preventScrollReset:E,relative:l,viewTransition:S});function O(R){t&&t(R),R.defaultPrevented||pt(R)}let w=X.createElement("a",{...A,...at,href:j||nt,onClick:F||u?t:O,ref:DS(I,ut),target:y,"data-discover":!G&&i==="render"?"true":void 0});return W&&!G?X.createElement(X.Fragment,null,w,X.createElement(wS,{page:nt})):w});Xd.displayName="Link";var VS=X.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:h,viewTransition:m,children:y,...g},E){let S=bo(h,{relative:g.relative}),A=Ia(),I=X.useContext(Mc),{navigator:M,basename:G}=X.useContext(mi),j=I!=null&&zS(S)&&m===!0,F=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,nt=A.pathname,W=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),W=W?W.toLowerCase():null,F=F.toLowerCase()),W&&G&&(W=qi(W,G)||W);const ut=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let at=nt===F||!l&&nt.startsWith(F)&&nt.charAt(ut)==="/",pt=W!=null&&(W===F||!l&&W.startsWith(F)&&W.charAt(F.length)==="/"),O={isActive:at,isPending:pt,isTransitioning:j},w=at?t:void 0,R;typeof s=="function"?R=s(O):R=[s,at?"active":null,pt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return X.createElement(Xd,{...g,"aria-current":w,className:R,ref:E,style:N,to:h,viewTransition:m},typeof y=="function"?y(O):y)});VS.displayName="NavLink";var OS=X.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:l,state:u,method:h=uc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:S,...A},I)=>{let M=LS(),G=US(m,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&Lv.test(m),nt=W=>{if(y&&y(W),W.defaultPrevented)return;W.preventDefault();let ut=W.nativeEvent.submitter,at=ut?.getAttribute("formmethod")||h;M(ut||W.currentTarget,{fetcherKey:t,method:at,navigate:i,replace:l,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return X.createElement("form",{ref:I,method:j,action:G,onSubmit:s?y:nt,...A,"data-discover":!F&&r==="render"?"true":void 0})});OS.displayName="Form";function NS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(r){let t=X.useContext(Us);return re(t,NS(r)),t}function xS(r,{target:t,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=H1(),y=Ia(),g=bo(r,{relative:u});return X.useCallback(E=>{if(cS(E,t)){E.preventDefault();let S=i!==void 0?i:fo(y)===fo(g);m(r,{replace:S,state:s,preventScrollReset:l,relative:u,viewTransition:h})}},[y,m,g,i,s,t,r,l,u,h])}var MS=0,PS=()=>`__${String(++MS)}__`;function LS(){let{router:r}=Uv("useSubmit"),{basename:t}=X.useContext(mi),i=tS();return X.useCallback(async(s,l={})=>{let{action:u,method:h,encType:m,formData:y,body:g}=dS(s,t);if(l.navigate===!1){let E=l.fetcherKey||PS();await r.fetch(E,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,i])}function US(r,{relative:t}={}){let{basename:i}=X.useContext(mi),s=X.useContext(gi);re(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...bo(r||".",{relative:t})},h=Ia();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Hi([i,u.pathname])),fo(u)}function zS(r,t={}){let i=X.useContext(Dv);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Uv("useViewTransitionState"),l=bo(r,{relative:t.relative});if(!i.isTransitioning)return!1;let u=qi(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=qi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return yc(l.pathname,h)!=null||yc(l.pathname,u)!=null}[...TS];/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),r_=r=>{const t=BS(r);return t.charAt(0).toUpperCase()+t.slice(1)},zv=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),jS=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=X.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:h,...m},y)=>X.createElement("svg",{ref:y,...HS,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:zv("lucide",l),...!u&&!jS(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>X.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=(r,t)=>{const i=X.forwardRef(({className:s,...l},u)=>X.createElement(qS,{ref:u,iconNode:t,className:zv(`lucide-${kS(r_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=r_(r),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FS=kv("arrow-right",GS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],YS=kv("gamepad-2",QS),$S=({gameId:r,name:t,description:i})=>It.jsxs(Xd,{to:`/game/${r}`,className:"group bg-slate-800 rounded-xl shadow-lg p-6 flex flex-col justify-between text-left transition-all duration-300 hover:bg-slate-700/80 hover:shadow-cyan-500/20 hover:ring-2 hover:ring-cyan-500",children:[It.jsxs("div",{children:[It.jsx("h3",{className:"text-2xl font-bold text-slate-100",children:t}),It.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:i})]}),It.jsxs("div",{className:"mt-6 flex items-center justify-end",children:[It.jsx("span",{className:"text-sm font-semibold text-cyan-400 group-hover:underline",children:"Play Now"}),It.jsx(FS,{className:"ml-2 h-4 w-4 text-cyan-400 transform transition-transform group-hover:translate-x-1"})]})]}),KS="modulepreload",XS=function(r){return"/boardgames/"+r},a_={},zs=function(t,i,s){let l=Promise.resolve();if(i&&i.length>0){let y=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");l=y(i.map(g=>{if(g=XS(g),g in a_)return;a_[g]=!0;const E=g.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const A=document.createElement("link");if(A.rel=E?"stylesheet":KS,E||(A.as="script"),A.crossOrigin="",A.href=g,m&&A.setAttribute("nonce",m),document.head.appendChild(A),E)return new Promise((I,M)=>{A.addEventListener("load",I),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return l.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};function br(r,t){return Math.floor(Math.random()*(t-r+1))+r}const ZS={easy:{rows:8,columns:10,trackCount:4,trainCount:8,carsRange:[2,4]},medium:{rows:8,columns:12,trackCount:br(4,5),trainCount:10,carsRange:[2,4]},hard:{rows:8,columns:14,trackCount:5,trainCount:12,carsRange:[2,4]},veryhard:{rows:10,columns:16,trackCount:6,trainCount:14,carsRange:[2,4]}};function JS(r){for(;;){const t=WS(r);if(t)return t}}function WS(r){const{rows:t,columns:i,trackCount:s,trainCount:l,carsRange:u}=ZS[r];let h=null,m=[],y=null,g=0;const E=100;for(;g<E;)if(g++,h=rA(s,t,i),!(!h||h.length<s)){try{m=aA(l,u,h)}catch{continue}return y=hA(m,t,i),{difficulty:r,grid:{rows:t,columns:i,gridSize:t*i},tracks:h,trains:m,clues:y}}return null}function tA(r,t,i,s,l=!1){const u=r.get(`${t},${i}`);return u?u.isCorner||l?!0:u.isHorizontal===s:!1}function eA(r,t,i){let s;if(r.row===0)s="top";else if(r.row===t-1)s="bottom";else if(r.col===0)s="left";else if(r.col===i-1)s="right";else throw new Error("Start position is not on the edge");const l=2;let u;s==="top"?u=["bottom","left","right"]:s==="bottom"?u=["top","left","right"]:s==="left"?u=["right","top","bottom"]:u=["left","top","bottom"];const h=u[br(0,u.length-1)];let m;if(h==="top"||h==="bottom"){const y=h==="top"?0:t-1;let g;do g=br(0,i-1);while(g>=r.col-l&&g<=r.col+l);m={row:y,col:g}}else{const y=h==="left"?0:i-1;let g;do g=br(0,t-1);while(g>=r.row-l&&g<=r.row+l);m={row:g,col:y}}return m}function nA(r,t){const i=Math.random()<.5,s=Math.random()<.5;if(i){const l=s?0:r-1,u=br(0,t-1);return{row:l,col:u}}else{const l=br(0,r-1),u=s?0:t-1;return{row:l,col:u}}}function iA(r,t,i,s){const l=[];let u={...r};const h=W=>W.row<0||W.row>=i||W.col<0||W.col>=s,m=r.row===0||r.row===i-1?"vertical":"horizontal",y=t.row===0||t.row===i-1?"vertical":"horizontal",g={...r},E={...t},S={...r},A={...t};m==="vertical"?S.row+=r.row===0?1:-1:S.col+=r.col===0?1:-1,y==="vertical"?A.row+=t.row===0?1:-1:A.col+=t.col===0?1:-1,u={...S},l.push({...u,isHorizontal:m==="horizontal",isCorner:!1});let I=m,M=0;const G=i*s;let j=!1;for(;u.row!==A.row||u.col!==A.col;){if(M++>G)return[];const W=Math.sign(A.row-u.row),ut=Math.sign(A.col-u.col);let at;const pt=W!==0,O=ut!==0;if(j){if(at=I,at==="vertical"&&!pt||at==="horizontal"&&!O)return[]}else if(pt&&!O)at="vertical";else if(!pt&&O)at="horizontal";else{const R=Math.random()<.7;if(R&&I==="vertical"&&pt)at="vertical";else if(R&&I==="horizontal"&&O)at="horizontal";else{const N=I==="vertical"?"horizontal":"vertical";N==="vertical"&&pt?at="vertical":N==="horizontal"&&O?at="horizontal":at=I}}const w=at!==I;if(j=w,at==="vertical"?u.row+=W:u.col+=ut,h(u))return[];l.push({...u,isHorizontal:at==="horizontal",isCorner:w}),I=at}const F=[{...g,isHorizontal:m==="horizontal",isCorner:!1},...l,{...E,isHorizontal:y==="horizontal",isCorner:!1}];return F.filter((W,ut)=>ut===0||W.row!==F[ut-1].row||W.col!==F[ut-1].col)}function rA(r,t,i){let l=0;const u=()=>{const m=["#ef4444","#3b82f6","#22c55e","#ec4899","#a855f7","#f97316","#eab308"];if(r>m.length)return null;const y=[],g=new Map,E=new Set;for(let S=0;S<r;S++){let A=!1,I=null;const M=50;let G=0;for(;!A;){if(G++,G>M)return l++,null;let j=0,F,nt,W,ut;for(;j<M;){if(j++,F=nA(t,i),nt=eA(F,t,i),W=`${F.row},${F.col}`,ut=`${nt.row},${nt.col}`,W===ut||E.has(W)||E.has(ut))continue;I=iA(F,nt,t,i);let w=!0;if(I&&I.length>10){for(const R of I)if(tA(g,R.row,R.col,R.isHorizontal,R.isCorner)){w=!1;break}if(w){A=!0;break}}}if(!A||!I)continue;E.add(W),E.add(ut),I.forEach(w=>g.set(`${w.row},${w.col}`,{isHorizontal:w.isHorizontal,isCorner:w.isCorner}));const at=br(0,m.length-1),pt=m[at];m.splice(at,1);const O=I.map(w=>({row:w.row,col:w.col}));y.push({trackId:S+1,color:pt,path:O})}}return y};let h;for(;l<50;)if(h=u(),h!==null&&h.length===r)return h;return null}function aA(r,t,i){const s=new Set,l=new Set,u=[];let h=r,m=1,y=JSON.parse(JSON.stringify(cA(i)));const g=E=>{const S=fA(E.path);let A=[];for(let I of S){const M=sA(I,s,l);for(let G of M)G.length>=t[0]&&A.push(G)}if(A.length===0)return!1;A.sort((I,M)=>M.length-I.length);for(let I of A){const M=Math.min(I.length,t[1]);if(M<t[0])continue;const G=br(t[0],M),j=I.slice(0,G);if(j.some(W=>{const ut=`${W.row},${W.col}`;if(s.has(ut)||l.has(ut))return!0;const at=s_(W);for(const pt of at)if(s.has(`${pt.row},${pt.col}`))return!0;return!1}))continue;const nt={trainId:m,trackId:E.trackId,carPositions:j,carsCount:G};u.push(nt);for(const W of j){const ut=`${W.row},${W.col}`;s.add(ut);const at=s_(W);for(const pt of at)l.add(`${pt.row},${pt.col}`)}return uA(y,nt,s),E.path=E.path.filter(W=>!s.has(`${W.row},${W.col}`)),m++,h--,!0}return!1};for(const E of y)if(!g(E))throw new Error(`Failed to place the first train on track ${E.trackId}.`);for(;h>0;){let E=y.filter(S=>S.path.length>=t[0]).sort((S,A)=>A.path.length-S.path.length);if(E.length===0)break;if(!g(E[0])){const S=E[0].trackId;y=y.filter(A=>A.trackId!==S)}}if(h>0)throw new Error("Failed to place all trains");return u}function sA(r,t,i){const s=[];let l=[];for(let u=0;u<r.length;u++){const h=r[u],m=`${h.row},${h.col}`;if(t.has(m)||i.has(m)){l.length>0&&(s.push(l),l=[]);continue}l.push(h)}return l.length>0&&s.push(l),s}function s_(r){return[{row:r.row-1,col:r.col},{row:r.row+1,col:r.col},{row:r.row,col:r.col-1},{row:r.row,col:r.col+1}]}function lA(r,t){return t==="horizontal"?[{row:r.row-1,col:r.col},{row:r.row+1,col:r.col}]:[{row:r.row,col:r.col-1},{row:r.row,col:r.col+1}]}function oA(r){if(r.length<2)return null;const[t,i]=r;return t.row===i.row?"horizontal":t.col===i.col?"vertical":null}function uA(r,t,i){const{carPositions:s,trackId:l}=t,u=oA(s);if(u)for(let h of r){if(h.trackId===l)continue;let m=new Set;for(let y of h.path)for(let g of s)y.row===g.row&&y.col===g.col&&lA(y,u).forEach(S=>m.add(`${S.row},${S.col}`));h.path=h.path.filter(y=>{const g=`${y.row},${y.col}`;return!m.has(g)&&!i.has(g)})}}function cA(r){return r.map(t=>{const i=t.path.filter((s,l)=>{if(l===0||l===t.path.length-1)return!0;const u=t.path[l-1],h=t.path[l+1];return!(u.row!==h.row&&u.col!==h.col)});return{...t,path:i}})}function fA(r){const t=[];if(r.length===0)return t;let i=[];for(let s=0;s<r.length;s++){const l=r[s];if(s>0){const u=r[s-1];Math.abs(l.row-u.row)+Math.abs(l.col-u.col)!==1&&(i.length>0&&t.push(i),i=[])}i.push(l)}return i.length>0&&t.push(i),t}function hA(r,t,i){const s=new Array(t).fill(0),l=new Array(i).fill(0);for(const u of r)for(const h of u.carPositions)s[h.row]++,l[h.col]++;return{rowClues:s,columnClues:l}}function dA(r,t){const{grid:i,clues:s}=t,{rows:l,columns:u}=i,{rowClues:h,columnClues:m}=s;let y=!1;const g=Array(l).fill(0),E=Array(u).fill(0);for(let S=0;S<l;S++){for(let A=0;A<u;A++){const I=r[S]?.[A];if(I&&I.some(G=>G.isUserPlacedTrain||G.isFixedTrain)){if(!I.some(j=>j.connections)){y=!0;break}g[S]++,E[A]++}}if(y)break}if(y)return!1;for(let S=0;S<l;S++)if(g[S]!==h[S])return!1;for(let S=0;S<u;S++)if(E[S]!==m[S])return!1;return!0}const Bv=(r,t,i)=>{const s=i?.difficulty||"easy",l=JS(s),u=l.trains[0],h={};return r.forEach(m=>{h[m]={id:m,fixedTrainId:u?.trainId??null,gridState:null,submitted:!1,submissionResult:null}}),{puzzle:l,playerStates:h,winner:null,options:{difficulty:s}}},mA=(r,t)=>{if(t.type==="RETURN_TO_LOBBY"){const m=Object.keys(r.playerStates);return Bv(m,r,r.options)}if(t.type!=="SUBMIT_SOLUTION"||r.winner||r.playerStates[t.playerId]?.submitted)return r;const i=t.payload,s=dA(i,r.puzzle),l=JSON.parse(JSON.stringify(r.playerStates)),u=l[t.playerId];u.submitted=!0,u.submissionResult=s?"correct":"incorrect";let h=r.winner;return s&&(h=t.playerId),{...r,playerStates:l,winner:h}},Zd=r=>r.winner!==null||Object.values(r.playerStates).every(t=>t.submitted),gA=(r,t)=>!Zd(r)&&!r.playerStates[t]?.submitted,pA=(r,t)=>r.winner?`${t.find(s=>s.id===r.winner)?.username||"A player"} wins!`:Zd(r)&&!r.winner?"All solutions were incorrect. It's a draw!":"Solve the puzzle!",yA=Hn.lazy(()=>zs(()=>import("./BrainTrainBoard-CfM1n3cq.js"),__vite__mapDeps([0,1,2]))),_A=Hn.lazy(()=>zs(()=>import("./BrainTrainLobbyPage-CzxAQgbD.js"),__vite__mapDeps([3,4,5,1]))),vA=Hn.lazy(()=>zs(()=>import("./BrainTrainGamePage-Dg7Jm4AJ.js"),__vite__mapDeps([6,2,0,1,5,7,8]))),EA={id:"brain-train",displayName:"Brain Train",description:"A logic puzzle where you must correctly place trains on tracks based on clues.",minPlayers:1,maxPlayers:4,gameOptions:[{id:"difficulty",label:"Difficulty",type:"select",defaultValue:"easy",choices:[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"},{label:"Very Hard",value:"veryhard"}]}],getInitialState:Bv,handleAction:mA,getGameStatus:pA,isGameOver:Zd,isTurnOf:gA,BoardComponent:yA,LobbyPageComponent:_A,GamePageComponent:vA},TA=Object.freeze(Object.defineProperty({__proto__:null,default:EA},Symbol.toStringTag,{value:"Module"})),SA=(r,t,i)=>{const[s,l]=r,u=Math.random()<.5,h=t?.scores||{[s]:0,[l]:0},m={turnTimer:i?.turnTimer??t?.options?.turnTimer??0};return{board:Array(9).fill(null),isNext:"X",winner:null,playerMap:{[s]:u?"X":"O",[l]:u?"O":"X"},scores:h,options:m}},AA=(r,t)=>{if(t.type!=="MAKE_MOVE")return r;const i=t.payload,s=r.playerMap[t.playerId];if(!s||r.board[i]||r.winner||r.isNext!==s)return r;const l=[...r.board];l[i]=s;const u=s==="X"?"O":"X",h=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let m=null;for(const g of h){const[E,S,A]=g;if(l[E]&&l[E]===l[S]&&l[E]===l[A]){m=l[E];break}}!m&&l.every(Boolean)&&(m="draw");const y={...r.scores};if(m&&m!=="draw"){const g=Object.keys(r.playerMap).find(E=>r.playerMap[E]===m);g&&(y[g]=(y[g]||0)+1)}return{...r,board:l,isNext:u,winner:m,scores:y}},bA=r=>r.winner!==null,wA=(r,t)=>r.playerMap[t]===r.isNext,RA=(r,t)=>{const i=h=>{const m=Object.keys(r.playerMap).find(y=>r.playerMap[y]===h);return t.find(y=>y.id===m)};if(r.winner)return r.winner==="draw"?"It's a Draw!":`${i(r.winner)?.username||`Player ${r.winner}`} wins!`;const s=i(r.isNext)?.username||`Player ${r.isNext}`,l=r.options?.turnTimer,u=l&&l>0?` (${l}s)`:"";return`${s}'s Turn${u}`},CA=Hn.lazy(()=>zs(()=>import("./TicTacToeBoard-CLhzEdOf.js"),__vite__mapDeps([9,8,1]))),DA=Hn.lazy(()=>zs(()=>import("./TicTacToeLobbyPage-AALIf0Lz.js"),__vite__mapDeps([10,4,11,5,1]))),IA=Hn.lazy(()=>zs(()=>import("./TicTacToeGamePage-C7liM8OH.js"),__vite__mapDeps([12,9,8,1,2,7,11]))),VA={id:"tic-tac-toe",displayName:"Tic Tac Toe",description:"The classic game of X's and O's. First to get three in a row wins.",minPlayers:2,maxPlayers:2,gameOptions:[{id:"turnTimer",label:"Turn Timer",type:"select",defaultValue:0,choices:[{label:"Unlimited",value:0},{label:"2 Seconds",value:2},{label:"5 Seconds",value:5},{label:"10 Seconds",value:10}]}],getInitialState:SA,handleAction:AA,getGameStatus:RA,isGameOver:bA,isTurnOf:wA,BoardComponent:CA,LobbyPageComponent:DA,GamePageComponent:IA},OA=Object.freeze(Object.defineProperty({__proto__:null,default:VA},Symbol.toStringTag,{value:"Module"})),NA=Object.assign({"./brain-train/registry.ts":TA,"./tic-tac-toe/registry.ts":OA}),jv=Object.values(NA).map(r=>r.default),Ed=r=>{if(r)return jv.find(t=>t.id===r)},xA=()=>It.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-2xl border border-slate-700/50",children:[It.jsx("h2",{className:"text-2xl font-bold text-slate-200 mb-6 px-2",children:"Select a Game"}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:jv.map(r=>It.jsx($S,{gameId:r.id,name:r.displayName,description:r.description},r.id))})]}),MA=()=>It.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 py-8 md:py-16",children:[It.jsxs("header",{className:"text-center mb-12 md:mb-16",children:[It.jsx("div",{className:"inline-block bg-slate-800 p-4 rounded-full mb-4",children:It.jsx(YS,{className:"h-12 w-12 text-cyan-400"})}),It.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight bg-gradient-to-r from-cyan-400 via-teal-400 to-emerald-500 text-transparent bg-clip-text",children:"GameHub"}),It.jsx("p",{className:"text-slate-400 mt-4 text-lg md:text-xl max-w-2xl mx-auto",children:"Your destination for classic board games, reimagined for the modern web. Peer-to-peer, no sign-ups, just play."})]}),It.jsx(xA,{})]}),l_=r=>{let t;const i=new Set,s=(g,E)=>{const S=typeof g=="function"?g(t):g;if(!Object.is(S,t)){const A=t;t=E??(typeof S!="object"||S===null)?S:Object.assign({},t,S),i.forEach(I=>I(t,A))}},l=()=>t,m={setState:s,getState:l,getInitialState:()=>y,subscribe:g=>(i.add(g),()=>i.delete(g))},y=t=r(s,l,m);return m},PA=r=>r?l_(r):l_,LA=r=>r;function UA(r,t=LA){const i=Hn.useSyncExternalStore(r.subscribe,()=>t(r.getState()),()=>t(r.getInitialState()));return Hn.useDebugValue(i),i}const o_=r=>{const t=PA(r),i=s=>UA(t,s);return Object.assign(i,t),i},Hv=r=>r?o_(r):o_,zA=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],h=r[i++],m=r[i++],y=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[i++],h=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],h=l+1<r.length,m=h?r[l+1]:0,y=l+2<r.length,g=y?r[l+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,I=g&63;y||(I=64,h||(A=64)),s.push(i[E],i[S],i[A],i[I])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(qv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):kA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const g=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||m==null||g==null||S==null)throw new BA;const A=u<<2|m>>4;if(s.push(A),g!==64){const I=m<<4&240|g>>2;if(s.push(I),S!==64){const M=g<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(r){const t=qv(r);return Gv.encodeByteArray(t,!0)},_c=function(r){return jA(r).replace(/\./g,"")},HA=function(r){try{return Gv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>qA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof u_>"u")return;const r=u_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&HA(r[1]);return t&&JSON.parse(t)},Jd=()=>{try{return zA()||GA()||FA()||QA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YA=r=>{var t,i;return(i=(t=Jd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},$A=r=>{const t=YA(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Fv=()=>{var r;return(r=Jd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_c(JSON.stringify(i)),_c(JSON.stringify(h)),""].join(".")}const so={};function JA(){const r={prod:[],emulator:[]};for(const t of Object.keys(so))so[t]?r.emulator.push(t):r.prod.push(t);return r}function WA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let c_=!1;function tb(r,t){if(typeof window>"u"||typeof document>"u"||!Wd(window.location.host)||so[r]===t||so[r]||c_)return;so[r]=t;function i(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=JA().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{c_=!0,h()},A}function E(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=WA(s),I=i("text"),M=document.getElementById(I)||document.createElement("span"),G=i("learnmore"),j=document.getElementById(G)||document.createElement("a"),F=i("preprendIcon"),nt=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const W=A.element;m(W),E(j,G);const ut=g();y(nt,F),W.append(nt,M,j,ut),document.body.appendChild(W)}u?(M.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nb(){var r;const t=(r=Jd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ib(){return!nb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rb(){try{return typeof indexedDB=="object"}catch{return!1}}function ab(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="FirebaseError";class ks extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=sb,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qv.prototype.create)}}class Qv{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?lb(u,s):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new ks(l,m,s)}}function lb(r,t){return r.replace(ob,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ob=/\{\$([^}]+)}/g;function ho(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const u=r[l],h=t[l];if(f_(u)&&f_(h)){if(!ho(u,h))return!1}else if(u!==h)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function f_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r){return r&&r._delegate?r._delegate:r}class mo{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new KA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t?.identifier),l=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fb(t))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sa){return this.instances.has(t)}getOptions(t=Sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Sa){return this.component?this.component.multipleInstances?t:Sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cb(r){return r===Sa?void 0:r}function fb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ub(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const db={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},mb=Ut.INFO,gb={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},pb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=gb[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yv{constructor(t){this.name=t,this._logLevel=mb,this._logHandler=pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?db[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const yb=(r,t)=>t.some(i=>r instanceof i);let h_,d_;function _b(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vb(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,Td=new WeakMap,Kv=new WeakMap,ud=new WeakMap,tm=new WeakMap;function Eb(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{i(wr(r.result)),l()},h=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&$v.set(i,r)}).catch(()=>{}),tm.set(t,r),t}function Tb(r){if(Td.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{i(),l()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Td.set(r,t)}let Sd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Td.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Kv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Sb(r){Sd=r(Sd)}function Ab(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(cd(this),t,...i);return Kv.set(s,t.sort?t.sort():[t]),wr(s)}:vb().includes(r)?function(...t){return r.apply(cd(this),t),wr($v.get(this))}:function(...t){return wr(r.apply(cd(this),t))}}function bb(r){return typeof r=="function"?Ab(r):(r instanceof IDBTransaction&&Tb(r),yb(r,_b())?new Proxy(r,Sd):r)}function wr(r){if(r instanceof IDBRequest)return Eb(r);if(ud.has(r))return ud.get(r);const t=bb(r);return t!==r&&(ud.set(r,t),tm.set(t,r)),t}const cd=r=>tm.get(r);function wb(r,t,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const h=indexedDB.open(r,t),m=wr(h);return s&&h.addEventListener("upgradeneeded",y=>{s(wr(h.result),y.oldVersion,y.newVersion,wr(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Rb=["get","getKey","getAll","getAllKeys","count"],Cb=["put","add","delete","clear"],fd=new Map;function m_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(fd.get(t))return fd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=Cb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Rb.includes(i)))return;const u=async function(h,...m){const y=this.transaction(h,l?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),l&&y.done]))[0]};return fd.set(t,u),u}Sb(r=>({...r,get:(t,i,s)=>m_(t,i)||r.get(t,i,s),has:(t,i)=>!!m_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ib(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Ib(r){const t=r.getComponent();return t?.type==="VERSION"}const Ad="@firebase/app",g_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Yv("@firebase/app"),Vb="@firebase/app-compat",Ob="@firebase/analytics-compat",Nb="@firebase/analytics",xb="@firebase/app-check-compat",Mb="@firebase/app-check",Pb="@firebase/auth",Lb="@firebase/auth-compat",Ub="@firebase/database",zb="@firebase/data-connect",kb="@firebase/database-compat",Bb="@firebase/functions",jb="@firebase/functions-compat",Hb="@firebase/installations",qb="@firebase/installations-compat",Gb="@firebase/messaging",Fb="@firebase/messaging-compat",Qb="@firebase/performance",Yb="@firebase/performance-compat",$b="@firebase/remote-config",Kb="@firebase/remote-config-compat",Xb="@firebase/storage",Zb="@firebase/storage-compat",Jb="@firebase/firestore",Wb="@firebase/ai",tw="@firebase/firestore-compat",ew="firebase",nw="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",iw={[Ad]:"fire-core",[Vb]:"fire-core-compat",[Nb]:"fire-analytics",[Ob]:"fire-analytics-compat",[Mb]:"fire-app-check",[xb]:"fire-app-check-compat",[Pb]:"fire-auth",[Lb]:"fire-auth-compat",[Ub]:"fire-rtdb",[zb]:"fire-data-connect",[kb]:"fire-rtdb-compat",[Bb]:"fire-fn",[jb]:"fire-fn-compat",[Hb]:"fire-iid",[qb]:"fire-iid-compat",[Gb]:"fire-fcm",[Fb]:"fire-fcm-compat",[Qb]:"fire-perf",[Yb]:"fire-perf-compat",[$b]:"fire-rc",[Kb]:"fire-rc-compat",[Xb]:"fire-gcs",[Zb]:"fire-gcs-compat",[Jb]:"fire-fst",[tw]:"fire-fst-compat",[Wb]:"fire-vertex","fire-js":"fire-js",[ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,rw=new Map,wd=new Map;function p_(r,t){try{r.container.addComponent(t)}catch(i){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ec(r){const t=r.name;if(wd.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;wd.set(t,r);for(const i of vc.values())p_(i,r);for(const i of rw.values())p_(i,r);return!0}function aw(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function sw(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Qv("app","Firebase",lw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=nw;function Xv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:bd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(i||(i=Fv()),!i)throw Rr.create("no-options");const u=vc.get(l);if(u){if(ho(i,u.options)&&ho(s,u.config))return u;throw Rr.create("duplicate-app",{appName:l})}const h=new hb(l);for(const y of wd.values())h.addComponent(y);const m=new ow(i,s,h);return vc.set(l,m),m}function cw(r=bd){const t=vc.get(r);if(!t&&r===bd&&Fv())return Xv();if(!t)throw Rr.create("no-app",{appName:r});return t}function Ds(r,t,i){var s;let l=(s=iw[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(m.join(" "));return}Ec(new mo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firebase-heartbeat-database",hw=1,go="firebase-heartbeat-store";let hd=null;function Zv(){return hd||(hd=wb(fw,hw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),hd}async function dw(r){try{const i=(await Zv()).transaction(go),s=await i.objectStore(go).get(Jv(r));return await i.done,s}catch(t){if(t instanceof ks)Fi.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t?.message});Fi.warn(i.message)}}}async function y_(r,t){try{const s=(await Zv()).transaction(go,"readwrite");await s.objectStore(go).put(t,Jv(r)),await s.done}catch(i){if(i instanceof ks)Fi.warn(i.message);else{const s=Rr.create("idb-set",{originalErrorMessage:i?.message});Fi.warn(s.message)}}}function Jv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=1024,gw=30;class pw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _w(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=__();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>gw){const h=vw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=__(),{heartbeatsToSend:s,unsentEntries:l}=yw(this._heartbeatsCache.heartbeats),u=_c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Fi.warn(i),""}}}function __(){return new Date().toISOString().substring(0,10)}function yw(r,t=mw){const i=[];let s=r.slice();for(const l of r){const u=i.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),v_(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),v_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class _w{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rb()?ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return y_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return y_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function v_(r){return _c(JSON.stringify({version:2,heartbeats:r})).length}function vw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){Ec(new mo("platform-logger",t=>new Db(t),"PRIVATE")),Ec(new mo("heartbeat",t=>new pw(t),"PRIVATE")),Ds(Ad,g_,r),Ds(Ad,g_,"esm2017"),Ds("fire-js","")}Ew("");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,Wv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function R(){}R.prototype=w.prototype,O.D=w.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,P,U){for(var D=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)D[Le-2]=arguments[Le];return w.prototype[P].apply(N,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)N[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)N[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=O.g[0],R=O.g[1],P=O.g[2];var U=O.g[3],D=w+(U^R&(P^U))+N[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+N[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+N[2]+606105819&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+N[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+N[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+N[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+N[6]+2821735955&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+N[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+N[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+N[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+N[10]+4294925233&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+N[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+N[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+N[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+N[14]+2792965006&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+N[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(P^U&(R^P))+N[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+N[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+N[11]+643717713&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+N[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+N[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+N[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+N[15]+3634488961&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+N[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+N[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+N[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+N[3]+4107603335&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+N[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+N[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+N[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+N[7]+1735328473&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+N[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(R^P^U)+N[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+N[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+N[11]+1839030562&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+N[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+N[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+N[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+N[7]+4139469664&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+N[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+N[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+N[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+N[3]+3572445317&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+N[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+N[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+N[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+N[15]+530742520&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+N[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(P^(R|~U))+N[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+N[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+N[14]+2878612391&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+N[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+N[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+N[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+N[10]+4293915773&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+N[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+N[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+N[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+N[6]+2734768916&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+N[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+N[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+N[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+N[2]+718787259&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var R=w-this.blockSize,N=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=R;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<w;)if(N[P++]=O.charCodeAt(U++),P==this.blockSize){l(this,N),P=0;break}}else for(;U<w;)if(N[P++]=O[U++],P==this.blockSize){l(this,N),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var R=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=R&255,R/=256;for(this.u(O),O=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)O[R++]=this.g[w]>>>N&255;return O};function u(O,w){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=w(O)}function h(O,w){this.h=w;for(var R=[],N=!0,P=O.length-1;0<=P;P--){var U=O[P]|0;N&&U==w||(R[P]=U,N=!1)}this.g=R}var m={};function y(O){return-128<=O&&128>O?u(O,function(w){return new h([w|0],0>w?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return j(g(-O));for(var w=[],R=1,N=0;O>=R;N++)w[N]=O/R|0,R*=4294967296;return new h(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return j(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),N=S,P=0;P<O.length;P+=8){var U=Math.min(8,O.length-P),D=parseInt(O.substring(P,P+U),w);8>U?(U=g(Math.pow(w,U)),N=N.j(U).add(g(D))):(N=N.j(R),N=N.add(g(D)))}return N}var S=y(0),A=y(1),I=y(16777216);r=h.prototype,r.m=function(){if(G(this))return-j(this).m();for(var O=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*w,w*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(G(this))return"-"+j(this).toString(O);for(var w=g(Math.pow(O,6)),R=this,N="";;){var P=ut(R,w).g;R=F(R,P.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=P,M(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=F(this,O),G(O)?-1:M(O)?0:1};function j(O){for(var w=O.g.length,R=[],N=0;N<w;N++)R[N]=~O.g[N];return new h(R,~O.h).add(A)}r.abs=function(){return G(this)?j(this):this},r.add=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],N=0,P=0;P<=w;P++){var U=N+(this.i(P)&65535)+(O.i(P)&65535),D=(U>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=D>>>16,U&=65535,D&=65535,R[P]=D<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function F(O,w){return O.add(j(w))}r.j=function(O){if(M(this)||M(O))return S;if(G(this))return G(O)?j(this).j(j(O)):j(j(this).j(O));if(G(O))return j(this.j(j(O)));if(0>this.l(I)&&0>O.l(I))return g(this.m()*O.m());for(var w=this.g.length+O.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var U=this.i(N)>>>16,D=this.i(N)&65535,Le=O.i(P)>>>16,se=O.i(P)&65535;R[2*N+2*P]+=D*se,nt(R,2*N+2*P),R[2*N+2*P+1]+=U*se,nt(R,2*N+2*P+1),R[2*N+2*P+1]+=D*Le,nt(R,2*N+2*P+1),R[2*N+2*P+2]+=U*Le,nt(R,2*N+2*P+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new h(R,0)};function nt(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function W(O,w){this.g=O,this.h=w}function ut(O,w){if(M(w))throw Error("division by zero");if(M(O))return new W(S,S);if(G(O))return w=ut(j(O),w),new W(j(w.g),j(w.h));if(G(w))return w=ut(O,j(w)),new W(j(w.g),w.h);if(30<O.g.length){if(G(O)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,N=w;0>=N.l(O);)R=at(R),N=at(N);var P=pt(R,1),U=pt(N,1);for(N=pt(N,2),R=pt(R,2);!M(N);){var D=U.add(N);0>=D.l(O)&&(P=P.add(R),U=D),N=pt(N,1),R=pt(R,1)}return w=F(O,P.j(w)),new W(P,w)}for(P=S;0<=O.l(w);){for(R=Math.max(1,Math.floor(O.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(R),D=U.j(w);G(D)||0<D.l(O);)R-=N,U=g(R),D=U.j(w);M(U)&&(U=A),P=P.add(U),O=F(O,D)}return new W(P,O)}r.A=function(O){return ut(this,O).h},r.and=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&O.i(N);return new h(R,this.h&O.h)},r.or=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|O.i(N);return new h(R,this.h|O.h)},r.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^O.i(N);return new h(R,this.h^O.h)};function at(O){for(var w=O.g.length+1,R=[],N=0;N<w;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new h(R,O.h)}function pt(O,w){var R=w>>5;w%=32;for(var N=O.g.length-R,P=[],U=0;U<N;U++)P[U]=0<w?O.i(U+R)>>>w|O.i(U+R+1)<<32-w:O.i(U+R);return new h(P,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Wv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Cr=h}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t0,no,e0,fc,Rd,n0,i0,r0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ic=="object"&&ic];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(c,p){if(p)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break t;_=_[z]}c=c[c.length-1],b=_[c],p=p(b),p!=b&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Q=_++;return{value:p(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function S(c,p,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(p,z)}}return function(){return c.apply(p,arguments)}}function A(c,p,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function I(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function M(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Q){for(var rt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)rt[xt-2]=arguments[xt];return p.prototype[z].apply(b,rt)}}function G(c){const p=c.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=c[b];return _}return[]}function j(c,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(y(b)){const z=c.length||0,Q=b.length||0;c.length=z+Q;for(let rt=0;rt<Q;rt++)c[z+rt]=b[rt]}else c.push(b)}}class F{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function nt(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var at=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function pt(c,p,_){for(const b in c)p.call(_,c[b],b,c)}function O(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=kt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Le{constructor(){this.h=this.g=null}add(p,_){const b=se.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var se=new F(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,kt=new Le,V=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(et)}};var et=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var p=se;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}dt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ct(c,p){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(at){t:{try{ut(p.nodeName);var z=!0;break t}catch{}z=!1}z||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}M(Ct,it);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Gn(c,p,_,b,z){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function $i(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pi(c){this.src=c,this.g={},this.h=0}pi.prototype.add=function(c,p,_,b,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var rt=Br(c,p,b,z);return-1<rt?(p=c[rt],_||(p.fa=!1)):(p=new Gn(p,this.src,Q,!!b,z),p.fa=_,c.push(p)),p};function kr(c,p){var _=p.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,p,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(b,z,1),Q&&($i(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Br(c,p,_,b){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==b)return z}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),Gs={};function No(c,p,_,b,z){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)No(c,p[Q],_,b,z);return null}return _=xo(_),c&&c[Ie]?c.K(p,_,g(b)?!!b.capture:!1,z):vn(c,p,_,!1,b,z)}function vn(c,p,_,b,z,Q){if(!p)throw Error("Invalid event type");var rt=g(z)?!!z.capture:!!z,xt=xa(c);if(xt||(c[jr]=xt=new pi(c)),_=xt.add(p,_,b,rt,Q),_.proxy)return _;if(b=tf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)mt||(z=rt),z===void 0&&(z=!1),c.addEventListener(p.toString(),b,z);else if(c.attachEvent)c.attachEvent(Hr(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tf(){function c(_){return p.call(c.src,c.listener,_)}const p=ef;return c}function Fs(c,p,_,b,z){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)Fs(c,p[Q],_,b,z);else b=g(b)?!!b.capture:!!b,_=xo(_),c&&c[Ie]?(c=c.i,p=String(p).toString(),p in c.g&&(Q=c.g[p],_=Br(Q,_,b,z),-1<_&&($i(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[p],c.h--)))):c&&(c=xa(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Br(p,_,b,z)),(_=-1<c?p[c]:null)&&Na(_))}function Na(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])kr(p.i,c);else{var _=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(_,b,c.capture):p.detachEvent?p.detachEvent(Hr(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=xa(p))?(kr(_,c),_.h==0&&(_.src=null,p[jr]=null)):$i(c)}}}function Hr(c){return c in Gs?Gs[c]:Gs[c]="on"+c}function ef(c,p){if(c.da)c=!0;else{p=new Ct(p,this);var _=c.listener,b=c.ha||c.src;c.fa&&Na(c),c=_.call(b,p)}return c}function xa(c){return c=c[jr],c instanceof pi?c:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xo(c){return typeof c=="function"?c:(c[Qs]||(c[Qs]=function(p){return c.handleEvent(p)}),c[Qs])}function le(){lt.call(this),this.i=new pi(this),this.M=this,this.F=null}M(le,lt),le.prototype[Ie]=!0,le.prototype.removeEventListener=function(c,p,_,b){Fs(this,c,p,_,b)};function qt(c,p){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new it(p,c);else if(p instanceof it)p.target=p.target||c;else{var z=p;p=new it(b,c),N(p,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var rt=p.g=_[Q];z=un(rt,b,!0,p)&&z}if(rt=p.g=c,z=un(rt,b,!0,p)&&z,z=un(rt,b,!1,p)&&z,_)for(Q=0;Q<_.length;Q++)rt=p.g=_[Q],z=un(rt,b,!1,p)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],b=0;b<_.length;b++)$i(_[b]);delete c.g[p],c.h--}}this.F=null},le.prototype.K=function(c,p,_,b){return this.i.add(String(c),p,!1,_,b)},le.prototype.L=function(c,p,_,b){return this.i.add(String(c),p,!0,_,b)};function un(c,p,_,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,Q=0;Q<p.length;++Q){var rt=p[Q];if(rt&&!rt.da&&rt.capture==_){var xt=rt.listener,Ae=rt.ha||rt.src;rt.fa&&kr(c.i,rt),z=xt.call(Ae,b)!==!1&&z}}return z&&!b.defaultPrevented}function Ye(c,p,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Mo(c){c.g=Ye(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class nf extends lt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){lt.call(this),this.h=c,this.g={}}M(qr,lt);var Gr=[];function Fr(c){pt(c.g,function(p,_){this.g.hasOwnProperty(_)&&Na(p)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Fr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=m.JSON.stringify,Ma=m.JSON.parse,Qr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ys(){}Ys.prototype.h=null;function $s(c){return c.h||(c.h=c.i())}function Ks(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){it.call(this,"d")}M(_i,it);function Xs(){it.call(this,"c")}M(Xs,it);var Fn={},Zs=null;function Ki(){return Zs=Zs||new le}Fn.La="serverreachability";function Pa(c){it.call(this,Fn.La,c)}M(Pa,it);function Xi(c){const p=Ki();qt(p,new Pa(p))}Fn.STAT_EVENT="statevent";function Po(c,p){it.call(this,Fn.STAT_EVENT,c),this.stat=p}M(Po,it);function ee(c){const p=Ki();qt(p,new Po(p,c))}Fn.Ma="timingevent";function Se(c,p){it.call(this,Fn.Ma,c),this.size=p}M(Se,it);function pe(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Js(c,p,_,b,z,Q){c.info(function(){if(c.g)if(Q)for(var rt="",xt=Q.split("&"),Ae=0;Ae<xt.length;Ae++){var Mt=xt[Ae].split("=");if(1<Mt.length){var Oe=Mt[0];Mt=Mt[1];var be=Oe.split("_");rt=2<=be.length&&be[1]=="type"?rt+(Oe+"="+Mt+"&"):rt+(Oe+"=redacted&")}}else rt=null;else rt=Q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+p+`
`+_+`
`+rt})}function rf(c,p,_,b,z,Q,rt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+p+`
`+_+`
`+Q+" "+rt})}function Zi(c,p,_,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Yr(c,_)+(b?" "+b:"")})}function Lo(c,p){c.info(function(){return"TIMEOUT: "+p})}En.prototype.info=function(){};function Yr(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var rt=1;rt<z.length;rt++)z[rt]=""}}}}return Mn(_)}catch{return p}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}M(Yn,Ys),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function We(c,p,_,b){this.j=c,this.i=p,this.l=_,this.R=b||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Ws={},La={};function Pn(c,p,_){c.L=1,c.v=Jr(cn(p)),c.m=_,c.P=!0,Ei(c,null)}function Ei(c,p){c.F=Date.now(),$r(c),c.A=cn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),al(_.i,"t",b),c.C=0,_=c.j.J,c.h=new fe,c.g=Jo(c.j,_?p:null,!c.m),0<c.O&&(c.M=new nf(A(c.Y,c,c.g),c.O)),p=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Gr[0]=z.toString()),z=Gr);for(var Q=0;Q<z.length;Q++){var rt=No(_,z[Q],b||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Xi(),Js(c.i,c.u,c.A,c.l,c.R,c.m)}We.prototype.ca=function(c){c=c.target;const p=this.M;p&&bn(c)==3?p.j():this.Y(c)},We.prototype.Y=function(c){try{if(c==this.g)t:{const be=bn(this.g);var p=this.g.Ba();const Di=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||be!=4||p==7||(p==8||0>=Di?Xi(3):Xi(2)),Wi(this);var _=this.g.Z();this.X=_;e:if(Uo(this)){var b=Go(this.g);c="";var z=b.length,Q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),$n(this);var rt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(Q&&p==z-1)});b.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,rf(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ae=this.g;if((xt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(xt)){var Mt=xt;break e}}Mt=null}if(_=Mt)Zi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,_);else{this.o=!1,this.s=3,ee(12),Ue(this),$n(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<rt.length;)if(ze=zo(this,rt),ze==La){be==4&&(this.s=4,ee(14),_=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==Ws){this.s=4,ee(15),Zi(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else Zi(this.i,this.l,ze,null),Kr(this,ze);if(Uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||rt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)Zi(this.i,this.l,rt,"[Invalid Chunked Response]"),Ue(this),$n(this);else if(0<rt.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),sa(Oe),Oe.M=!0,ee(11))}}else Zi(this.i,this.l,rt,null),Kr(this,rt);be==4&&Ue(this),this.o&&!this.J&&(be==4?Ko(this.j,this):(this.o=!1,$r(this)))}else uf(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),$n(this)}}}catch{}finally{}};function Uo(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zo(c,p){var _=c.C,b=p.indexOf(`
`,_);return b==-1?La:(_=Number(p.substring(_,b)),isNaN(_)?Ws:(b+=1,b+_>p.length?La:(p=p.slice(b,b+_),c.C=b+_,p)))}We.prototype.cancel=function(){this.J=!0,Ue(this)};function $r(c){c.S=Date.now()+c.I,ko(c,c.I)}function ko(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(A(c.ba,c),p)}function Wi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}We.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Lo(this.i,this.A),this.L!=2&&(Xi(),ee(17)),Ue(this),this.s=2,$n(this)):ko(this,this.S-c)};function $n(c){c.j.G==0||c.J||Ko(c.j,c)}function Ue(c){Wi(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Fr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Kr(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||tl(_.h,c))){if(!c.K&&tl(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)$a(_),Qa(_);else break t;cl(_),ee(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(A(_.Za,_),6e3));if(1>=za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&$a(_),!nt(p))for(z=_.Da.g.parse(p),p=0;p<z.length;p++){let Mt=z[p];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Oe=Mt[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const be=Mt[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const Di=Mt[5];Di!=null&&typeof Di=="number"&&0<Di&&(b=1.5*Di,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const ze=c.g;if(ze){const ei=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var Q=b.h;Q.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ka(Q,Q.h),Q.h=null))}if(b.D){const hl=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(b.ya=hl,Qt(b.I,b.D,hl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var rt=c;if(b.qa=Zo(b,b.J?b.ia:null,b.W),rt.K){tn(b.h,rt);var xt=rt,Ae=b.L;Ae&&(xt.I=Ae),xt.B&&(Wi(xt),$r(xt)),b.g=rt}else Yo(b);0<_.i.length&&Ya(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ci(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ci(_,7):ol(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Xi(4)}catch{}}var Bo=class{constructor(c,p){this.g=c,this.map=p}};function Ti(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function za(c){return c.h?1:c.g?c.g.size:0}function tl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ka(c,p){c.g?c.g.add(p):c.h=p}function tn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ti.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function el(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return G(c.i)}function af(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,b=0;b<_;b++)p.push(c[b]);return p}p=[],_=0;for(b in c)p[_++]=c[b];return p}function Ba(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const b in c)p[_++]=b;return p}}}function nl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Ba(c),b=af(c),z=b.length,Q=0;Q<z;Q++)p.call(void 0,b[Q],_&&_[Q],c)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Q=c[_].substring(0,b);z=c[_].substring(b+1)}else Q=c[_];p(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,Zr(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.s),this.l=c.l;var p=c.i,_=new Ai;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Si(this,_),this.m=c.m}else c&&(p=String(c).match(Xr))?(this.h=!1,Zr(this,p[1]||"",!0),this.o=Tn(p[2]||""),this.g=Tn(p[3]||"",!0),tr(this,p[4]),this.l=Tn(p[5]||"",!0),Si(this,p[6]||"",!0),this.m=Tn(p[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}ye.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Wr(p,il,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Wr(p,il,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Wr(_,_.charAt(0)=="/"?lf:rl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Wr(_,ja)),c.join("")};function cn(c){return new ye(c)}function Zr(c,p,_){c.j=_?Tn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Si(c,p,_){p instanceof Ai?(c.i=p,Ho(c.i,c.h)):(_||(p=Wr(p,of)),c.i=new Ai(p,c.h))}function Qt(c,p,_){c.i.set(p,_)}function Jr(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wr(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,jo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,rl=/[#\?:]/g,lf=/[#\?]/g,of=/[#\?@]/g,ja=/#/g;function Ai(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&sf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ai.prototype,r.add=function(c,p){Sn(this),this.i=null,c=Kn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function bi(c,p){Sn(c),p=Kn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function wi(c,p){return Sn(c),p=Kn(c,p),c.g.has(p)}r.forEach=function(c,p){Sn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(p,z,b,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const z=c[b];for(let Q=0;Q<z.length;Q++)_.push(p[b])}return _},r.V=function(c){Sn(this);let p=[];if(typeof c=="string")wi(this,c)&&(p=p.concat(this.g.get(Kn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return Sn(this),this.i=null,c=Kn(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function al(c,p,_){bi(c,p),0<_.length&&(c.i=null,c.g.set(Kn(c,p),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const Q=encodeURIComponent(String(b)),rt=this.V(b);for(b=0;b<rt.length;b++){var z=Q;rt[b]!==""&&(z+="="+encodeURIComponent(String(rt[b]))),c.push(z)}}return this.i=c.join("&")};function Kn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ho(c,p){p&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(bi(this,b),al(this,z,_))},c)),c.j=p}function ta(c,p){const _=new En;if(m.Image){const b=new Image;b.onload=I(An,_,"TestLoadImage: loaded",!0,p,b),b.onerror=I(An,_,"TestLoadImage: error",!1,p,b),b.onabort=I(An,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=I(An,_,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function Ln(c,p){const _=new En,b=new AbortController,z=setTimeout(()=>{b.abort(),An(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(z),Q.ok?An(_,"TestPingServer: ok",!0,p):An(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),An(_,"TestPingServer: error",!1,p)})}function An(c,p,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function ea(){this.g=new Qr}function Xn(c,p,_){const b=_||"";try{nl(c,function(z,Q){let rt=z;g(z)&&(rt=Mn(z)),p.push(b+Q+"="+encodeURIComponent(rt))})}catch(z){throw p.push(b+"type="+encodeURIComponent("_badmap")),z}}function er(c){this.l=c.Ub||null,this.j=c.eb||!1}M(er,Ys),er.prototype.g=function(){return new Ri(this.l,this.j)},er.prototype.i=function(c){return function(){return c}}({});function Ri(c,p){le.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ri,le),r=Ri.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Zn(this):Jn(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let p="";return pt(c,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function Ve(c,p,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=ll(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,p,_))}function jt(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(jt,le);var Ha=/^https?$/i,na=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?$s(this.o):$s(Qn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){qo(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(na,p,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,rt]of _)this.g.setRequestHeader(Q,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){qo(this,Q)}};function qo(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,qa(c),Wn(c)}function qa(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},r.bb=function(){Ga(this)};function Ga(c){if(c.h&&typeof h<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Ye(c.Ea,0,c);else if(qt(c,"readystatechange"),bn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var b;if(b=rt===0){var z=String(c.D).match(Xr)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!Ha.test(z?z.toLowerCase():"")}_=b}if(_)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var Q=2<bn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",qa(c)}}finally{Wn(c)}}}}function Wn(c,p){if(c.g){ia(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||qt(c,"ready");try{_.onreadystatechange=b}catch{}}}function ia(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ma(p)}};function Go(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const p={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(nt(c[b]))continue;var _=P(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[z]||[];p[z]=Q,Q.push(_)}O(p,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Fa(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,c),this.cb=ra("retryDelaySeedMs",1e4,c),this.Wa=ra("forwardChannelMaxRetries",2,c),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(c&&c.concurrentRequestLimit),this.Da=new ea,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,b){ee(0),this.W=c,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Zo(this,null,this.W),Ya(this)};function ol(c){if(Fo(c),c.G==3){var p=c.U++,_=cn(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",p),Qt(_,"TYPE","terminate"),aa(c,_),p=new We(c,c.j,p),p.L=2,p.v=Jr(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Jo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$r(p)}Xo(c)}function Qa(c){c.g&&(sa(c),c.g.cancel(),c.g=null)}function Fo(c){Qa(c),c.u&&(m.clearTimeout(c.u),c.u=null),$a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ya(c){if(!Ua(c.h)&&!c.s){c.s=!0;var p=c.Ga;st||V(),dt||(st(),dt=!0),kt.add(p,c),c.B=0}}function cf(c,p){return za(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(A(c.Ga,c,p),fl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new We(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Qo(this,z,p),_=cn(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),aa(this,_),Q&&(this.O?p="headers="+encodeURIComponent(String(ll(Q)))+"&"+p:this.m&&Ve(_,this.m,Q)),ka(this.h,z),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",p),Qt(_,"SID","null"),z.T=!0,Pn(z,_,null)):Pn(z,_,p),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||Ua(this.h)||ul(this))};function ul(c,p){var _;p?_=p.l:_=c.U++;const b=cn(c.I);Qt(b,"SID",c.K),Qt(b,"RID",_),Qt(b,"AID",c.T),aa(c,b),c.m&&c.o&&Ve(b,c.m,c.o),_=new We(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Qo(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,_),Pn(_,b,p)}function aa(c,p){c.H&&pt(c.H,function(_,b){Qt(p,b,_)}),c.l&&nl({},function(_,b){Qt(p,b,_)})}function Qo(c,p,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;t:{var z=c.i;let Q=-1;for(;;){const rt=["count="+_];Q==-1?0<_?(Q=z[0].g,rt.push("ofs="+Q)):Q=0:rt.push("ofs="+Q);let xt=!0;for(let Ae=0;Ae<_;Ae++){let Mt=z[Ae].g;const Oe=z[Ae].map;if(Mt-=Q,0>Mt)Q=Math.max(0,z[Ae].g-100),xt=!1;else try{Xn(Oe,rt,"req"+Mt+"_")}catch{b&&b(Oe)}}if(xt){b=rt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,b}function Yo(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;st||V(),dt||(st(),dt=!0),kt.add(p,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(A(c.Fa,c),fl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,$o(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Qa(this),$o(this))};function sa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $o(c){c.g=new We(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=cn(c.qa);Qt(p,"RID","rpc"),Qt(p,"SID",c.K),Qt(p,"AID",c.T),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(p,"TO",c.ja),Qt(p,"TYPE","xmlhttp"),aa(c,p),c.m&&c.o&&Ve(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Jr(cn(p)),_.m=null,_.P=!0,Ei(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Qa(this),cl(this),ee(19))};function $a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ko(c,p){var _=null;if(c.g==p){$a(c),sa(c),c.g=null;var b=2}else if(tl(c.h,p))_=p.D,tn(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var z=c.B;b=Ki(),qt(b,new Se(b,_)),Ya(c)}else Yo(c);else if(z=p.s,z==3||z==0&&0<p.X||!(b==1&&cf(c,p)||b==2&&cl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),z){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function fl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ci(c,p){if(c.j.info("Error code "+p),p==2){var _=A(c.fb,c),b=c.Xa;const z=!b;b=new ye(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zr(b,"https"),Jr(b),z?ta(b.toString(),_):Ln(b.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(p),Xo(c),Fo(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Xo(c){if(c.G=0,c.ka=[],c.l){const p=el(c.h);(p.length!=0||c.i.length!=0)&&(j(c.ka,p),j(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Zo(c,p,_){var b=_ instanceof ye?cn(_):new ye(_);if(b.g!="")p&&(b.g=p+"."+b.g),tr(b,b.s);else{var z=m.location;b=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var Q=new ye(null);b&&Zr(Q,b),p&&(Q.g=p),z&&tr(Q,z),_&&(Q.l=_),b=Q}return _=c.D,p=c.ya,_&&p&&Qt(b,_,p),Qt(b,"VER",c.la),aa(c,b),b}function Jo(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new jt(new er({eb:_})):new jt(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ka(){}Ka.prototype.g=function(c,p){return new en(c,p)};function en(c,p){le.call(this),this.g=new Fa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!nt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!nt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ti(this)}M(en,le),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ol(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Mn(c),c=_);p.i.push(new Bo(p.Ya++,c)),p.G==3&&Ya(p)},en.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,en.aa.N.call(this)};function tu(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}M(tu,_i);function eu(){Xs.call(this),this.status=1}M(eu,Xs);function ti(c){this.g=c}M(ti,Wo),ti.prototype.ua=function(){qt(this.g,"a")},ti.prototype.ta=function(c){qt(this.g,new tu(c))},ti.prototype.sa=function(c){qt(this.g,new eu)},ti.prototype.ra=function(){qt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,r0=function(){return new Ka},i0=function(){return Ki()},n0=Fn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,fc=Ji,vi.COMPLETE="complete",e0=vi,Ks.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",le.prototype.listen=le.prototype.K,no=Ks,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,t0=jt}).apply(typeof ic<"u"?ic:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",S_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Yv("@firebase/firestore");function bs(){return wa.logLevel}function ot(r,...t){if(wa.logLevel<=Ut.DEBUG){const i=t.map(em);wa.debug(`Firestore (${Bs}): ${r}`,...i)}}function Qi(r,...t){if(wa.logLevel<=Ut.ERROR){const i=t.map(em);wa.error(`Firestore (${Bs}): ${r}`,...i)}}function Vr(r,...t){if(wa.logLevel<=Ut.WARN){const i=t.map(em);wa.warn(`Firestore (${Bs}): ${r}`,...i)}}function em(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,a0(r,s,i)}function a0(r,t,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Qi(s),new Error(s)}function Ht(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||a0(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ks{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Tw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class Sw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Aw{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},m=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new s0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class bw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ww{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new bw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const l=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Cw(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<i&&(s+=t.charAt(l[u]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function Cd(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const u=l0(),h=Dw(u.encode(b_(r,i)),u.encode(b_(t,i)));return h!==0?h:Rt(s,l)}}i+=s>65535?2:1}return Rt(r.length,t.length)}function b_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Dw(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Rt(r[i],t[i]);return Rt(r.length,t.length)}function Os(r,t,i){return r.length===t.length&&r.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="__name__";class li{constructor(t,i,s){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&vt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const u=li.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return Rt(t.length,i.length)}static compareSegments(t,i){const s=li.isNumericId(t),l=li.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?li.extractNumericId(t).compare(li.extractNumericId(i)):Cd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class Wt extends li{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Iw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends li{construct(t,i,s){return new Fe(t,i,s)}static isValidIdentifier(t){return Iw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w_}static keyField(){return new Fe([w_])}static fromServerFormat(t){const i=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ft(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ft(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(s+=m,l++):(u(),l++)}if(u(),h)throw new ft(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(Wt.fromString(t))}static fromName(t){return new gt(Wt.fromString(t).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r,t,i){if(!i)throw new ft(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Vw(r,t,i,s){if(t===!0&&s===!0)throw new ft(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R_(r){if(!gt.isDocumentKey(r))throw new ft(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function C_(r){if(gt.isDocumentKey(r))throw new ft(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function u0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function im(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=im(r);throw new ft(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,t){const i={typeString:r};return t&&(i.value=t),i}function wo(r,t){if(!u0(r))throw new ft(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const h=r[s];if(l&&typeof h!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ft(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,I_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*I_);return new te(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<D_)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wo(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-D_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Te("string",te._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new te(0,0))}static max(){return new St(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function Ow(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Or(l,gt.empty(),t)}function Nw(r){return new Or(r.readTime,r.key,po)}class Or{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Or(St.min(),gt.empty(),po)}static max(){return new Or(St.max(),gt.empty(),po)}}function xw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==Mw)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,s)=>{i(t)})}static reject(t){return new J((i,s)=>{s(t)})}static waitFor(t){return new J((i,s)=>{let l=0,u=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&i()},y=>s(y))}),h=!0,u===l&&i()})}static or(t){let i=J.resolve(!1);for(const s of t)i=i.next(l=>l?J.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,u)=>{s.push(i.call(this,l,u))}),this.waitFor(s)}static mapArray(t,i){return new J((s,l)=>{const u=t.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;i(t[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>l(E))}})}static doWhile(t,i){return new J((s,l)=>{const u=()=>{t()===!0?i().next(()=>{u()},l):s()};u()})}}function Lw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Lc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function Uc(r){return r==null}function Tc(r){return r===0&&1/r==-1/0}function Uw(r){return typeof r=="number"&&Number.isInteger(r)&&!Tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="";function zw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=V_(t)),t=kw(r.get(i),t);return V_(t)}function kw(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":i+="";break;case c0:i+="";break;default:i+=u}}return i}function V_(r){return r+c0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function f0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rc(this.root,t,this.comparator,!0)}}class rc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,u){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,u){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,s),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,s,l,u){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(t){return new N_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new De(this.comparator);return i.data=t,i}}class N_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new _n([])}unionWith(t){let i=new De(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new _n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Os(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h0("Invalid base64 string: "+u):u}}(t);return new Qe(i)}static fromUint8Array(t){const i=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Bw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=Bw.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xr(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="server_timestamp",m0="__type__",g0="__previous_value__",p0="__local_write_time__";function am(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[m0])===null||i===void 0?void 0:i.stringValue)===d0}function zc(r){const t=r.mapValue.fields[g0];return am(t)?zc(t):t}function yo(r){const t=Nr(r.mapValue.fields[p0].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,i,s,l,u,h,m,y,g,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Sc="(default)";class _o{constructor(t,i){this.projectId=t,this.database=i||Sc}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(t){return t instanceof _o&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__type__",Hw="__max__",ac={mapValue:{}},_0="__vector__",Ac="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?am(r)?4:Gw(r)?9007199254740991:qw(r)?10:11:vt(28295,{value:r})}function hi(r,t){if(r===t)return!0;const i=Mr(r);if(i!==Mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return yo(r).isEqual(yo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=Nr(l.timestampValue),m=Nr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return xr(l.bytesValue).isEqual(xr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return me(l.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return me(l.integerValue)===me(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=me(l.doubleValue),m=me(u.doubleValue);return h===m?Tc(h)===Tc(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return Os(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(O_(h)!==O_(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!hi(h[y],m[y])))return!1;return!0}(r,t);default:return vt(52216,{left:r})}}function vo(r,t){return(r.values||[]).find(i=>hi(i,t))!==void 0}function Ns(r,t){if(r===t)return 0;const i=Mr(r),s=Mr(t);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(u,h){const m=me(u.integerValue||u.doubleValue),y=me(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,t);case 3:return x_(r.timestampValue,t.timestampValue);case 4:return x_(yo(r),yo(t));case 5:return Cd(r.stringValue,t.stringValue);case 6:return function(u,h){const m=xr(u),y=xr(h);return m.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),y=h.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Rt(m[g],y[g]);if(E!==0)return E}return Rt(m.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Rt(me(u.latitude),me(h.latitude));return m!==0?m:Rt(me(u.longitude),me(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return M_(r.arrayValue,t.arrayValue);case 10:return function(u,h){var m,y,g,E;const S=u.fields||{},A=h.fields||{},I=(m=S[Ac])===null||m===void 0?void 0:m.arrayValue,M=(y=A[Ac])===null||y===void 0?void 0:y.arrayValue,G=Rt(((g=I?.values)===null||g===void 0?void 0:g.length)||0,((E=M?.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:M_(I,M)}(r.mapValue,t.mapValue);case 11:return function(u,h){if(u===ac.mapValue&&h===ac.mapValue)return 0;if(u===ac.mapValue)return 1;if(h===ac.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=h.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const A=Cd(y[S],E[S]);if(A!==0)return A;const I=Ns(m[y[S]],g[E[S]]);if(I!==0)return I}return Rt(y.length,E.length)}(r.mapValue,t.mapValue);default:throw vt(23264,{le:i})}}function x_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const i=Nr(r),s=Nr(t),l=Rt(i.seconds,s.seconds);return l!==0?l:Rt(i.nanos,s.nanos)}function M_(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const u=Ns(i[l],s[l]);if(u)return u}return Rt(i.length,s.length)}function xs(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Nr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return xr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=Dd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const h of s)u?u=!1:l+=",",l+=`${h}:${Dd(i.fields[h])}`;return l+"}"}(r.mapValue):vt(61005,{value:r})}function hc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zc(r);return t?16+hc(t):16;case 5:return 2*r.stringValue.length;case 6:return xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+hc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ur(s.fields,(u,h)=>{l+=u.length+hc(h)}),l}(r.mapValue);default:throw vt(13486,{value:r})}}function Id(r){return!!r&&"integerValue"in r}function sm(r){return!!r&&"arrayValue"in r}function P_(r){return!!r&&"nullValue"in r}function L_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dc(r){return!!r&&"mapValue"in r}function qw(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[y0])===null||i===void 0?void 0:i.stringValue)===_0}function lo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ur(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=lo(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=lo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function Gw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Hw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=lo(i)}setAll(t){let i=Fe.emptyPath(),s={},l=[];t.forEach((h,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=m.popLast()}h?s[m.lastSegment()]=lo(h):l.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,s,l)}delete(t){const i=this.field(t.popLast());dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ur(i,(l,u)=>t[l]=u);for(const l of s)delete t[l]}clone(){return new on(lo(this.value))}}function v0(r){const t=[];return Ur(r.fields,(i,s)=>{const l=new Fe([i]);if(dc(s)){const u=v0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)}),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,i,s,l,u,h,m){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(t,i,s,l){return new Je(t,1,i,St.min(),s,l,0)}static newNoDocument(t,i){return new Je(t,2,i,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i){this.position=t,this.inclusive=i}}function U_(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],h=r.position[l];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(h.referenceValue),i.key):s=Ns(h,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function z_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Fw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{}class Ce extends E0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Yw(t,i,s):i==="array-contains"?new Xw(t,s):i==="in"?new Zw(t,s):i==="not-in"?new Jw(t,s):i==="array-contains-any"?new Ww(t,s):new Ce(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new $w(t,s):new Kw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ns(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Ns(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends E0{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new di(t,i)}matches(t){return T0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function T0(r){return r.op==="and"}function S0(r){return Qw(r)&&T0(r)}function Qw(r){for(const t of r.filters)if(t instanceof di)return!1;return!0}function Vd(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+xs(r.value);if(S0(r))return r.filters.map(t=>Vd(t)).join(",");{const t=r.filters.map(i=>Vd(i)).join(",");return`${r.op}(${t})`}}function A0(r,t){return r instanceof Ce?function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&hi(s.value,l.value)}(r,t):r instanceof di?function(s,l){return l instanceof di&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,h,m)=>u&&A0(h,l.filters[m]),!0):!1}(r,t):void vt(19439)}function b0(r){return r instanceof Ce?function(i){return`${i.field.canonicalString()} ${i.op} ${xs(i.value)}`}(r):r instanceof di?function(i){return i.op.toString()+" {"+i.getFilters().map(b0).join(" ,")+"}"}(r):"Filter"}class Yw extends Ce{constructor(t,i,s){super(t,i,s),this.key=gt.fromName(s.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class $w extends Ce{constructor(t,i){super(t,"in",i),this.keys=w0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Kw extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=w0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function w0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class Xw extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return sm(i)&&vo(i.arrayValue,this.value)}}class Zw extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class Jw extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class Ww extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>vo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,i=null,s=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function k_(r,t=null,i=[],s=[],l=null,u=null,h=null){return new tR(r,t,i,s,l,u,h)}function lm(r){const t=At(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Vd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>xs(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>xs(s)).join(",")),t.Pe=i}return t.Pe}function om(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Fw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!A0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!z_(r.startAt,t.startAt)&&z_(r.endAt,t.endAt)}function Od(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i=null,s=[],l=[],u=null,h="F",m=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function eR(r,t,i,s,l,u,h,m){return new kc(r,t,i,s,l,u,h,m)}function Bc(r){return new kc(r)}function B_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nR(r){return r.collectionGroup!==null}function oo(r){const t=At(r);if(t.Te===null){t.Te=[];const i=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new De(Fe.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Te.push(new wc(u,s))}),i.has(Fe.keyField().canonicalString())||t.Te.push(new wc(Fe.keyField(),s))}return t.Te}function oi(r){const t=At(r);return t.Ie||(t.Ie=iR(t,oo(r))),t.Ie}function iR(r,t){if(r.limitType==="F")return k_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new wc(l.field,u)});const i=r.endAt?new bc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bc(r.startAt.position,r.startAt.inclusive):null;return k_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Nd(r,t,i){return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function jc(r,t){return om(oi(r),oi(t))&&r.limitType===t.limitType}function R0(r){return`${lm(oi(r))}|lt:${r.limitType}`}function ws(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>b0(l)).join(", ")}]`),Uc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>xs(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>xs(l)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Hc(r,t){return t.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,l){for(const u of oo(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(h,m,y){const g=U_(h,m,y);return h.inclusive?g<=0:g<0}(s.startAt,oo(s),l)||s.endAt&&!function(h,m,y){const g=U_(h,m,y);return h.inclusive?g>=0:g>0}(s.endAt,oo(s),l))}(r,t)}function rR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function C0(r){return(t,i)=>{let s=!1;for(const l of oo(r)){const u=aR(l,t,i);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function aR(r,t,i){const s=r.field.isKeyField()?gt.comparator(t.key,i.key):function(u,h,m){const y=h.data.field(u),g=m.data.field(u);return y!==null&&g!==null?Ns(y,g):vt(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ur(this.inner,(i,s)=>{for(const[l,u]of s)t(l,u)})}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new ae(gt.comparator);function Yi(){return sR}const D0=new ae(gt.comparator);function io(...r){let t=D0;for(const i of r)t=t.insert(i.key,i);return t}function I0(r){let t=D0;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Aa(){return uo()}function V0(){return uo()}function uo(){return new Va(r=>r.toString(),(r,t)=>r.isEqual(t))}const lR=new ae(gt.comparator),oR=new De(gt.comparator);function Nt(...r){let t=oR;for(const i of r)t=t.add(i);return t}const uR=new De(Rt);function cR(){return uR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(t)?"-0":t}}function O0(r){return{integerValue:""+r}}function fR(r,t){return Uw(t)?O0(t):um(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function hR(r,t,i){return r instanceof Rc?function(l,u){const h={fields:{[m0]:{stringValue:d0},[p0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&am(u)&&(u=zc(u)),u&&(h.fields[g0]=u),{mapValue:h}}(i,t):r instanceof Ms?x0(r,t):r instanceof Eo?M0(r,t):function(l,u){const h=N0(l,u),m=j_(h)+j_(l.Ee);return Id(h)&&Id(l.Ee)?O0(m):um(l.serializer,m)}(r,t)}function dR(r,t,i){return r instanceof Ms?x0(r,t):r instanceof Eo?M0(r,t):i}function N0(r,t){return r instanceof Cc?function(s){return Id(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Rc extends qc{}class Ms extends qc{constructor(t){super(),this.elements=t}}function x0(r,t){const i=P0(t);for(const s of r.elements)i.some(l=>hi(l,s))||i.push(s);return{arrayValue:{values:i}}}class Eo extends qc{constructor(t){super(),this.elements=t}}function M0(r,t){let i=P0(t);for(const s of r.elements)i=i.filter(l=>!hi(l,s));return{arrayValue:{values:i}}}class Cc extends qc{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function j_(r){return me(r.integerValue||r.doubleValue)}function P0(r){return sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,i){this.field=t,this.transform=i}}function gR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Ms&&l instanceof Ms||s instanceof Eo&&l instanceof Eo?Os(s.elements,l.elements,hi):s instanceof Cc&&l instanceof Cc?hi(s.Ee,l.Ee):s instanceof Rc&&l instanceof Rc}(r.transform,t.transform)}class pR{constructor(t,i){this.version=t,this.transformResults=i}}class jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Gc{}function L0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new cm(r.key,jn.none()):new Ro(r.key,r.data,jn.none());{const i=r.data,s=on.empty();let l=new De(Fe.comparator);for(let u of t.fields)if(!l.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?s.delete(u):s.set(u,h),l=l.add(u)}return new zr(r.key,s,new _n(l.toArray()),jn.none())}}function yR(r,t,i){r instanceof Ro?function(l,u,h){const m=l.value.clone(),y=q_(l.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,i):r instanceof zr?function(l,u,h){if(!mc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=q_(l.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(U0(l)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(r,t,i):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function co(r,t,i,s){return r instanceof Ro?function(u,h,m,y){if(!mc(u.precondition,h))return m;const g=u.value.clone(),E=G_(u.fieldTransforms,y,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,t,i,s):r instanceof zr?function(u,h,m,y){if(!mc(u.precondition,h))return m;const g=G_(u.fieldTransforms,y,h),E=h.data;return E.setAll(U0(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,i,s):function(u,h,m){return mc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,i)}function _R(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=N0(s.transform,l||null);u!=null&&(i===null&&(i=on.empty()),i.set(s.field,u))}return i||null}function H_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Os(s,l,(u,h)=>gR(u,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ro extends Gc{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class zr extends Gc{constructor(t,i,s,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function U0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function q_(r,t,i){const s=new Map;Ht(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let l=0;l<i.length;l++){const u=r[l],h=u.transform,m=t.data.field(u.field);s.set(u.field,dR(h,m,i[l]))}return s}function G_(r,t,i){const s=new Map;for(const l of r){const u=l.transform,h=i.data.field(l.field);s.set(l.field,hR(u,h,t))}return s}class cm extends Gc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vR extends Gc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&yR(u,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=co(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=co(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=V0();return this.mutations.forEach(l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=i.has(l.key)?null:m;const y=L0(h,m);y!==null&&s.set(l.key,y),h.isValidDocument()||h.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Os(this.mutations,t.mutations,(i,s)=>H_(i,s))&&Os(this.baseMutations,t.baseMutations,(i,s)=>H_(i,s))}}class fm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let l=function(){return lR}();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,s[h].version);return new fm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Lt;function AR(r){switch(r){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function z0(r){if(r===void 0)return Qi("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Ee.OK:return tt.OK;case Ee.CANCELLED:return tt.CANCELLED;case Ee.UNKNOWN:return tt.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return tt.INTERNAL;case Ee.UNAVAILABLE:return tt.UNAVAILABLE;case Ee.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ee.NOT_FOUND:return tt.NOT_FOUND;case Ee.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ee.ABORTED:return tt.ABORTED;case Ee.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ee.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:r})}}(Lt=Ee||(Ee={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Cr([4294967295,4294967295],0);function F_(r){const t=l0().encode(r),i=new Wv;return i.update(t),new Uint8Array(i.digest())}function Q_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Cr([i,s],0),new Cr([l,u],0)]}class hm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Cr.fromNumber(this.fe)}pe(t,i,s){let l=t.add(i.multiply(Cr.fromNumber(s)));return l.compare(bR)===1&&(l=new Cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=F_(t),[s,l]=Q_(i);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,l,u);if(!this.ye(h))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new hm(u,l,i);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.fe===0)return;const i=F_(t),[s,l]=Q_(i);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,l,u);this.we(h)}}we(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i,s,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Co.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Fc(St.min(),l,new ae(Rt),Yi(),Nt())}}class Co{constructor(t,i,s,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Co(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.be=l}}class k0{constructor(t,i){this.targetId=t,this.De=i}}class B0{constructor(t,i,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Y_{constructor(){this.ve=0,this.Ce=$_(),this.Fe=Qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Nt(),i=Nt(),s=Nt();return this.Ce.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:vt(38017,{changeType:u})}}),new Co(this.Fe,this.Me,t,i,s)}ke(){this.xe=!1,this.Ce=$_()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class wR{constructor(t){this.We=t,this.Ge=new Map,this.ze=Yi(),this.je=sc(),this.Je=sc(),this.He=new ae(Rt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,i=>{const s=this.tt(i);switch(t.state){case 0:this.nt(i)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(t.resumeToken));break;default:vt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach((s,l)=>{this.nt(l)&&i(l)})}it(t){const i=t.targetId,s=t.De.count,l=this.st(i);if(l){const u=l.target;if(Od(u))if(s===0){const h=new gt(u.path);this.Xe(i,h,Je.newNoDocument(h,St.min()))}else Ht(s===1,20013,{expectedCount:s});else{const h=this.ot(i);if(h!==s){const m=this._t(t),y=m?this.ut(m,t,h):1;if(y!==0){this.rt(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,g)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let h,m;try{h=xr(s).toUint8Array()}catch(y){if(y instanceof h0)return Vr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new hm(h,l,u)}catch(y){return Vr(y instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.fe===0?null:m}ut(t,i,s){return i.De.count===s-this.ht(t,i.targetId)?0:2}ht(t,i){const s=this.We.getRemoteKeysForTarget(i);let l=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(i,u,null),l++)}),l}Pt(t){const i=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Od(m.target)){const y=new gt(m.target.path);this.Tt(y).has(h)||this.It(h,y)||this.Xe(h,y,Je.newNoDocument(y,t))}u.Ne&&(i.set(h,u.Le()),u.ke())}});let s=Nt();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(y=>{const g=this.st(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(t));const l=new Fc(t,i,this.He,this.ze,s);return this.ze=Yi(),this.je=sc(),this.Je=sc(),this.He=new ae(Rt),l}Ze(t,i){if(!this.nt(t))return;const s=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,s){if(!this.nt(t))return;const l=this.tt(t);this.It(t,i)?l.qe(i,1):l.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new Y_,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new De(Rt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new De(Rt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Y_),this.We.getRemoteKeysForTarget(t).forEach(i=>{this.Xe(t,i,null)})}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function sc(){return new ae(gt.comparator)}function $_(){return new ae(gt.comparator)}const RR={asc:"ASCENDING",desc:"DESCENDING"},CR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DR={and:"AND",or:"OR"};class IR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function xd(r,t){return r.useProto3Json||Uc(t)?t:{value:t}}function Dc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function VR(r,t){return Dc(r,t.toTimestamp())}function ui(r){return Ht(!!r,49232),St.fromTimestamp(function(i){const s=Nr(i);return new te(s.seconds,s.nanos)}(r))}function dm(r,t){return Md(r,t).canonicalString()}function Md(r,t){const i=function(l){return new Wt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function H0(r){const t=Wt.fromString(r);return Ht(Y0(t),10190,{key:t.toString()}),t}function Pd(r,t){return dm(r.databaseId,t.path)}function dd(r,t){const i=H0(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(G0(i))}function q0(r,t){return dm(r.databaseId,t)}function OR(r){const t=H0(r);return t.length===4?Wt.emptyPath():G0(t)}function Ld(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function K_(r,t,i){return{name:Pd(r,t),fields:i.value.mapValue.fields}}function NR(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const E=g.code===void 0?tt.UNKNOWN:z0(g.code);return new ft(E,g.message||"")}(h);i=new B0(s,l,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=dd(r,s.document.name),u=ui(s.document.updateTime),h=s.document.createTime?ui(s.document.createTime):St.min(),m=new on({mapValue:{fields:s.document.fields}}),y=Je.newFoundDocument(l,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];i=new gc(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=dd(r,s.document),u=s.readTime?ui(s.readTime):St.min(),h=Je.newNoDocument(l,u),m=s.removedTargetIds||[];i=new gc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=dd(r,s.document),u=s.removedTargetIds||[];i=new gc([],u,l,null)}else{if(!("filter"in t))return vt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,h=new SR(l,u),m=s.targetId;i=new k0(m,h)}}return i}function xR(r,t){let i;if(t instanceof Ro)i={update:K_(r,t.key,t.value)};else if(t instanceof cm)i={delete:Pd(r,t.key)};else if(t instanceof zr)i={update:K_(r,t.key,t.data),updateMask:HR(t.fieldMask)};else{if(!(t instanceof vR))return vt(16599,{Rt:t.type});i={verify:Pd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Rc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ms)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Cc)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw vt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:VR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)}(r,t.precondition)),i}function MR(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(i=>function(l,u){let h=l.updateTime?ui(l.updateTime):ui(u);return h.isEqual(St.min())&&(h=ui(u)),new pR(h,l.transformResults||[])}(i,t))):[]}function PR(r,t){return{documents:[q0(r,t.path)]}}function LR(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=q0(r,l);const u=function(g){if(g.length!==0)return Q0(di.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Rs(A.field),direction:kR(A.dir)}}(E))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const m=xd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:i,parent:l}}function UR(r){let t=OR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];i.where&&(u=function(S){const A=F0(S);return A instanceof di&&S0(A)?A.getFilters():[A]}(i.where));let h=[];i.orderBy&&(h=function(S){return S.map(A=>function(M){return new wc(Cs(M.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(i.orderBy));let m=null;i.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,Uc(A)?null:A}(i.limit));let y=null;i.startAt&&(y=function(S){const A=!!S.before,I=S.values||[];return new bc(I,A)}(i.startAt));let g=null;return i.endAt&&(g=function(S){const A=!S.before,I=S.values||[];return new bc(I,A)}(i.endAt)),eR(t,l,h,u,m,"F",y,g)}function zR(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function F0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Cs(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Cs(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Cs(i.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Cs(i.unaryFilter.field);return Ce.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ce.create(Cs(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return di.create(i.compositeFilter.filters.map(s=>F0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(r):vt(30097,{filter:r})}function kR(r){return RR[r]}function BR(r){return CR[r]}function jR(r){return DR[r]}function Rs(r){return{fieldPath:r.canonicalString()}}function Cs(r){return Fe.fromServerFormat(r.fieldPath)}function Q0(r){return r instanceof Ce?function(i){if(i.op==="=="){if(L_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(i.field),op:BR(i.op),value:i.value}}}(r):r instanceof di?function(i){const s=i.getFilters().map(l=>Q0(l));return s.length===1?s[0]:{compositeFilter:{op:jR(i.op),filters:s}}}(r):vt(54877,{filter:r})}function HR(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Y0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,i,s,l,u=St.min(),h=St.min(),m=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.gt=t}}function GR(r){const t=UR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.Dn=new QR}addToCollectionParentIndex(t,i){return this.Dn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Or.min())}updateCollectionGroup(t,i,s){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class QR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new De(Wt.comparator),u=!l.has(s);return this.index[i]=l.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new De(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$0=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln($0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ps(0)}static ur(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LruGarbageCollector",YR=1048576;function J_([r,t],[i,s]){const l=Rt(r,i);return l===0?Rt(t,s):l}class $R{constructor(t){this.Tr=t,this.buffer=new De(J_),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();J_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ot(Z_,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hs(i)?ot(Z_,"Ignoring IndexedDB error during garbage collection: ",i):await js(i)}await this.Rr(3e5)})}}class XR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Lc.ue);const s=new $R(i);return this.Vr.forEachTarget(t,l=>s.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>s.Er(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(X_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.pr(t,i))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let s,l,u,h,m,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,h=Date.now(),this.nthSequenceNumber(t,l))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,i))).next(S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(g=Date.now(),bs()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S})))}}function ZR(r,t){return new XR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.changes=new Va(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&co(s.mutation,l,_n.empty(),te.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Nt()){const l=Aa();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(u=>{let h=io();return u.forEach((m,y)=>{h=h.insert(m,y.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const s=Aa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Nt()))}populateOverlays(t,i,s){const l=[];return s.forEach(u=>{i.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((h,m)=>{i.set(h,m)})})}computeViews(t,i,s,l){let u=Yi();const h=uo(),m=function(){return uo()}();return i.forEach((y,g)=>{const E=s.get(g.key);l.has(g.key)&&(E===void 0||E.mutation instanceof zr)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),co(E.mutation,g,E.mutation.getFieldMask(),te.now())):h.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((g,E)=>h.set(g,E)),i.forEach((g,E)=>{var S;return m.set(g,new WR(E,(S=h.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,i){const s=uo();let l=new ae((h,m)=>h-m),u=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const m of h)m.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let E=s.get(y)||_n.empty();E=m.applyToLocalView(g,E),s.set(y,E);const S=(l.get(m.batchId)||Nt()).add(y);l=l.insert(m.batchId,S)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,S=V0();E.forEach(A=>{if(!u.has(A)){const I=L0(i.get(A),s.get(A));I!==null&&S.set(A,I),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,S))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-u.size):J.resolve(Aa());let m=po,y=u;return h.next(g=>J.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{y=y.insert(E,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,y,g,Nt())).next(E=>({batchId:m,changes:I0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next(s=>{let l=io();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const u=i.collectionGroup;let h=io();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,y=>{const g=function(S,A){return new kc(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,l).next(E=>{E.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,l))).next(h=>{u.forEach((y,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Je.newInvalidDocument(E)))});let m=io();return h.forEach((y,g)=>{const E=u.get(y);E!==void 0&&co(E.mutation,g,_n.empty(),te.now()),Hc(i,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return J.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,function(l){return{name:l.name,query:GR(l.bundledQuery),readTime:ui(l.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.overlays=new ae(gt.comparator),this.kr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Aa();return J.forEach(i,l=>this.getOverlay(t,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,u)=>{this.wt(t,i,u)}),J.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(t,i,s){const l=Aa(),u=i.length+1,h=new gt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let u=new ae((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Aa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Aa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=l)););return J.resolve(m)}wt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const h=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new TR(i,s));let u=this.kr.get(i);u===void 0&&(u=Nt(),this.kr.set(i,u)),this.kr.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.qr=new De(Pe.Qr),this.$r=new De(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Wr(new Pe(t,i))}Gr(t,i){t.forEach(s=>this.removeReference(s,i))}zr(t){const i=new gt(new Wt([])),s=new Pe(i,t),l=new Pe(i,t+1),u=[];return this.$r.forEachInRange([s,l],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new gt(new Wt([])),s=new Pe(i,t),l=new Pe(i,t+1);let u=Nt();return this.$r.forEachInRange([s,l],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new Pe(t,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return gt.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new De(Pe.Qr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ER(u,i,s,l);this.mutationQueue.push(h);for(const m of l)this.Yr=this.Yr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(h)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?rm:this.er-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,l],h=>{const m=this.Zr(h.Hr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new De(Rt);return i.forEach(l=>{const u=new Pe(l,0),h=new Pe(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const h=new Pe(new gt(u),0);let m=new De(Rt);return this.Yr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(m=m.add(y.Hr)),!0)},h),J.resolve(this.ei(m))}ei(t){const i=[];return t.forEach(s=>{const l=this.Zr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Ht(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(i.mutations,l=>{const u=new Pe(l.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Yr.firstAfterOrEqual(s);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.ni=t,this.docs=function(){return new ae(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),u=l?l.size:0,h=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let s=Yi();return i.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))}),J.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let u=Yi();const h=i.path,m=new gt(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||xw(Nw(E),s)<=0||(l.has(E.key)||Hc(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,i,s,l){vt(9500)}ri(t,i){return J.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new s2(this)}getSize(t){return J.resolve(this.size)}}class s2 extends JR{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Or.addEntry(t,l)):this.Or.removeEntry(s)}),J.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.persistence=t,this.ii=new Va(i=>lm(i),om),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new mm,this.targetCount=0,this._i=Ps.ar()}forEachTarget(t,i){return this.ii.forEach((s,l)=>i(l)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),J.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new Ps(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.hr(i),J.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,s){let l=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),J.waitFor(u).next(()=>l)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const s=this.ii.get(i)||null;return J.resolve(s)}addMatchingKeys(t,i,s){return this.oi.Kr(i,s),J.resolve()}removeMatchingKeys(t,i,s){this.oi.Gr(i,s);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach(h=>{u.push(l.markPotentiallyOrphaned(t,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const s=this.oi.Jr(i);return J.resolve(s)}containsKey(t,i){return J.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,i){this.ai={},this.overlays={},this.ui=new Lc(0),this.ci=!1,this.ci=!0,this.li=new i2,this.referenceDelegate=t(this),this.hi=new l2(this),this.indexManager=new FR,this.remoteDocumentCache=function(l){return new a2(l)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new qR(i),this.Ti=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new n2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ai[t.toKey()];return s||(s=new r2(i,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,s){ot("MemoryPersistence","Starting transaction:",t);const l=new o2(this.ui.next());return this.referenceDelegate.Ii(),s(l).next(u=>this.referenceDelegate.di(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ei(t,i){return J.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,i)))}}class o2 extends Pw{constructor(t){super(),this.currentSequenceNumber=t}}class gm{constructor(t){this.persistence=t,this.Ai=new mm,this.Ri=null}static Vi(t){return new gm(t)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(t,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),J.resolve()}removeReference(t,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach(l=>this.mi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(t,i))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,s=>{const l=gt.fromPath(s);return this.fi(t,l).next(u=>{u||i.removeEntry(l,St.min())})}).next(()=>(this.Ri=null,i.apply(t)))}updateLimboDocument(t,i){return this.fi(t,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(t){return 0}fi(t,i){return J.or([()=>J.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Ic{constructor(t,i){this.persistence=t,this.gi=new Va(s=>zw(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=ZR(this,i)}static Vi(t,i){return new Ic(t,i)}Ii(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}yr(t){let i=0;return this.gr(t,s=>{i++}).next(()=>i)}gr(t,i){return J.forEach(this.gi,(s,l)=>this.Sr(t,s,l).next(u=>u?J.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ri(t,h=>this.Sr(t,h,i).next(m=>{m||(s++,u.removeEntry(h,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=hc(t.data.value)),i}Sr(t,i,s){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.gi.get(i);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Is=s,this.ds=l}static Es(t,i){let s=Nt(),l=Nt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new pm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return ib()?8:Lw(eb())>0?6:4}()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,s,l){const u={result:null};return this.ps(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(t,i,l,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new u2;return this.ws(t,i,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(t,i,h,m.size)})}).next(()=>u.result)}Ss(t,i,s,l){return s.documentReadCount<this.Vs?(bs()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ws(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(bs()<=Ut.DEBUG&&ot("QueryEngine","Query:",ws(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(bs()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ws(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):J.resolve())}ps(t,i){if(B_(i))return J.resolve(null);let s=oi(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Nd(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const h=Nt(...u);return this.gs.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const g=this.bs(i,m);return this.Ds(i,g,h,y.readTime)?this.ps(t,Nd(i,null,"F")):this.vs(t,g,i,y)}))})))}ys(t,i,s,l){return B_(i)||l.isEqual(St.min())?J.resolve(null):this.gs.getDocuments(t,s).next(u=>{const h=this.bs(i,u);return this.Ds(i,h,s,l)?J.resolve(null):(bs()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ws(i)),this.vs(t,h,i,Ow(l,po)).next(m=>m))})}bs(t,i){let s=new De(C0(t));return i.forEach((l,u)=>{Hc(t,u)&&(s=s.add(u))}),s}Ds(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ws(t,i,s){return bs()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ws(i)),this.gs.getDocumentsMatchingQuery(t,i,Or.min(),s)}vs(t,i,s,l){return this.gs.getDocumentsMatchingQuery(t,s,l).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",f2=3e8;class h2{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.Fs=new ae(Rt),this.Ms=new Va(u=>lm(u),om),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new t2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Fs))}}function d2(r,t,i,s){return new h2(r,t,i,s)}async function X0(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,i.Ns(t),i.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let y=Nt();for(const g of l){h.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function m2(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),u=i.Os.newChangeBuffer({trackRemovals:!0});return function(m,y,g,E){const S=g.batch,A=S.keys();let I=J.resolve();return A.forEach(M=>{I=I.next(()=>E.getEntry(y,M)).next(G=>{const j=g.docVersions.get(M);Ht(j!==null,48541),G.version.compareTo(j)<0&&(S.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(y,S))}(i,s,t,u).next(()=>u.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Nt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function Z0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.hi.getLastRemoteSnapshotVersion(i))}function g2(r,t){const i=At(r),s=t.snapshotVersion;let l=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Os.newChangeBuffer({trackRemovals:!0});l=i.Fs;const m=[];t.targetChanges.forEach((E,S)=>{const A=l.get(S);if(!A)return;m.push(i.hi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>i.hi.addMatchingKeys(u,E.addedDocuments,S)));let I=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?I=I.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),l=l.insert(S,I),function(G,j,F){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=f2?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(A,I,E)&&m.push(i.hi.updateTargetData(u,I))});let y=Yi(),g=Nt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(p2(u,h,t.documentUpdates).next(E=>{y=E.Ls,g=E.ks})),!s.isEqual(St.min())){const E=i.hi.getLastRemoteSnapshotVersion(u).next(S=>i.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(i.Fs=l,u))}function p2(r,t,i){let s=Nt(),l=Nt();return i.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let h=Yi();return i.forEach((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(m,y.readTime),h=h.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),h=h.insert(m,y)):ot(ym,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{Ls:h,ks:l}})}function y2(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=rm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function _2(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.hi.getTargetData(s,t).next(u=>u?(l=u,J.resolve(l)):i.hi.allocateTargetId(s).next(h=>(l=new Ar(t,h,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(t,s.targetId)),s})}async function Ud(r,t,i){const s=At(r),l=s.Fs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Hs(h))throw h;ot(ym,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(l.target)}function W_(r,t,i){const s=At(r);let l=St.min(),u=Nt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(y,g,E){const S=At(y),A=S.Ms.get(E);return A!==void 0?J.resolve(S.Fs.get(A)):S.hi.getTargetData(g,E)}(s,h,oi(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(y=>{u=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,t,i?l:St.min(),i?u:Nt())).next(m=>(v2(s,rR(t),m),{documents:m,qs:u})))}function v2(r,t,i){let s=r.xs.get(t)||St.min();i.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(t,s)}class tv{constructor(){this.activeTargetIds=cR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class E2{constructor(){this.Fo=new tv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,s){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new tv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="ConnectivityMonitor";class nv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ot(ev,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ot(ev,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function zd(){return lc===null?lc=function(){return 268435456+Math.round(2147483648*Math.random())}():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Sc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,u){const h=zd(),m=this.Go(t,i.toUriEncodedString());ot(md,`Sending RPC '${t}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,l,u);const{host:g}=new URL(m),E=Wd(g);return this.jo(t,m,y,s,E).then(S=>(ot(md,`Received RPC '${t}' ${h}: `,S),S),S=>{throw Vr(md,`RPC '${t}' ${h} failed with error: `,S,"url: ",m,"request:",s),S})}Jo(t,i,s,l,u,h){return this.Wo(t,i,s,l,u)}zo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,u)=>t[u]=l),s&&s.headers.forEach((l,u)=>t[u]=l)}Go(t,i){const s=S2[t];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class w2 extends A2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,s,l,u){const h=zd();return new Promise((m,y)=>{const g=new t0;g.setWithCredentials(!0),g.listenOnce(e0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fc.NO_ERROR:const S=g.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(S)),m(S);break;case fc.TIMEOUT:ot(Xe,`RPC '${t}' ${h} timed out`),y(new ft(tt.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const A=g.getStatus();if(ot(Xe,`RPC '${t}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I?.error;if(M&&M.status&&M.message){const G=function(F){const nt=F.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(nt)>=0?nt:tt.UNKNOWN}(M.status);y(new ft(G,M.message))}else y(new ft(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ft(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(l);ot(Xe,`RPC '${t}' ${h} sending request:`,l),g.send(i,"POST",E,s,15)})}P_(t,i,s){const l=zd(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=r0(),m=i0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ot(Xe,`Creating RPC '${t}' stream ${l}: ${E}`,y);const S=h.createWebChannel(E,y);this.T_(S);let A=!1,I=!1;const M=new b2({Ho:j=>{I?ot(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,j):(A||(ot(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),A=!0),ot(Xe,`RPC '${t}' stream ${l} sending:`,j),S.send(j))},Yo:()=>S.close()}),G=(j,F,nt)=>{j.listen(F,W=>{try{nt(W)}catch(ut){setTimeout(()=>{throw ut},0)}})};return G(S,no.EventType.OPEN,()=>{I||(ot(Xe,`RPC '${t}' stream ${l} transport opened.`),M.s_())}),G(S,no.EventType.CLOSE,()=>{I||(I=!0,ot(Xe,`RPC '${t}' stream ${l} transport closed`),M.__(),this.I_(S))}),G(S,no.EventType.ERROR,j=>{I||(I=!0,Vr(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,j.name,"Message:",j.message),M.__(new ft(tt.UNAVAILABLE,"The operation could not be completed")))}),G(S,no.EventType.MESSAGE,j=>{var F;if(!I){const nt=j.data[0];Ht(!!nt,16349);const W=nt,ut=W?.error||((F=W[0])===null||F===void 0?void 0:F.error);if(ut){ot(Xe,`RPC '${t}' stream ${l} received error:`,ut);const at=ut.status;let pt=function(R){const N=Ee[R];if(N!==void 0)return z0(N)}(at),O=ut.message;pt===void 0&&(pt=tt.INTERNAL,O="Unknown error status: "+at+" with message "+ut.message),I=!0,M.__(new ft(pt,O)),S.close()}else ot(Xe,`RPC '${t}' stream ${l} received:`,nt),M.a_(nt)}}),G(m,n0.STAT_EVENT,j=>{j.stat===Rd.PROXY?ot(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):j.stat===Rd.NOPROXY&&ot(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(i=>i===t)}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){return new IR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,i,s=1e3,l=1.5,u=6e4){this.Fi=t,this.timerId=i,this.d_=s,this.E_=l,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,i-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="PersistentStream";class W0{constructor(t,i,s,l,u,h,m,y){this.Fi=t,this.w_=s,this.S_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new J0(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.b_===i&&this.W_(s,l)},s=>{t(()=>{const l=new ft(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)})})}W_(t,i){const s=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{s(()=>this.G_(l))}),this.stream.onMessage(l=>{s(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ot(iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget(()=>this.b_===t?i():(ot(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R2 extends W0{constructor(t,i,s,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,h),this.serializer=u}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=NR(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?ui(h.readTime):St.min()}(t);return this.listener.J_(i,s)}H_(t){const i={};i.database=Ld(this.serializer),i.addTarget=function(u,h){let m;const y=h.target;if(m=Od(y)?{documents:PR(u,y)}:{query:LR(u,y).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=j0(u,h.resumeToken);const g=xd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=Dc(u,h.snapshotVersion.toTimestamp());const g=xd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=zR(this.serializer,t);s&&(i.labels=s),this.k_(i)}Y_(t){const i={};i.database=Ld(this.serializer),i.removeTarget=t,this.k_(i)}}class C2 extends W0{constructor(t,i,s,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=MR(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.ta(s,i)}na(){const t={};t.database=Ld(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>xR(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{}class I2 extends D2{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,Md(i,s),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(tt.UNKNOWN,u.toString())})}Jo(t,i,s,l,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(t,Md(i,s),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(tt.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class V2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qi(i),this._a=!1):ot("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class O2{constructor(t,i,s,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Oa(this)&&(ot(Ra,"Restarting streams for network reachability change."),await async function(y){const g=At(y);g.Ia.add(4),await Do(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Yc(g)}(this))})}),this.Aa=new V2(s,l)}}async function Yc(r){if(Oa(r))for(const t of r.da)await t(!0)}async function Do(r){for(const t of r.da)await t(!1)}function tE(r,t){const i=At(r);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Tm(i)?Em(i):qs(i).x_()&&vm(i,t))}function _m(r,t){const i=At(r),s=qs(i);i.Ta.delete(t),s.x_()&&eE(i,t),i.Ta.size===0&&(s.x_()?s.B_():Oa(i)&&i.Aa.set("Unknown"))}function vm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}qs(r).H_(t)}function eE(r,t){r.Ra.$e(t),qs(r).Y_(t)}function Em(r){r.Ra=new wR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),qs(r).start(),r.Aa.aa()}function Tm(r){return Oa(r)&&!qs(r).M_()&&r.Ta.size>0}function Oa(r){return At(r).Ia.size===0}function nE(r){r.Ra=void 0}async function N2(r){r.Aa.set("Online")}async function x2(r){r.Ta.forEach((t,i)=>{vm(r,t)})}async function M2(r,t){nE(r),Tm(r)?(r.Aa.la(t),Em(r)):r.Aa.set("Unknown")}async function P2(r,t,i){if(r.Aa.set("Online"),t instanceof B0&&t.state===2&&t.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ta.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ta.delete(m),l.Ra.removeTarget(m))}(r,t)}catch(s){ot(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Vc(r,s)}else if(t instanceof gc?r.Ra.Ye(t):t instanceof k0?r.Ra.it(t):r.Ra.et(t),!i.isEqual(St.min()))try{const s=await Z0(r.localStore);i.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(y.resumeToken,h))}}),m.targetMismatches.forEach((y,g)=>{const E=u.Ta.get(y);if(!E)return;u.Ta.set(y,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),eE(u,y);const S=new Ar(E.target,y,g,E.sequenceNumber);vm(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){ot(Ra,"Failed to raise snapshot:",s),await Vc(r,s)}}async function Vc(r,t,i){if(!Hs(t))throw t;r.Ia.add(1),await Do(r),r.Aa.set("Offline"),i||(i=()=>Z0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Ra,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await Yc(r)})}function iE(r,t){return t().catch(i=>Vc(r,i,t))}async function $c(r){const t=At(r),i=Pr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:rm;for(;L2(t);)try{const l=await y2(t.localStore,s);if(l===null){t.Pa.length===0&&i.B_();break}s=l.batchId,U2(t,l)}catch(l){await Vc(t,l)}rE(t)&&aE(t)}function L2(r){return Oa(r)&&r.Pa.length<10}function U2(r,t){r.Pa.push(t);const i=Pr(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function rE(r){return Oa(r)&&!Pr(r).M_()&&r.Pa.length>0}function aE(r){Pr(r).start()}async function z2(r){Pr(r).na()}async function k2(r){const t=Pr(r);for(const i of r.Pa)t.X_(i.mutations)}async function B2(r,t,i){const s=r.Pa.shift(),l=fm.from(s,t,i);await iE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await $c(r)}async function j2(r,t){t&&Pr(r).Z_&&await async function(s,l){if(function(h){return AR(h)&&h!==tt.ABORTED}(l.code)){const u=s.Pa.shift();Pr(s).N_(),await iE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await $c(s)}}(r,t),rE(r)&&aE(r)}async function rv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ot(Ra,"RemoteStore received new credentials");const s=Oa(i);i.Ia.add(3),await Do(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Yc(i)}async function H2(r,t){const i=At(r);t?(i.Ia.delete(2),await Yc(i)):t||(i.Ia.add(2),await Do(i),i.Aa.set("Unknown"))}function qs(r){return r.Va||(r.Va=function(i,s,l){const u=At(i);return u.ia(),new R2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{Zo:N2.bind(null,r),e_:x2.bind(null,r),n_:M2.bind(null,r),J_:P2.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Tm(r)?Em(r):r.Aa.set("Unknown")):(await r.Va.stop(),nE(r))})),r.Va}function Pr(r){return r.ma||(r.ma=function(i,s,l){const u=At(i);return u.ia(),new C2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:z2.bind(null,r),n_:j2.bind(null,r),ea:k2.bind(null,r),ta:B2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await $c(r)):(await r.ma.stop(),r.Pa.length>0&&(ot(Ra,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i,s,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,u){const h=Date.now()+s,m=new Sm(t,i,h,l,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),Hs(r))return new ft(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(t){return new Is(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=io(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Is)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Is;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.fa=new ae(gt.comparator)}track(t){const i=t.doc.key,s=this.fa.get(i);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(i,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(i):t.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):vt(63341,{At:t,ga:s}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal((i,s)=>{t.push(s)}),t}}class Ls{constructor(t,i,s,l,u,h,m,y,g){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,i,s,l,u){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new Ls(t,i,Is.emptySet(i),h,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class G2{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const l=At(i),u=l.queries;l.queries=sv(),u.forEach((h,m)=>{for(const y of m.wa)y.onError(s)})})(this,new ft(tt.ABORTED,"Firestore shutting down"))}}function sv(){return new Va(r=>R0(r),jc)}async function sE(r,t){const i=At(r);let s=3;const l=t.query;let u=i.queries.get(l);u?!u.Sa()&&t.ba()&&(s=2):(u=new q2,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await i.onListen(l,!0);break;case 1:u.ya=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(h){const m=Am(h,`Initialization of query '${ws(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,u),u.wa.push(t),t.va(i.onlineState),u.ya&&t.Ca(u.ya)&&bm(i)}async function lE(r,t){const i=At(r),s=t.query;let l=3;const u=i.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?l=t.ba()?0:1:!u.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function F2(r,t){const i=At(r);let s=!1;for(const l of t){const u=l.query,h=i.queries.get(u);if(h){for(const m of h.wa)m.Ca(l)&&(s=!0);h.ya=l}}s&&bm(i)}function Q2(r,t,i){const s=At(r),l=s.queries.get(t);if(l)for(const u of l.wa)u.onError(i);s.queries.delete(t)}function bm(r){r.Da.forEach(t=>{t.next()})}var kd,lv;(lv=kd||(kd={})).Fa="default",lv.Cache="cache";class oE{constructor(t,i,s){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ls(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=Ls.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t){this.key=t}}class cE{constructor(t){this.key=t}}class Y2{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Nt(),this.mutatedKeys=Nt(),this.Xa=C0(t),this.eu=new Is(this.Xa)}get tu(){return this.Ha}nu(t,i){const s=i?i.ru:new av,l=i?i.eu:this.eu;let u=i?i.mutatedKeys:this.mutatedKeys,h=l,m=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,S)=>{const A=l.get(E),I=Hc(this.query,S)?S:null,M=!!A&&this.mutatedKeys.has(A.key),G=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;A&&I?A.data.isEqual(I.data)?M!==G&&(s.track({type:3,doc:I}),j=!0):this.iu(A,I)||(s.track({type:2,doc:I}),j=!0,(y&&this.Xa(I,y)>0||g&&this.Xa(I,g)<0)&&(m=!0)):!A&&I?(s.track({type:0,doc:I}),j=!0):A&&!I&&(s.track({type:1,doc:A}),j=!0,(y||g)&&(m=!0)),j&&(I?(h=h.add(I),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort((E,S)=>function(I,M){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:j})}};return G(I)-G(M)}(E.type,S.type)||this.Xa(E.doc,S.doc)),this.su(s),l=l!=null&&l;const m=i&&!l?this.ou():[],y=this.Za.size===0&&this.current&&!l?1:0,g=y!==this.Ya;return this.Ya=y,h.length!==0||g?{snapshot:new Ls(this.query,t.eu,u,h,t.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new av,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Nt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return t.forEach(s=>{this.Za.has(s)||i.push(new cE(s))}),this.Za.forEach(s=>{t.has(s)||i.push(new uE(s))}),i}uu(t){this.Ha=t.qs,this.Za=Nt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return Ls.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const wm="SyncEngine";class $2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class K2{constructor(t){this.key=t,this.lu=!1}}class X2{constructor(t,i,s,l,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Va(m=>R0(m),jc),this.Tu=new Map,this.Iu=new Set,this.du=new ae(gt.comparator),this.Eu=new Map,this.Au=new mm,this.Ru={},this.Vu=new Map,this.mu=Ps.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Z2(r,t,i=!0){const s=pE(r);let l;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.cu()):l=await fE(s,t,i,!0),l}async function J2(r,t){const i=pE(r);await fE(i,t,!0,!1)}async function fE(r,t,i,s){const l=await _2(r.localStore,oi(t)),u=l.targetId,h=r.sharedClientState.addLocalQueryTarget(u,i);let m;return s&&(m=await W2(r,t,u,h==="current",l.resumeToken)),r.isPrimaryClient&&i&&tE(r.remoteStore,l),m}async function W2(r,t,i,s,l){r.gu=(S,A,I)=>async function(G,j,F,nt){let W=j.view.nu(F);W.Ds&&(W=await W_(G.localStore,j.query,!1).then(({documents:O})=>j.view.nu(O,W)));const ut=nt&&nt.targetChanges.get(j.targetId),at=nt&&nt.targetMismatches.get(j.targetId)!=null,pt=j.view.applyChanges(W,G.isPrimaryClient,ut,at);return uv(G,j.targetId,pt._u),pt.snapshot}(r,S,A,I);const u=await W_(r.localStore,t,!0),h=new Y2(t,u.qs),m=h.nu(u.documents),y=Co.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),g=h.applyChanges(m,r.isPrimaryClient,y);uv(r,i,g._u);const E=new $2(t,i,h);return r.Pu.set(t,E),r.Tu.has(i)?r.Tu.get(i).push(t):r.Tu.set(i,[t]),g.snapshot}async function tC(r,t,i){const s=At(r),l=s.Pu.get(t),u=s.Tu.get(l.targetId);if(u.length>1)return s.Tu.set(l.targetId,u.filter(h=>!jc(h,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Ud(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&_m(s.remoteStore,l.targetId),Bd(s,l.targetId)}).catch(js)):(Bd(s,l.targetId),await Ud(s.localStore,l.targetId,!0))}async function eC(r,t){const i=At(r),s=i.Pu.get(t),l=i.Tu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),_m(i.remoteStore,s.targetId))}async function nC(r,t,i){const s=uC(r);try{const l=await function(h,m){const y=At(h),g=te.now(),E=m.reduce((I,M)=>I.add(M.key),Nt());let S,A;return y.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=Yi(),G=Nt();return y.Os.getEntries(I,E).next(j=>{M=j,M.forEach((F,nt)=>{nt.isValidDocument()||(G=G.add(F))})}).next(()=>y.localDocuments.getOverlayedDocuments(I,M)).next(j=>{S=j;const F=[];for(const nt of m){const W=_R(nt,S.get(nt.key).overlayedDocument);W!=null&&F.push(new zr(nt.key,W,v0(W.value.mapValue),jn.exists(!0)))}return y.mutationQueue.addMutationBatch(I,g,F,m)}).next(j=>{A=j;const F=j.applyToLocalDocumentSet(S,G);return y.documentOverlayCache.saveOverlays(I,j.batchId,F)})}).then(()=>({batchId:A.batchId,changes:I0(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(h,m,y){let g=h.Ru[h.currentUser.toKey()];g||(g=new ae(Rt)),g=g.insert(m,y),h.Ru[h.currentUser.toKey()]=g}(s,l.batchId,i),await Io(s,l.changes),await $c(s.remoteStore)}catch(l){const u=Am(l,"Failed to persist write");i.reject(u)}}async function hE(r,t){const i=At(r);try{const s=await g2(i.localStore,t);t.targetChanges.forEach((l,u)=>{const h=i.Eu.get(u);h&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.lu=!0:l.modifiedDocuments.size>0?Ht(h.lu,14607):l.removedDocuments.size>0&&(Ht(h.lu,42227),h.lu=!1))}),await Io(i,s,t)}catch(s){await js(s)}}function ov(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Pu.forEach((u,h)=>{const m=h.view.va(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const y=At(h);y.onlineState=m;let g=!1;y.queries.forEach((E,S)=>{for(const A of S.wa)A.va(m)&&(g=!0)}),g&&bm(y)}(s.eventManager,t),l.length&&s.hu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function iC(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Eu.get(t),u=l&&l.key;if(u){let h=new ae(gt.comparator);h=h.insert(u,Je.newNoDocument(u,St.min()));const m=Nt().add(u),y=new Fc(St.min(),new Map,new ae(Rt),h,m);await hE(s,y),s.du=s.du.remove(u),s.Eu.delete(t),Rm(s)}else await Ud(s.localStore,t,!1).then(()=>Bd(s,t,i)).catch(js)}async function rC(r,t){const i=At(r),s=t.batch.batchId;try{const l=await m2(i.localStore,t);mE(i,s,null),dE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Io(i,l)}catch(l){await js(l)}}async function aC(r,t,i){const s=At(r);try{const l=await function(h,m){const y=At(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ht(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(g,S))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(s.localStore,t);mE(s,t,i),dE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Io(s,l)}catch(l){await js(l)}}function dE(r,t){(r.Vu.get(t)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(t)}function mE(r,t,i){const s=At(r);let l=s.Ru[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),s.Ru[s.currentUser.toKey()]=l}}function Bd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),i&&r.hu.pu(s,i);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||gE(r,s)})}function gE(r,t){r.Iu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(_m(r.remoteStore,i),r.du=r.du.remove(t),r.Eu.delete(i),Rm(r))}function uv(r,t,i){for(const s of i)s instanceof uE?(r.Au.addReference(s.key,t),sC(r,s)):s instanceof cE?(ot(wm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||gE(r,s.key)):vt(19791,{yu:s})}function sC(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Iu.has(s)||(ot(wm,"New document in limbo: "+i),r.Iu.add(s),Rm(r))}function Rm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const i=new gt(Wt.fromString(t)),s=r.mu.next();r.Eu.set(s,new K2(i)),r.du=r.du.insert(i,s),tE(r.remoteStore,new Ar(oi(Bc(i.path)),s,"TargetPurposeLimboResolution",Lc.ue))}}async function Io(r,t,i){const s=At(r),l=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,y)=>{h.push(s.gu(y,t,i).then(g=>{var E;if((g||i)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=i?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(g){l.push(g);const S=pm.Es(y.targetId,g);u.push(S)}}))}),await Promise.all(h),s.hu.J_(l),await async function(y,g){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(g,A=>J.forEach(A.Is,I=>E.persistence.referenceDelegate.addReference(S,A.targetId,I)).next(()=>J.forEach(A.ds,I=>E.persistence.referenceDelegate.removeReference(S,A.targetId,I)))))}catch(S){if(!Hs(S))throw S;ot(ym,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const I=E.Fs.get(A),M=I.snapshotVersion,G=I.withLastLimboFreeSnapshotVersion(M);E.Fs=E.Fs.insert(A,G)}}}(s.localStore,u))}async function lC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){ot(wm,"User change. New user:",t.toKey());const s=await X0(i.localStore,t);i.currentUser=t,function(u,h){u.Vu.forEach(m=>{m.forEach(y=>{y.reject(new ft(tt.CANCELLED,h))})}),u.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Io(i,s.Bs)}}function oC(r,t){const i=At(r),s=i.Eu.get(t);if(s&&s.lu)return Nt().add(s.key);{let l=Nt();const u=i.Tu.get(t);if(!u)return l;for(const h of u){const m=i.Pu.get(h);l=l.unionWith(m.view.tu)}return l}}function pE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iC.bind(null,t),t.hu.J_=F2.bind(null,t.eventManager),t.hu.pu=Q2.bind(null,t.eventManager),t}function uC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aC.bind(null,t),t}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return d2(this.persistence,new c2,t.initialUser,this.serializer)}Du(t){return new K0(gm.Vi,this.serializer)}bu(t){return new E2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class cC extends Oc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Ht(this.persistence.referenceDelegate instanceof Ic,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KR(s,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new K0(s=>Ic.Vi(s,i),this.serializer)}}class jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ov(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new G2}()}createDatastore(t){const i=Qc(t.databaseInfo.databaseId),s=function(u){return new w2(u)}(t.databaseInfo);return function(u,h,m,y){return new I2(u,h,m,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,u,h,m){return new O2(s,l,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,i=>ov(this.syncEngine,i,0),function(){return nv.C()?new nv:new T2}())}createSyncEngine(t,i){return function(l,u,h,m,y,g,E){const S=new X2(l,u,h,m,y,g);return E&&(S.fu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const u=At(l);ot(Ra,"RemoteStore shutting down."),u.Ia.add(5),await Do(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class fC{constructor(t,i,s,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ot(Lr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ot(Lr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Am(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function pd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Lr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await X0(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>{Vr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ot("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Vr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function cv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await hC(r);ot(Lr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>rv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>rv(t.remoteStore,l)),r._onlineComponents=t}async function hC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Lr,"Using user provided OfflineComponentProvider");try{await pd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Vr("Error using user provided cache. Falling back to memory cache: "+i),await pd(r,new Oc)}}else ot(Lr,"Using default OfflineComponentProvider"),await pd(r,new cC(void 0));return r._offlineComponents}async function _E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Lr,"Using user provided OnlineComponentProvider"),await cv(r,r._uninitializedComponentsProvider._online)):(ot(Lr,"Using default OnlineComponentProvider"),await cv(r,new jd))),r._onlineComponents}function dC(r){return _E(r).then(t=>t.syncEngine)}async function Hd(r){const t=await _E(r),i=t.eventManager;return i.onListen=Z2.bind(null,t.syncEngine),i.onUnlisten=tC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=J2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=eC.bind(null,t.syncEngine),i}function mC(r,t,i={}){const s=new Dr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,y,g){const E=new yE({next:A=>{E.Ou(),h.enqueueAndForget(()=>lE(u,S));const I=A.docs.has(m);!I&&A.fromCache?g.reject(new ft(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&y&&y.source==="server"?g.reject(new ft(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new oE(Bc(m.path),E,{includeMetadataChanges:!0,ka:!0});return sE(u,S)}(await Hd(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firestore.googleapis.com",hv=!0;class dv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EE,this.ssl=hv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YR)throw new ft(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Vw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kc{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Tw;switch(s.type){case"firstParty":return new ww(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=fv.get(i);s&&(ot("ComponentProvider","Removing Datastore"),fv.delete(i),s.terminate())}(this),Promise.resolve()}}function gC(r,t,i,s={}){var l;r=Bn(r,Kc);const u=Wd(t),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${i}`;u&&(XA(`https://${y}`),tb("Firestore",!0)),h.host!==EE&&h.host!==y&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:y,ssl:u,emulatorOptions:s});if(!ho(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=Ze.MOCK_USER;else{E=ZA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ft(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(A)}r._authCredentials=new Sw(new s0(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Xc(this.firestore,t,this._query)}}class ge{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ge(this.firestore,t,this._key)}toJSON(){return{type:ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(wo(i,ge._jsonSchema))return new ge(t,s||null,new gt(Wt.fromString(i.referencePath)))}}ge._jsonSchemaVersion="firestore/documentReference/1.0",ge._jsonSchema={type:Te("string",ge._jsonSchemaVersion),referencePath:Te("string")};class Ir extends Xc{constructor(t,i,s){super(t,i,Bc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ge(this.firestore,null,new gt(t))}withConverter(t){return new Ir(this.firestore,t,this._path)}}function pC(r,t,...i){if(r=Gi(r),o0("collection","path",t),r instanceof Kc){const s=Wt.fromString(t,...i);return C_(s),new Ir(r,null,s)}{if(!(r instanceof ge||r instanceof Ir))throw new ft(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return C_(s),new Ir(r.firestore,null,s)}}function He(r,t,...i){if(r=Gi(r),arguments.length===1&&(t=nm.newId()),o0("doc","path",t),r instanceof Kc){const s=Wt.fromString(t,...i);return R_(s),new ge(r,null,new gt(s))}{if(!(r instanceof ge||r instanceof Ir))throw new ft(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return R_(s),new ge(r.firestore,r instanceof Ir?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="AsyncQueue";class gv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new J0(this,"async_queue_retry"),this.oc=()=>{const s=gd();s&&ot(mv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const i=gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Dr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Hs(t))throw t;ot(mv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const i=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,Qi("INTERNAL UNHANDLED ERROR: ",pv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(t,i,s){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const l=Sm.createAndSchedule(this,t,i,s,u=>this.lc(u));return this.ec.push(l),l}ac(){this.tc&&vt(47125,{hc:pv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function pv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ca extends Kc{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new gv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gv(t),this._firestoreClient=void 0,await t}}}function yC(r,t){const i=typeof r=="object"?r:cw(),s=typeof r=="string"?r:Sc,l=aw(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=$A("firestore");u&&gC(l,...u)}return l}function Cm(r){if(r._terminated)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_C(r),r._firestoreClient}function _C(r){var t,i,s;const l=r._freezeSettings(),u=function(m,y,g,E){return new jw(m,y,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new fC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const y=m?._online.build();return{_offline:m?._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Qe.fromBase64String(t))}catch(i){throw new ft(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wo(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Te("string",xn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(wo(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Te("string",ci._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wo(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new fi(t.vectorValues);throw new ft(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Te("string",fi._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^__.*__$/;class EC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new zr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(t,this.data,i,this.fieldTransforms)}}class TE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new zr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function SE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:r})}}class Wc{constructor(t,i,s,l,u,h){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Wc(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:s,mc:!1});return l.fc(t),l}gc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Nc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(SE(this.Ec)&&vC.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class TC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Qc(t)}Dc(t,i,s,l=!1){return new Wc({Ec:t,methodName:i,bc:s,path:Fe.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AE(r){const t=r._freezeSettings(),i=Qc(r._databaseId);return new TC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function SC(r,t,i,s,l,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,t,i,l);Im("Data must be an object, but it was:",h,s);const m=bE(s,h);let y,g;if(u.merge)y=new _n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=qd(t,S,i);if(!h.contains(A))throw new ft(tt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);RE(E,A)||E.push(A)}y=new _n(E),g=h.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,g=h.fieldTransforms;return new EC(new on(m),y,g)}class Vo extends Jc{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vo}}function AC(r,t,i){return new Wc({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Dm extends Jc{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=AC(this,t,!0),s=this.vc.map(u=>Oo(u,i)),l=new Ms(s);return new mR(t.path,l)}isEqual(t){return t instanceof Dm&&ho(this.vc,t.vc)}}function bC(r,t,i,s){const l=r.Dc(1,t,i);Im("Data must be an object, but it was:",l,s);const u=[],h=on.empty();Ur(s,(y,g)=>{const E=Vm(t,y,i);g=Gi(g);const S=l.gc(E);if(g instanceof Vo)u.push(E);else{const A=Oo(g,S);A!=null&&(u.push(E),h.set(E,A))}});const m=new _n(u);return new TE(h,m,l.fieldTransforms)}function wC(r,t,i,s,l,u){const h=r.Dc(1,t,i),m=[qd(t,s,i)],y=[l];if(u.length%2!=0)throw new ft(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(qd(t,u[A])),y.push(u[A+1]);const g=[],E=on.empty();for(let A=m.length-1;A>=0;--A)if(!RE(g,m[A])){const I=m[A];let M=y[A];M=Gi(M);const G=h.gc(I);if(M instanceof Vo)g.push(I);else{const j=Oo(M,G);j!=null&&(g.push(I),E.set(I,j))}}const S=new _n(g);return new TE(E,S,h.fieldTransforms)}function Oo(r,t){if(wE(r=Gi(r)))return Im("Unsupported field value:",t,r),bE(r,t);if(r instanceof Jc)return function(s,l){if(!SE(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,l){const u=[];let h=0;for(const m of s){let y=Oo(m,l.yc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}}(r,t)}return function(s,l){if((s=Gi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=te.fromDate(s);return{timestampValue:Dc(l.serializer,u)}}if(s instanceof te){const u=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dc(l.serializer,u)}}if(s instanceof ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:j0(l.serializer,s._byteString)};if(s instanceof ge){const u=l.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw l.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof fi)return function(h,m){return{mapValue:{fields:{[y0]:{stringValue:_0},[Ac]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return um(m.serializer,g)})}}}}}}(s,l);throw l.wc(`Unsupported field value: ${im(s)}`)}(r,t)}function bE(r,t){const i={};return f0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ur(r,(s,l)=>{const u=Oo(l,t.Vc(s));u!=null&&(i[s]=u)}),{mapValue:{fields:i}}}function wE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof ci||r instanceof xn||r instanceof ge||r instanceof Jc||r instanceof fi)}function Im(r,t,i){if(!wE(i)||!u0(i)){const s=im(i);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function qd(r,t,i){if((t=Gi(t))instanceof Zc)return t._internalPath;if(typeof t=="string")return Vm(r,t);throw Nc("Field path arguments must be of type string or ",r,!1,void 0,i)}const RC=new RegExp("[~\\*/\\[\\]]");function Vm(r,t,i){if(t.search(RC)>=0)throw Nc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zc(...t.split("."))._internalPath}catch{throw Nc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Nc(r,t,i,s,l){const u=s&&!s.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${l}`),y+=")"),new ft(tt.INVALID_ARGUMENT,m+r+y)}function RE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,i,s,l,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(DE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CC extends CE{data(){return super.data()}}function DE(r,t){return typeof t=="string"?Vm(r,t):t instanceof Zc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IC{convertValue(t,i="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ur(t,(l,u)=>{s[l]=this.convertValue(u,i)}),s}convertVectorValue(t){var i,s,l;const u=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ac].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(h=>me(h.doubleValue));return new fi(u)}convertGeoPoint(t){return new ci(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=zc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(t));default:return null}}convertTimestamp(t){const i=Nr(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);Ht(Y0(s),9688,{name:t});const l=new _o(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return l.isEqual(i)||Qi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ba extends CE{constructor(t,i,s,l,u,h){super(t,i,s,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(DE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Te("string",ba._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class pc extends ba{data(t={}){return super.data(t)}}class Vs{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ao(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new pc(this._firestore,this._userDataWriter,s.key,s,new ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const y=new pc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ao(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new pc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ao(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:OC(m.type),doc:y,oldIndex:g,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Vs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach(u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r){r=Bn(r,ge);const t=Bn(r.firestore,Ca);return mC(Cm(t),r._key).then(i=>VE(t,r,i))}Vs._jsonSchemaVersion="firestore/querySnapshot/1.0",Vs._jsonSchema={type:Te("string",Vs._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class IE extends IC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ge(this.firestore,null,i)}}function xC(r,t,i){r=Bn(r,ge);const s=Bn(r.firestore,Ca),l=VC(r.converter,t);return Om(s,[SC(AE(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,jn.none())])}function Nn(r,t,i,...s){r=Bn(r,ge);const l=Bn(r.firestore,Ca),u=AE(l);let h;return h=typeof(t=Gi(t))=="string"||t instanceof Zc?wC(u,"updateDoc",r._key,t,i,s):bC(u,"updateDoc",r._key,t),Om(l,[h.toMutation(r._key,jn.exists(!0))])}function MC(r){return Om(Bn(r.firestore,Ca),[new cm(r._key,jn.none())])}function xc(r,...t){var i,s,l;r=Gi(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||yv(t[h])||(u=t[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(yv(t[h])){const S=t[h];t[h]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[h+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[h+2]=(l=S.complete)===null||l===void 0?void 0:l.bind(S)}let y,g,E;if(r instanceof ge)g=Bn(r.firestore,Ca),E=Bc(r._key.path),y={next:S=>{t[h]&&t[h](VE(g,r,S))},error:t[h+1],complete:t[h+2]};else{const S=Bn(r,Xc);g=Bn(S.firestore,Ca),E=S._query;const A=new IE(g);y={next:I=>{t[h]&&t[h](new Vs(g,A,S,I))},error:t[h+1],complete:t[h+2]},DC(r._query)}return function(A,I,M,G){const j=new yE(G),F=new oE(I,j,M);return A.asyncQueue.enqueueAndForget(async()=>sE(await Hd(A),F)),()=>{j.Ou(),A.asyncQueue.enqueueAndForget(async()=>lE(await Hd(A),F))}}(Cm(g),E,m,y)}function Om(r,t){return function(s,l){const u=new Dr;return s.asyncQueue.enqueueAndForget(async()=>nC(await dC(s),l,u)),u.promise}(Cm(r),t)}function VE(r,t,i){const s=i.docs.get(t._key),l=new IE(r);return new ba(r,l,t._key,s,new ao(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){return new Vo("deleteField")}function OE(...r){return new Dm("arrayUnion",r)}(function(t,i=!0){(function(l){Bs=l})(uw),Ec(new mo("firestore",(s,{instanceIdentifier:l,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ca(new Aw(s.getProvider("auth-internal")),new Rw(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(g.options.projectId,E)}(h,l),h);return u=Object.assign({useFetchStreams:i},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ds(T_,S_,t),Ds(T_,S_,"esm2017")})();var PC="firebase",LC="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(PC,LC,"app");const UC={apiKey:"AIzaSyBaY5uq9kIEFjfr9cIEYOzTT4TykRdui-c",authDomain:"boardgames-cf5a1.firebaseapp.com",projectId:"boardgames-cf5a1",storageBucket:"boardgames-cf5a1.firebasestorage.app",messagingSenderId:"764257197121",appId:"1:764257197121:web:b80d24917356f51ab47ac0",measurementId:"G-9PS0XW6GQ3"},zC=Xv(UC),qe=yC(zC),kC={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},vv=(r,t,i,s,l)=>{const u=`[WebRTC-${i?"Host":"Guest"}] [peer:${t}]`;console.log(`${u} Creating new RTCPeerConnection.`);const h=new RTCPeerConnection(kC);h.onconnectionstatechange=()=>{console.log(`${u} Connection state changed: %c${h.connectionState}`,"font-weight: bold;");const y=h.connectionState;l(g=>({peerConnectionStates:new Map(g.peerConnectionStates).set(t,y)})),y==="failed"&&console.error(`${u} Connection failed. This is often due to firewall or NAT traversal issues.`),(y==="disconnected"||y==="failed"||y==="closed")&&(To.getState().handlePlayerDisconnect(t),s().peerConnections.get(t)?.close(),l(g=>{const E=new Map(g.peerConnections);E.delete(t);const S=new Map(g.dataChannels);return S.delete(t),{peerConnections:E,dataChannels:S}}))},h.oniceconnectionstatechange=()=>{console.log(`${u} ICE connection state changed: %c${h.iceConnectionState}`,"font-weight: bold;")},h.onsignalingstatechange=()=>{console.log(`${u} Signaling state changed: %c${h.signalingState}`,"font-weight: bold;")},h.onicecandidate=async y=>{if(y.candidate){console.log(`${u} Generated new ICE candidate.`);const g=i?`connections.${t}.hostCandidates`:`connections.${t}.guestCandidates`,E=He(qe,"games",r);try{await Nn(E,{[g]:OE(y.candidate.toJSON())}),console.log(`${u} Successfully sent candidate to Firestore.`)}catch(S){console.error(`${u} Failed to send candidate to Firestore:`,S)}}};const m=y=>{console.log(`${u} Data channel setup initiated.`),y.onopen=()=>{console.log(`%c${u} DATA CHANNEL IS OPEN!`,"color: green; font-weight: bold;"),To.getState().handlePlayerConnect(t)},y.onclose=()=>{console.warn(`${u} Data channel closed.`)},y.onmessage=g=>{console.log(`${u} Received message via data channel:`,JSON.parse(g.data)),s().onMessageCallback(JSON.parse(g.data),t)},l(g=>({dataChannels:new Map(g.dataChannels).set(t,y)}))};if(i){const y=h.createDataChannel("gameData");m(y)}else h.ondatachannel=y=>{console.log(`${u} Received data channel from host.`),m(y.channel)};return l(y=>({peerConnections:new Map(y.peerConnections).set(t,h)})),h},ce=Hv((r,t)=>({gameId:null,isHost:!1,peerConnections:new Map,dataChannels:new Map,peerConnectionStates:new Map,processedCandidates:new Map,onMessageCallback:()=>{},unsubscribes:[],initAsHost:i=>{t()._reset(),r({isHost:!0,gameId:i}),console.log(`[WebRTC-Host] Initializing as host for game ${i}.`);const s=He(qe,"games",i),l=xc(s,async u=>{console.log("[WebRTC-Host] Firestore snapshot received.");const h=u.data();if(h?.connections)for(const m in h.connections){const y=t().peerConnections.get(m);if(!y)continue;const g=h.connections[m];if(g.answer&&!y.currentRemoteDescription&&(console.log(`[WebRTC-Host] [peer:${m}] Received answer from guest. Setting remote description.`),await y.setRemoteDescription(new RTCSessionDescription(g.answer))),g.guestCandidates){let E=t().processedCandidates.get(m)||new Set;g.guestCandidates.forEach(S=>{const A=JSON.stringify(S);E.has(A)||(console.log(`[WebRTC-Host] [peer:${m}] Adding new ICE candidate from guest.`),y.addIceCandidate(new RTCIceCandidate(S)).catch(I=>{console.error(`[WebRTC-Host] [peer:${m}] Error adding ICE candidate:`,I)}),E.add(A))}),r(S=>({processedCandidates:new Map(S.processedCandidates).set(m,E)}))}}});r({unsubscribes:[l]})},initAsGuest:(i,s,l)=>{t()._reset(),r({isHost:!1,gameId:i}),console.log(`[WebRTC-Guest] Initializing as guest for game ${i}. My ID: ${s}. Host ID: ${l}`);const u=vv(i,l,!1,t,r),h=He(qe,"games",i),m=xc(h,async y=>{console.log("[WebRTC-Guest] Firestore snapshot received.");const E=y.data()?.connections?.[s];if(E){if(E.offer&&!u.currentRemoteDescription){console.log(`[WebRTC-Guest] [peer:${l}] Received offer from host. Setting remote description and creating answer.`),await u.setRemoteDescription(new RTCSessionDescription(E.offer));const S=await u.createAnswer();console.log(`[WebRTC-Guest] [peer:${l}] Setting local description (answer).`),await u.setLocalDescription(S),console.log(`[WebRTC-Guest] [peer:${l}] Sending answer to Firestore.`),await Nn(h,{[`connections.${s}.answer`]:{type:S.type,sdp:S.sdp}})}if(E.hostCandidates){let S=t().processedCandidates.get(l)||new Set;E.hostCandidates.forEach(A=>{const I=JSON.stringify(A);S.has(I)||(console.log(`[WebRTC-Guest] [peer:${l}] Adding new ICE candidate from host.`),u.addIceCandidate(new RTCIceCandidate(A)).catch(M=>{console.error(`[WebRTC-Guest] [peer:${l}] Error adding ICE candidate:`,M)}),S.add(I))}),r(A=>({processedCandidates:new Map(A.processedCandidates).set(l,S)}))}}});r({unsubscribes:[m]})},initiateConnectionForGuest:async i=>{const{gameId:s,isHost:l}=t();if(!l||!s)return;console.log(`[WebRTC-Host] [peer:${i}] Creating offer for new guest.`);const u=vv(s,i,!0,t,r),h=await u.createOffer();console.log(`[WebRTC-Host] [peer:${i}] Setting local description (offer).`),await u.setLocalDescription(h),console.log(`[WebRTC-Host] [peer:${i}] Sending offer to Firestore.`);const m=He(qe,"games",s);await Nn(m,{[`connections.${i}.offer`]:{type:h.type,sdp:h.sdp}})},broadcastMessage:i=>{const{dataChannels:s}=t(),l=JSON.stringify(i);s.forEach(u=>{u.readyState==="open"&&u.send(l)})},sendMessageToHost:i=>{const{dataChannels:s}=t(),l=Array.from(s.values())[0];l?.readyState==="open"&&l.send(JSON.stringify(i))},sendMessageToGuest:(i,s)=>{const{dataChannels:l}=t(),u=l.get(i);u?.readyState==="open"&&u.send(JSON.stringify(s))},leaveSession:async()=>{t()._reset()},_reset:()=>{t().unsubscribes.forEach(i=>i()),t().peerConnections.forEach(i=>i.close()),r({gameId:null,isHost:!1,peerConnections:new Map,dataChannels:new Map,peerConnectionStates:new Map,processedCandidates:new Map,unsubscribes:[]})}}));let yd=!1;const To=Hv((r,t)=>({gameId:null,gameName:null,gameInfo:null,playerId:null,players:[],gamePhase:"lobby",gameState:null,gameOptions:{},disconnectionMessage:null,unsubscribes:[],createGame:async i=>{if(t().gameId)return;const s=Ed(i);if(!s)return;t().resetStore();const l="p1",u=He(pC(qe,"games")).id,h={id:l,username:"Player 1"},m=s.gameOptions?.reduce((g,E)=>(g[E.id]=E.defaultValue,g),{})||{};r({gameId:u,gameName:i,gameInfo:s,playerId:l,players:[h],gamePhase:"lobby",gameOptions:m}),ce.getState().initAsHost(u),await xC(He(qe,"games",u),{players:[h],connections:{},gamePhase:"lobby",options:m});const y=xc(He(qe,"games",u),g=>{if(!g.exists()){t().leaveGame();return}const{players:E=[],options:S={}}=g.data(),{players:A,gameId:I}=t();if(I===u){if(E.length>A.length){const M=new Set(A.map(j=>j.id)),G=E.find(j=>!M.has(j.id));G&&(r(j=>({players:[...j.players,G]})),ce.getState().initiateConnectionForGuest(G.id))}r({gameOptions:S})}});return r({unsubscribes:[y]}),u},joinGame:async(i,s)=>{if(yd)return"locked";yd=!0;try{if(t().gameId)return"success";const l=Ed(s);if(!l)return r({disconnectionMessage:`Invalid game type: ${s}`}),"failed";const u=He(qe,"games",i),h=await NC(u);if(!h.exists())return r({disconnectionMessage:"Game not found or has been ended by the host."}),"failed";const m=h.data(),y=m.players;if(y.length>=l.maxPlayers)return r({disconnectionMessage:"This game lobby is already full."}),"failed";t().resetStore();const g=xc(u,A=>{if(!A.exists())r({disconnectionMessage:"The host has left the game."});else{const I=A.data();t().gamePhase!=="in-game"&&I.gameState&&r({gameState:I.gameState}),I.options&&r({gameOptions:I.options})}}),E=`p${Math.random().toString(36).substring(2,9)}`,S={id:E,username:`Player ${y.length+1}`};return r({gameId:i,gameName:s,gameInfo:l,playerId:E,players:[...y,S],gamePhase:"lobby",gameOptions:m.options||{},unsubscribes:[g]}),await Nn(u,{players:OE(S)}),ce.getState().initAsGuest(i,E,"p1"),"success"}finally{yd=!1}},notifyLeave:()=>{const{isHost:i}=ce.getState();i||ce.getState().sendMessageToHost({type:"player_leaving"})},leaveGame:async()=>{t().notifyLeave();const{isHost:i}=ce.getState(),{gameId:s}=t();i&&s&&await MC(He(qe,"games",s)),t().resetStore()},resetSession:()=>{ce.getState().leaveSession(),t().unsubscribes.forEach(i=>i()),r(i=>({gameId:null,gameName:i.gameName,gameInfo:i.gameInfo,playerId:null,players:[],gamePhase:"lobby",gameState:null,gameOptions:{},unsubscribes:[],disconnectionMessage:i.disconnectionMessage}))},clearDisconnectionMessage:()=>{r({disconnectionMessage:null})},resetStore:()=>{ce.getState().leaveSession(),t().unsubscribes.forEach(i=>i()),r({gameId:null,gameName:null,gameInfo:null,playerId:null,players:[],gamePhase:"lobby",gameState:null,gameOptions:{},disconnectionMessage:null,unsubscribes:[]})},setMyUsername:i=>{const{playerId:s,players:l,gameId:u}=t(),{isHost:h,sendMessageToHost:m}=ce.getState();if(!(!s||!i.trim()))if(h){const y=l.map(g=>g.id===s?{...g,username:i}:g);r({players:y}),ce.getState().broadcastMessage({type:"sync_players",payload:y}),u&&Nn(He(qe,"games",u),{players:y})}else m({type:"username_change",payload:{newUsername:i}})},setGameOptions:i=>{const{gameId:s,gameOptions:l}=t(),{isHost:u}=ce.getState();if(!u||!s)return;const h={...l,...i};r({gameOptions:h}),Nn(He(qe,"games",s),{options:h})},performAction:i=>{const{playerId:s,gamePhase:l}=t(),{isHost:u,sendMessageToHost:h}=ce.getState();if(l!=="in-game"||!s)return;const m={...i,playerId:s};u?t().handleMessage({type:"game_action",payload:m},s):h({type:"game_action",payload:m})},startGame:()=>{const{gameInfo:i,players:s,gameId:l,gameState:u,gameOptions:h}=t(),{isHost:m,broadcastMessage:y}=ce.getState();if(!m||!i)return;const g=i.getInitialState(s.map(S=>S.id),u,h),E="in-game";r({gameState:g,gamePhase:E}),y({type:"start_game",payload:g}),l&&Nn(He(qe,"games",l),{gameState:g,gamePhase:E})},playAgain:()=>{t().startGame()},returnToLobby:()=>{const{isHost:i,broadcastMessage:s}=ce.getState(),{gameId:l}=t();!i||!l||(r({gamePhase:"lobby",gameState:null}),s({type:"return_to_lobby"}),Nn(He(qe,"games",l),{gamePhase:"lobby",gameState:null}))},handlePlayerConnect:i=>{const{isHost:s}=ce.getState();if(s){const{players:l,gameState:u,gamePhase:h,gameOptions:m}=t();ce.getState().sendMessageToGuest(i,{type:"sync_full_game_state",payload:{players:l,gameState:u,gamePhase:h,gameOptions:m}})}},handleMessage:(i,s)=>{const{isHost:l}=ce.getState();if(!l)return;const{players:u,gameId:h,gameInfo:m,gameState:y}=t();switch(i.type){case"player_leaving":{t().handlePlayerDisconnect(s);break}case"username_change":{const g=u.map(E=>E.id===s?{...E,username:i.payload.newUsername}:E);r({players:g}),ce.getState().broadcastMessage({type:"sync_players",payload:g}),h&&Nn(He(qe,"games",h),{players:g});break}case"game_action":{if(!m||!y||!m.isTurnOf(y,i.payload.playerId))return;const g=m.handleAction(y,i.payload),E=m.isGameOver(g)?"post-game":"in-game";r({gameState:g,gamePhase:E}),ce.getState().broadcastMessage({type:"game_state_update",payload:g}),h&&Nn(He(qe,"games",h),{gameState:g,gamePhase:E});break}}},handlePlayerDisconnect:async i=>{const{isHost:s,broadcastMessage:l}=ce.getState();if(s){const{gameId:u,players:h,gameInfo:m,gameOptions:y,gamePhase:g}=t();if(!m)return;const E=h.filter(S=>S.id!==i);if(E.length<h.length)if(g==="in-game"&&E.length>=m.minPlayers)r({players:E}),u&&await Nn(He(qe,"games",u),{players:E,[`connections.${i}`]:_v()}),l({type:"sync_players",payload:E});else{const A="lobby";r({players:E,gameState:null,gamePhase:A}),u&&await Nn(He(qe,"games",u),{players:E,gameState:null,gamePhase:A,[`connections.${i}`]:_v()}),l({type:"sync_full_game_state",payload:{players:E,gameState:null,gamePhase:A,gameOptions:y}})}}else i==="p1"&&r({disconnectionMessage:"The host has disconnected."})}}));ce.setState({onMessageCallback:(r,t)=>{const{getState:i,setState:s}=To,{isHost:l}=ce.getState();switch(l&&i().handleMessage(r,t),r.type){case"sync_full_game_state":s({players:r.payload.players,gameState:r.payload.gameState,gamePhase:r.payload.gamePhase,gameOptions:r.payload.gameOptions});break;case"sync_players":s({players:r.payload});break;case"start_game":s({gameState:r.payload,gamePhase:"in-game"});break;case"game_state_update":const u=i().gameInfo,h=r.payload;s({gameState:h,gamePhase:u?.isGameOver(h)?"post-game":"in-game"});break;case"return_to_lobby":s({gamePhase:"lobby",gameState:null});break}}});const Ev=()=>{const{gameName:r,gameId:t}=G1();if(X.useEffect(()=>{const l=()=>{To.getState().gameId&&To.getState().notifyLeave()};return window.addEventListener("beforeunload",l),()=>window.removeEventListener("beforeunload",l)},[]),!r)return It.jsx("div",{className:"text-xl text-red-500",children:"Error: No game specified in URL!"});const i=Ed(r);if(!i)return It.jsxs("div",{className:"text-xl text-red-500",children:["Error: Game '",r,"' not found!"]});if(t){const l=i.GamePageComponent;return It.jsx(Hn.Suspense,{fallback:It.jsx("div",{className:"text-xl",children:"Loading Game..."}),children:It.jsx(l,{})})}const s=i.LobbyPageComponent;return It.jsx(Hn.Suspense,{fallback:It.jsx("div",{className:"text-xl",children:"Loading Lobby..."}),children:It.jsx(s,{})})},BC=()=>It.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans flex",children:It.jsx("main",{className:"flex-grow w-full flex items-center justify-center p-4",children:It.jsxs(aS,{children:[It.jsx(oc,{path:"/",element:It.jsx(MA,{})})," ",It.jsx(oc,{path:"/game/:gameName/:gameId",element:It.jsx(Ev,{})}),It.jsx(oc,{path:"/game/:gameName",element:It.jsx(Ev,{})})]})})});h1.createRoot(document.getElementById("root")).render(It.jsx(Hn.StrictMode,{children:It.jsx(IS,{children:It.jsx(BC,{})})}));export{To as a,G1 as b,kv as c,ce as d,Ed as f,It as j,X as r,H1 as u};
