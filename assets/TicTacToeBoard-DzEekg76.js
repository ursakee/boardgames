import{c as C,j as e,a as g}from"./index-BOTkLFAc.js";import{L as X}from"./log-out-BJTxTPI0.js";import{X as b}from"./x-DHXoHie7.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N=C("circle",$),p=38,f=2*Math.PI*p,j=({symbol:s,isNext:x,isGameOver:r,timeleft:t,totalTime:o})=>{const u=g(d=>d.players),n=g(d=>d.gameState),c=(d=>{const v=Object.keys(n.playerMap).find(m=>n.playerMap[m]===d);return u.find(m=>m.id===v)})(s),a=x&&!r,l=t!=null&&o>0?t/o*f:f,i=s==="X"?"text-red-400":"text-blue-400",y=s==="X"?"ring-red-500":"ring-blue-500",w=s==="X"?"bg-red-500/20":"bg-blue-500/20",k=s==="X"?"stroke-red-400":"stroke-blue-400";return e.jsx("div",{className:`p-4 w-full lg:w-48 rounded-lg transition-all duration-300 transform ${a?`${w} ${y} ring-2 scale-105 shadow-lg`:"bg-slate-800"}`,children:e.jsxs("div",{className:"flex lg:flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:[a&&t!==null&&t!==void 0&&e.jsxs("svg",{className:"absolute w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:p,className:"stroke-current text-slate-700/50",strokeWidth:"4",fill:"transparent"}),e.jsx("circle",{cx:"50",cy:"50",r:p,className:`${k} transition-all duration-500`,strokeWidth:"5",fill:"transparent",strokeLinecap:"round",strokeDasharray:f,strokeDashoffset:l,transform:"rotate(-90 50 50)"})]}),e.jsx("div",{className:"absolute",children:s==="X"?e.jsx(b,{size:64,className:`${a?i:"text-slate-600"}`}):e.jsx(N,{size:56,className:`${a?i:"text-slate-600"}`})}),a&&t!==null&&t!==void 0&&e.jsx("span",{className:"absolute text-2xl font-mono font-bold text-slate-200",children:t})]}),e.jsxs("div",{className:"flex-1 text-left lg:text-center",children:[e.jsx("p",{className:"font-bold text-lg text-slate-100",children:c?.username||`Player ${s}`}),e.jsxs("p",{className:"text-sm text-slate-400",children:["Score: ",n.scores[c?.id||""]||0]})]})]})})},P=({gameState:s,statusMessage:x,isGameOver:r,isMyTurn:t,turnTimeLeft:o,onPerformAction:u,onLeaveGame:n})=>{const h=l=>{t&&!s.board[l]&&!r&&u({type:"MAKE_MOVE",payload:l})},c=s.options.turnTimer,a=l=>l==="X"?e.jsx(b,{size:64,className:"text-red-400"}):l==="O"?e.jsx(N,{size:56,className:"text-blue-400"}):null;return e.jsxs("div",{className:"w-full max-w-4xl flex flex-col lg:flex-row items-center lg:items-start gap-8 p-4",children:[e.jsx(j,{symbol:"O",isNext:s.isNext==="O",isGameOver:r,timeleft:o,totalTime:c}),e.jsx("div",{className:"w-full max-w-md flex-shrink-0",children:e.jsxs("div",{className:"w-full p-4 space-y-4 bg-slate-800/50 rounded-2xl shadow-2xl shadow-slate-950/50 border border-slate-700",children:[e.jsx("div",{className:"h-12 flex items-center justify-center p-3 bg-slate-900/50 rounded-md text-center",children:r&&e.jsx("p",{className:"text-lg font-semibold px-3 py-1 rounded-md transition-colors duration-300 animate-in fade-in text-yellow-400",children:x})}),e.jsx("div",{className:"grid grid-cols-3 gap-3 bg-slate-900/50 p-3 rounded-md aspect-square",children:s.board.map((l,i)=>e.jsx("button",{onClick:()=>h(i),className:`w-full h-full flex items-center justify-center rounded-md transition duration-150 ease-in-out transform focus:outline-none ${t&&!l&&!r?"cursor-pointer bg-slate-700 hover:bg-slate-600":"bg-slate-800 cursor-not-allowed"}`,disabled:!t||!!l||r,children:e.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:a(l)})},i))}),e.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 font-semibold text-slate-400 bg-transparent rounded-md hover:bg-red-600/20 hover:text-red-400 transition",children:[e.jsx(X,{size:16}),"Leave Game"]})]})}),e.jsx(j,{symbol:"X",isNext:s.isNext==="X",isGameOver:r,timeleft:o,totalTime:c})]})};export{P as default};
