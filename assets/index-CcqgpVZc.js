(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var wf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function LE(){if(ny)return Ll;ny=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var iy;function zE(){return iy||(iy=1,wf.exports=LE()),wf.exports}var kt=zE(),Df={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function PE(){if(ay)return At;ay=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function F(C,Z,nt){this.props=C,this.context=Z,this.refs=J,this.updater=nt||j}F.prototype.isReactComponent={},F.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},F.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ft(){}ft.prototype=F.prototype;function ut(C,Z,nt){this.props=C,this.context=Z,this.refs=J,this.updater=nt||j}var rt=ut.prototype=new ft;rt.constructor=ut,$(rt,F.prototype),rt.isPureReactComponent=!0;var Tt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function N(C,Z,nt,W,ct,Rt){return nt=Rt.ref,{$$typeof:s,type:C,key:Z,ref:nt!==void 0?nt:null,props:Rt}}function S(C,Z){return N(C.type,Z,void 0,void 0,void 0,C.props)}function b(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function O(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return Z[nt]})}var M=/\/+/g;function U(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):Z.toString(36)}function w(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,Z,nt,W,ct){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case e:_t=!0;break;case A:return _t=C._init,ae(_t(C._payload),Z,nt,W,ct)}}if(_t)return ct=ct(C),_t=W===""?"."+U(C,0):W,Tt(ct)?(nt="",_t!=null&&(nt=_t.replace(M,"$&/")+"/"),ae(ct,Z,nt,"",function(Ln){return Ln})):ct!=null&&(b(ct)&&(ct=S(ct,nt+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(M,"$&/")+"/")+_t)),Z.push(ct)),1;_t=0;var we=W===""?".":W+":";if(Tt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],Rt=we+U(W,Zt),_t+=ae(W,Z,nt,Rt,ct);else if(Zt=I(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,Rt=we+U(W,Zt++),_t+=ae(W,Z,nt,Rt,ct);else if(Rt==="object"){if(typeof C.then=="function")return ae(Me(C),Z,nt,W,ct);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(C,Z,nt){if(C==null)return C;var W=[],ct=0;return ae(C,W,"","",function(Rt){return Z.call(nt,Rt,ct++)}),W}function et(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return At.Children={map:H,forEach:function(C,Z,nt){H(C,function(){Z.apply(this,arguments)},nt)},count:function(C){var Z=0;return H(C,function(){Z++}),Z},toArray:function(C){return H(C,function(Z){return Z})||[]},only:function(C){if(!b(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=F,At.Fragment=i,At.Profiler=u,At.PureComponent=ut,At.StrictMode=r,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return dt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Z,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),ct=C.key,Rt=void 0;if(Z!=null)for(_t in Z.ref!==void 0&&(Rt=void 0),Z.key!==void 0&&(ct=""+Z.key),Z)!Dt.call(Z,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Z.ref===void 0||(W[_t]=Z[_t]);var _t=arguments.length-2;if(_t===1)W.children=nt;else if(1<_t){for(var we=Array(_t),Zt=0;Zt<_t;Zt++)we[Zt]=arguments[Zt+2];W.children=we}return N(C.type,ct,void 0,void 0,Rt,W)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,Z,nt){var W,ct={},Rt=null;if(Z!=null)for(W in Z.key!==void 0&&(Rt=""+Z.key),Z)Dt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=Z[W]);var _t=arguments.length-2;if(_t===1)ct.children=nt;else if(1<_t){for(var we=Array(_t),Zt=0;Zt<_t;Zt++)we[Zt]=arguments[Zt+2];ct.children=we}if(C&&C.defaultProps)for(W in _t=C.defaultProps,_t)ct[W]===void 0&&(ct[W]=_t[W]);return N(C,Rt,void 0,void 0,null,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=b,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},At.memo=function(C,Z){return{$$typeof:_,type:C,compare:Z===void 0?null:Z}},At.startTransition=function(C){var Z=dt.T,nt={};dt.T=nt;try{var W=C(),ct=dt.S;ct!==null&&ct(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ot)}catch(Rt){ot(Rt)}finally{dt.T=Z}},At.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},At.use=function(C){return dt.H.use(C)},At.useActionState=function(C,Z,nt){return dt.H.useActionState(C,Z,nt)},At.useCallback=function(C,Z){return dt.H.useCallback(C,Z)},At.useContext=function(C){return dt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Z){return dt.H.useDeferredValue(C,Z)},At.useEffect=function(C,Z,nt){var W=dt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,Z)},At.useId=function(){return dt.H.useId()},At.useImperativeHandle=function(C,Z,nt){return dt.H.useImperativeHandle(C,Z,nt)},At.useInsertionEffect=function(C,Z){return dt.H.useInsertionEffect(C,Z)},At.useLayoutEffect=function(C,Z){return dt.H.useLayoutEffect(C,Z)},At.useMemo=function(C,Z){return dt.H.useMemo(C,Z)},At.useOptimistic=function(C,Z){return dt.H.useOptimistic(C,Z)},At.useReducer=function(C,Z,nt){return dt.H.useReducer(C,Z,nt)},At.useRef=function(C){return dt.H.useRef(C)},At.useState=function(C){return dt.H.useState(C)},At.useSyncExternalStore=function(C,Z,nt){return dt.H.useSyncExternalStore(C,Z,nt)},At.useTransition=function(){return dt.H.useTransition()},At.version="19.1.0",At}var ry;function cd(){return ry||(ry=1,Df.exports=PE()),Df.exports}var Wn=cd(),Cf={exports:{}},zl={},Vf={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function BE(){return sy||(sy=1,function(s){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var zt=ot-1>>>1,C=H[zt];if(0<u(C,et))H[zt]=et,H[ot]=C,ot=zt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var zt=0,C=H.length,Z=C>>>1;zt<Z;){var nt=2*(zt+1)-1,W=H[nt],ct=nt+1,Rt=H[ct];if(0>u(W,ot))ct<C&&0>u(Rt,W)?(H[zt]=Rt,H[ct]=ot,zt=ct):(H[zt]=W,H[nt]=ot,zt=nt);else if(ct<C&&0>u(Rt,ot))H[zt]=Rt,H[ct]=ot,zt=ct;else break t}}return et}function u(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,D=null,I=3,j=!1,$=!1,J=!1,F=!1,ft=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Tt(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function dt(H){if(J=!1,Tt(H),!$)if(i(v)!==null)$=!0,Dt||(Dt=!0,U());else{var et=i(_);et!==null&&ae(dt,et.startTime-H)}}var Dt=!1,N=-1,S=5,b=-1;function O(){return F?!0:!(s.unstable_now()-b<S)}function M(){if(F=!1,Dt){var H=s.unstable_now();b=H;var et=!0;try{t:{$=!1,J&&(J=!1,ut(N),N=-1),j=!0;var ot=I;try{e:{for(Tt(H),D=i(v);D!==null&&!(D.expirationTime>H&&O());){var zt=D.callback;if(typeof zt=="function"){D.callback=null,I=D.priorityLevel;var C=zt(D.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){D.callback=C,Tt(H),et=!0;break e}D===i(v)&&r(v),Tt(H)}else r(v);D=i(v)}if(D!==null)et=!0;else{var Z=i(_);Z!==null&&ae(dt,Z.startTime-H),et=!1}}break t}finally{D=null,I=ot,j=!1}et=void 0}}finally{et?U():Dt=!1}}}var U;if(typeof rt=="function")U=function(){rt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){ft(M,0)};function ae(H,et){N=ft(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var et=3;break;default:et=I}var ot=I;I=et;try{return H()}finally{I=ot}},s.unstable_requestPaint=function(){F=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=I;I=H;try{return et()}finally{I=ot}},s.unstable_scheduleCallback=function(H,et,ot){var zt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:C,sortIndex:-1},ot>zt?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(J?(ut(N),N=-1):J=!0,ae(dt,ot-zt))):(H.sortIndex=C,e(v,H),$||j||($=!0,Dt||(Dt=!0,U()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var et=I;return function(){var ot=I;I=et;try{return H.apply(this,arguments)}finally{I=ot}}}}(If)),If}var ly;function kE(){return ly||(ly=1,Vf.exports=BE()),Vf.exports}var Of={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function qE(){if(uy)return Ge;uy=1;var s=cd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=g(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:I,fetchPriority:j}):A==="script"&&r.d.X(v,{crossOrigin:D,integrity:I,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=g(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ge.requestFormReset=function(v){r.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var oy;function jE(){if(oy)return Of.exports;oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Of.exports=qE(),Of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function HE(){if(cy)return zl;cy=1;var s=kE(),e=cd(),i=jE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case F:return"Profiler";case J:return"StrictMode";case dt:return"Suspense";case Dt:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function Z(t){return{current:t}}function nt(t){0>C||(t.current=zt[C],zt[C]=null,C--)}function W(t,n){C++,zt[C]=t.current,t.current=n}var ct=Z(null),Rt=Z(null),_t=Z(null),we=Z(null);function Zt(t,n){switch(W(_t,n),W(Rt,t),W(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ip(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ip(n),t=Op(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),W(ct,t)}function Ln(){nt(ct),nt(Rt),nt(_t)}function zi(t){t.memoizedState!==null&&W(we,t);var n=ct.current,a=Op(n,t.type);n!==a&&(W(Rt,t),W(ct,a))}function li(t){Rt.current===t&&(nt(ct),nt(Rt)),we.current===t&&(nt(we),Ol._currentValue=ot)}var Ca=Object.prototype.hasOwnProperty,Va=s.unstable_scheduleCallback,Ia=s.unstable_cancelCallback,Cs=s.unstable_shouldYield,su=s.unstable_requestPaint,mn=s.unstable_now,Rc=s.unstable_getCurrentPriorityLevel,Vs=s.unstable_ImmediatePriority,vr=s.unstable_UserBlockingPriority,Oa=s.unstable_NormalPriority,wc=s.unstable_LowPriority,Er=s.unstable_IdlePriority,Is=s.log,lu=s.unstable_setDisableYieldValue,re=null,jt=null;function an(t){if(typeof Is=="function"&&lu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var je=Math.clz32?Math.clz32:Na,uu=Math.log,Dc=Math.LN2;function Na(t){return t>>>=0,t===0?32:31-(uu(t)/Dc|0)|0}var Ma=256,xa=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(y&=E,y!==0?c=In(y):a||(a=E&~t,a!==0&&(c=In(a))))):(E=l&~f,E!==0?c=In(E):y!==0?c=In(y):a||(a=l&~t,a!==0&&(c=In(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ua(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Ma;return Ma<<=1,(Ma&4194048)===0&&(Ma=256),t}function Ms(){var t=xa;return xa<<=1,(xa&62914560)===0&&(xa=4194304),t}function ui(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-je(a),Y=1<<G;E[G]=0,R[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Us(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-je(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Zp(t.type))}function ou(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,de="__reactProps$"+te,gn="__reactContainer$"+te,Ls="__reactEvents$"+te,Cc="__reactListeners$"+te,ki="__reactHandles$"+te,cu="__reactResources$"+te,La="__reactMarker$"+te;function qi(t){delete t[ve],delete t[de],delete t[Ls],delete t[Cc],delete t[ki]}function ci(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gn]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Up(t);t!==null;){if(a=t[ve])return a;t=Up(t)}return n}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[ve]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Xe(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[La]=!0}var zs=new Set,Sr={};function On(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Sr[t]=n,t=0;t<n.length;t++)zs.add(n[t])}var hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},za={};function du(t){return Ca.call(za,t)?!0:Ca.call(fu,t)?!1:hu.test(t)?za[t]=!0:(fu[t]=!0,!1)}function ji(t,n,a){if(du(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function xe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Pa,mu;function fi(t){if(Pa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Pa=n&&n[1]||"",mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+t+mu}var br=!1;function Rr(t,n){if(!t||br)return"";br=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{br=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return fi("Activity");default:return""}}function wr(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vc(t){var n=Bs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dr(t){t._valueTracker||(t._valueTracker=Vc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ic=/[\n"\\]/g;function me(t){return t.replace(Ic,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Hi(t,y,Ke(n)):a!=null?Hi(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function ka(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Hi(t,n,a){n==="number"&&Ba(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function di(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function qa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ae(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ja=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ja.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qs(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&gu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&gu(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return Nc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Hs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var a=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(r(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ks(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&di(t,!!a.multiple,n,!1)}}}var qn=!1;function pu(t,n,a){if(qn)return t(n,a);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(gi!==null||pi!==null)&&(oo(),gi&&(n=gi,t=pi,pi=gi=null,Hs(n),t)))for(n=0;n<t.length;n++)Hs(t[n])}}function Ha(t,n){var a=t.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Nn)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{_n=!1}var jn=null,Gi=null,yi=null;function Gs(){if(yi)return yi;var t,n=Gi,a=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Qs(){return!1}function De(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=De(Bt),Qa=A({},Bt,{view:0,detail:0}),yu=De(Qa),Ir,Or,Qn,Fa=A({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ir=t.screenX-Qn.screenX,Or=t.screenY-Qn.screenY):Or=Ir=0,Qn=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Or}}),vn=De(Fa),_u=A({},Fa,{dataTransfer:0}),Mc=De(_u),Ya=A({},Qa,{relatedTarget:0}),Nr=De(Ya),Fs=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=De(Fs),vu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xr=De(vu),xc=A({},Bt,{data:0}),Ys=De(xc),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Ka(){return Xs}var Au=A({},Qa,{key:function(t){if(t.key){var n=Xa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ur=De(Au),Su=A({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=De(Su),_i=A({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),bu=De(_i),Ru=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=De(Ru),Du=A({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=De(Du),Ze=A({},Bt,{newState:0,oldState:0}),Cu=De(Ze),Vu=[9,13,27,32],Fn=Nn&&"CompositionEvent"in window,o=null;Nn&&"documentMode"in document&&(o=document.documentMode);var m=Nn&&"TextEvent"in window&&!o,p=Nn&&(!Fn||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Vu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ee(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(Ot)return t==="compositionend"||!Fn&&q(t,n)?(t=Gs(),yi=Gi=jn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function vi(t,n,a,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=po(n,"onChange"),0<n.length&&(a=new Vr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,Yn=null;function Zs(t){Rp(t,0)}function Iu(t){var n=Bn(t);if(ks(n))return t}function Fd(t,n){if(t==="change")return n}var Yd=!1;if(Nn){var Uc;if(Nn){var Lc="oninput"in document;if(!Lc){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),Lc=typeof Xd.oninput=="function"}Uc=Lc}else Uc=!1;Yd=Uc&&(!document.documentMode||9<document.documentMode)}function Kd(){Ue&&(Ue.detachEvent("onpropertychange",Zd),Yn=Ue=null)}function Zd(t){if(t.propertyName==="value"&&Iu(Yn)){var n=[];vi(n,Yn,t,yn(t)),pu(Zs,n)}}function f0(t,n,a){t==="focusin"?(Kd(),Ue=n,Yn=a,Ue.attachEvent("onpropertychange",Zd)):t==="focusout"&&Kd()}function d0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Yn)}function m0(t,n){if(t==="click")return Iu(n)}function g0(t,n){if(t==="input"||t==="change")return Iu(n)}function p0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:p0;function Js(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ca.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $d(t,n){var a=Jd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jd(a)}}function Wd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Wd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ba(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ba(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var y0=Nn&&"documentMode"in document&&11>=document.documentMode,zr=null,Pc=null,$s=null,Bc=!1;function em(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||zr==null||zr!==Ba(l)||(l=zr,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Js($s,l)||($s=l,l=po(Pc,"onSelect"),0<l.length&&(n=new Vr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=zr)))}function Za(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Pr={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},kc={},nm={};Nn&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Ja(t){if(kc[t])return kc[t];if(!Pr[t])return t;var n=Pr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in nm)return kc[t]=n[a];return t}var im=Ja("animationend"),am=Ja("animationiteration"),rm=Ja("animationstart"),_0=Ja("transitionrun"),v0=Ja("transitionstart"),E0=Ja("transitioncancel"),sm=Ja("transitionend"),lm=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function Mn(t,n){lm.set(t,n),On(n,[t])}var um=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=um.get(t);return a!==void 0?a:(n={value:t,source:n,stack:wr(n)},um.set(t,n),n)}return{value:t,source:n,stack:wr(n)}}var Tn=[],Br=0,jc=0;function Ou(){for(var t=Br,n=jc=Br=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&om(a,c,f)}}function Nu(t,n,a,l){Tn[Br++]=t,Tn[Br++]=n,Tn[Br++]=a,Tn[Br++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,a,l){return Nu(t,n,a,l),Mu(t)}function kr(t,n){return Nu(t,null,null,n),Mu(t)}function om(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Mu(t){if(50<Sl)throw Sl=0,Kh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qr={};function T0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,a,l){return new T0(t,n,a,l)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var a=t.alternate;return a===null?(a=ln(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Gc(t)&&(y=1);else if(typeof t=="string")y=SE(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case b:return t=ln(31,a,n,c),t.elementType=b,t.lanes=f,t;case $:return $a(a.children,c,f,n);case J:y=8,c|=24;break;case F:return t=ln(12,a,n,c|2),t.elementType=F,t.lanes=f,t;case dt:return t=ln(13,a,n,c),t.elementType=dt,t.lanes=f,t;case Dt:return t=ln(19,a,n,c),t.elementType=Dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:case rt:y=10;break t;case ut:y=9;break t;case Tt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function $a(t,n,a,l){return t=ln(7,t,l,n),t.lanes=a,t}function Qc(t,n,a){return t=ln(6,t,null,n),t.lanes=a,t}function Fc(t,n,a){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jr=[],Hr=0,Uu=null,Lu=0,An=[],Sn=0,Wa=null,Ti=1,Ai="";function tr(t,n){jr[Hr++]=Lu,jr[Hr++]=Uu,Uu=t,Lu=n}function hm(t,n,a){An[Sn++]=Ti,An[Sn++]=Ai,An[Sn++]=Wa,Wa=t;var l=Ti;t=Ai;var c=32-je(l)-1;l&=~(1<<c),a+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-je(n)+c|a<<c|l,Ai=f+t}else Ti=1<<f|a<<c|l,Ai=t}function Yc(t){t.return!==null&&(tr(t,1),hm(t,1,0))}function Xc(t){for(;t===Uu;)Uu=jr[--Hr],jr[Hr]=null,Lu=jr[--Hr],jr[Hr]=null;for(;t===Wa;)Wa=An[--Sn],An[Sn]=null,Ai=An[--Sn],An[Sn]=null,Ti=An[--Sn],An[Sn]=null}var Je=null,se=null,Pt=!1,er=null,Xn=!1,Kc=Error(r(519));function nr(t){var n=Error(r(418,""));throw el(En(n,t)),Kc}function fm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[de]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Vt(Rl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),ka(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Dr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),qa(n,l.value,l.defaultValue,l.children),Dr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Vp(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=yo),n=!0):n=!1,n||nr(t)}function dm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Je=Je.return}}function Ws(t){if(t!==Je)return!1;if(!Pt)return dm(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ff(t.type,t.memoizedProps)),a=!a),a&&se&&nr(t),dm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Un(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,sa(t.type)?(t=pf,pf=null,se=t):se=n):se=Je?Un(t.stateNode.nextSibling):null;return!0}function tl(){se=Je=null,Pt=!1}function mm(){var t=er;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),er=null),t}function el(t){er===null?er=[t]:er.push(t)}var Zc=Z(null),ir=null,Si=null;function Qi(t,n,a){W(Zc,n._currentValue),n._currentValue=a}function bi(t){t._currentValue=Zc.current,nt(Zc)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function $c(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Jc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&$c(n,t,a,l),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ar(t){ir=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return gm(ir,t)}function Pu(t,n){return ir===null&&ar(t),gm(t,n)}function gm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Si===null){if(t===null)throw Error(r(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return a}var A0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},S0=s.unstable_scheduleCallback,b0=s.unstable_NormalPriority,Ae={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new A0,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&S0(b0,function(){t.controller.abort()})}var al=null,th=0,Gr=0,Qr=null;function R0(t,n){if(al===null){var a=al=[];th=0,Gr=nf(),Qr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return th++,n.then(pm,pm),n}function pm(){if(--th===0&&al!==null){Qr!==null&&(Qr.status="fulfilled");var t=al;al=null,Gr=0,Qr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function w0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var ym=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&R0(t,n),ym!==null&&ym(t,n)};var rr=Z(null);function eh(){var t=rr.current;return t!==null?t:Jt.pooledCache}function Bu(t,n){n===null?W(rr,rr.current):W(rr,n.pool)}function _m(){var t=eh();return t===null?null:{parent:Ae._currentValue,pool:t}}var rl=Error(r(460)),vm=Error(r(474)),ku=Error(r(542)),nh={then:function(){}};function Em(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(){}function Tm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qu,qu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sm(t),t;default:if(typeof n.status=="string")n.then(qu,qu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sm(t),t}throw sl=n,rl}}var sl=null;function Am(){if(sl===null)throw Error(r(459));var t=sl;return sl=null,t}function Sm(t){if(t===rl||t===ku)throw Error(r(483))}var Fi=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mu(t),om(t,null,a),n}return Nu(t,l,n,a),Mu(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Us(t,a)}}function rh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var sh=!1;function ul(){if(sh){var t=Qr;if(t!==null)throw t}}function ol(t,n,a,l){sh=!1;var c=t.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;y=0,G=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===Gr&&(sh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;B=n;var Xt=a;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){Y=yt.call(Xt,Y,B);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,B=typeof yt=="function"?yt.call(Xt,Y,B):yt,B==null)break t;Y=A({},Y,B);break t;case 2:Fi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,R=Y):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),na|=y,t.lanes=y,t.memoizedState=Y}}function bm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Rm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bm(a[t],n)}var Fr=Z(null),ju=Z(0);function wm(t,n){t=Oi,W(ju,t),W(Fr,n),Oi=t|n.baseLanes}function lh(){W(ju,Oi),W(Fr,Fr.current)}function uh(){Oi=ju.current,nt(Fr),nt(ju)}var Ki=0,St=null,Ft=null,ge=null,Hu=!1,Yr=!1,sr=!1,Gu=0,cl=0,Xr=null,D0=0;function oe(){throw Error(r(321))}function oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function ch(t,n,a,l,c,f){return Ki=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?og:cg,sr=!1,f=a(l,c),sr=!1,Yr&&(f=Cm(n,a,l,c)),Dm(t),f}function Dm(t){H.H=Zu;var n=Ft!==null&&Ft.next!==null;if(Ki=0,ge=Ft=St=null,Hu=!1,cl=0,Xr=null,n)throw Error(r(300));t===null||Ve||(t=t.dependencies,t!==null&&zu(t)&&(Ve=!0))}function Cm(t,n,a,l){St=t;var c=0;do{if(Yr&&(Xr=null),cl=0,Yr=!1,25<=c)throw Error(r(301));if(c+=1,ge=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=x0,f=n(a,l)}while(Yr);return f}function C0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(St.flags|=1024),n}function hh(){var t=Gu!==0;return Gu=0,t}function fh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function dh(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}Ki=0,ge=Ft=St=null,Yr=!1,cl=Gu=0,Xr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Ft===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,Ft=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},ge===null?St.memoizedState=ge=t:ge=ge.next=t}return ge}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Xr===null&&(Xr=[]),t=Tm(Xr,t,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?og:cg),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===rt)return He(t)}throw Error(r(438,String(t)))}function gh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=mh(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Ri(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=pe();return ph(n,Ft,t)}function ph(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Mt&Y)===Y:(Ki&Y)===Y){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Gr&&(G=!0);else if((Ki&B)===B){P=P.next,B===Gr&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,St.lanes|=B,na|=B;Y=P.action,sr&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,St.lanes|=Y,na|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?y=f:R.next=E,!sn(f,t.memoizedState)&&(Ve=!0,G&&(a=Qr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yh(t){var n=pe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Vm(t,n,a){var l=St,c=pe(),f=Pt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!sn((Ft||c).memoizedState,a);y&&(c.memoizedState=a,Ve=!0),c=c.queue;var E=Nm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Kr(9,Yu(),Om.bind(null,l,c,a,n),null),Jt===null)throw Error(r(349));f||(Ki&124)!==0||Im(l,n,a)}return a}function Im(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=mh(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Om(t,n,a,l){n.value=a,n.getSnapshot=l,Mm(n)&&xm(t)}function Nm(t,n,a){return a(function(){Mm(n)&&xm(t)})}function Mm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function xm(t){var n=kr(t,2);n!==null&&fn(n,t,2)}function _h(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),sr){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function Um(t,n,a,l){return t.baseState=a,ph(t,Ft,typeof l=="function"?l:Ri)}function V0(t,n,a,l,c){if(Ku(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Lm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Lm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),R=H.S;R!==null&&R(y,E),zm(t,n,E)}catch(P){vh(t,n,P)}finally{H.T=f}}else try{f=a(c,l),zm(t,n,f)}catch(P){vh(t,n,P)}}function zm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pm(t,n,l)},function(l){return vh(t,n,l)}):Pm(t,n,a)}function Pm(t,n,a){n.status="fulfilled",n.value=a,Bm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Lm(t,a)))}function vh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Bm(n),n=n.next;while(n!==l)}t.action=null}function Bm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function km(t,n){return n}function qm(t,n){if(Pt){var a=Jt.formState;if(a!==null){t:{var l=St;if(Pt){if(se){e:{for(var c=se,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Un(c.nextSibling),l=c.data==="F!";break t}}nr(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:n},a.queue=l,a=sg.bind(null,St,l),l.dispatch=a,l=_h(!1),f=bh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=V0.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function jm(t){var n=pe();return Hm(n,Ft,t)}function Hm(t,n,a){if(n=ph(t,n,km)[0],t=Fu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===rl?ku:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Kr(9,Yu(),I0.bind(null,c,a),null)),[l,f,t]}function I0(t,n){t.action=n}function Gm(t){var n=pe(),a=Ft;if(a!==null)return Hm(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Kr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=mh(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Yu(){return{destroy:void 0,resource:void 0}}function Qm(){return pe().memoizedState}function Xu(t,n,a,l){var c=$e();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Kr(1|n,Yu(),a,l)}function fl(t,n,a,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&oh(l,Ft.memoizedState.deps)?c.memoizedState=Kr(n,f,a,l):(St.flags|=t,c.memoizedState=Kr(1|n,f,a,l))}function Fm(t,n){Xu(8390656,8,t,n)}function Ym(t,n){fl(2048,8,t,n)}function Xm(t,n){return fl(4,2,t,n)}function Km(t,n){return fl(4,4,t,n)}function Zm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jm(t,n,a){a=a!=null?a.concat([t]):null,fl(4,4,Zm.bind(null,n,t),a)}function Eh(){}function $m(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Wm(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),sr){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l}function Th(t,n,a){return a===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=np(),St.lanes|=t,na|=t,a)}function tg(t,n,a,l){return sn(a,n)?a:Fr.current!==null?(t=Th(t,a,l),sn(t,n)||(Ve=!0),t):(Ki&42)===0?(Ve=!0,t.memoizedState=a):(t=np(),St.lanes|=t,na|=t,n)}function eg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,bh(t,!1,n,a);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=w0(R,l);dl(t,n,G,hn(t))}else dl(t,n,l,hn(t))}catch(Y){dl(t,n,{then:function(){},status:"rejected",reason:Y},hn())}finally{et.p=f,H.T=y}}function O0(){}function Ah(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=ng(t).queue;eg(t,c,n,ot,a===null?O0:function(){return ig(t),a(l)})}function ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ig(t){var n=ng(t).next.queue;dl(t,n,{},hn())}function Sh(){return He(Ol)}function ag(){return pe().memoizedState}function rg(){return pe().memoizedState}function N0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=Yi(a);var l=Xi(n,t,a);l!==null&&(fn(l,n,a),ll(l,n,a)),n={cache:Wc()},t.payload=n;return}n=n.return}}function M0(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(t)?lg(n,a):(a=Hc(t,n,a,l),a!==null&&(fn(a,t,l),ug(a,n,l)))}function sg(t,n,a){var l=hn();dl(t,n,a,l)}function dl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))lg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Nu(t,n,c,0),Jt===null&&Ou(),!1}catch{}finally{}if(a=Hc(t,n,c,l),a!==null)return fn(a,t,l),ug(a,n,l),!0}return!1}function bh(t,n,a,l){if(l={lane:2,revertLane:nf(),action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(r(479))}else n=Hc(t,a,l,2),n!==null&&fn(n,t,2)}function Ku(t){var n=t.alternate;return t===St||n!==null&&n===St}function lg(t,n){Yr=Hu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ug(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Us(t,a)}}var Zu={readContext:He,use:Qu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},og={readContext:He,use:Qu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Fm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,Zm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(sr){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(sr){an(!0);try{a(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=M0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=_h(t);var n=t.queue,a=sg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Eh,useDeferredValue:function(t,n){var a=$e();return Th(a,t,n)},useTransition:function(){var t=_h(!1);return t=eg.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=$e();if(Pt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(Mt&124)!==0||Im(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Fm(Nm.bind(null,l,f,t),[t]),l.flags|=2048,Kr(9,Yu(),Om.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Pt){var a=Ai,l=Ti;a=(l&~(1<<32-je(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Gu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=D0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Sh,useFormState:qm,useActionState:qm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:gh,useCacheRefresh:function(){return $e().memoizedState=N0.bind(null,St)}},cg={readContext:He,use:Qu,useCallback:$m,useContext:He,useEffect:Ym,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:Wm,useReducer:Fu,useRef:Qm,useState:function(){return Fu(Ri)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=pe();return tg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=Fu(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:Sh,useFormState:jm,useActionState:jm,useOptimistic:function(t,n){var a=pe();return Um(a,Ft,t,n)},useMemoCache:gh,useCacheRefresh:rg},x0={readContext:He,use:Qu,useCallback:$m,useContext:He,useEffect:Ym,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:Wm,useReducer:yh,useRef:Qm,useState:function(){return yh(Ri)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=pe();return Ft===null?Th(a,t,n):tg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=yh(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:Sh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var a=pe();return Ft!==null?Um(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gh,useCacheRefresh:rg},Zr=null,ml=0;function Ju(t){var n=ml;return ml+=1,Zr===null&&(Zr=[]),Tm(Zr,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){var n=t._init;return n(t._payload)}function fg(t){function n(x,V){if(t){var z=x.deletions;z===null?(x.deletions=[V],x.flags|=16):z.push(V)}}function a(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=Ei(x,V),x.index=0,x.sibling=null,x}function f(x,V,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<V?(x.flags|=67108866,V):z):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,z,Q){return V===null||V.tag!==6?(V=Qc(z,x.mode,Q),V.return=x,V):(V=c(V,z),V.return=x,V)}function R(x,V,z,Q){var at=z.type;return at===$?G(x,V,z.props.children,Q,z.key):V!==null&&(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&hg(at)===V.type)?(V=c(V,z.props),gl(V,z),V.return=x,V):(V=xu(z.type,z.key,z.props,null,x.mode,Q),gl(V,z),V.return=x,V)}function P(x,V,z,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Fc(z,x.mode,Q),V.return=x,V):(V=c(V,z.children||[]),V.return=x,V)}function G(x,V,z,Q,at){return V===null||V.tag!==7?(V=$a(z,x.mode,Q,at),V.return=x,V):(V=c(V,z),V.return=x,V)}function Y(x,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qc(""+V,x.mode,z),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return z=xu(V.type,V.key,V.props,null,x.mode,z),gl(z,V),z.return=x,z;case j:return V=Fc(V,x.mode,z),V.return=x,V;case S:var Q=V._init;return V=Q(V._payload),Y(x,V,z)}if(ae(V)||U(V))return V=$a(V,x.mode,z,null),V.return=x,V;if(typeof V.then=="function")return Y(x,Ju(V),z);if(V.$$typeof===rt)return Y(x,Pu(x,V),z);$u(x,V)}return null}function B(x,V,z,Q){var at=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(x,V,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===at?R(x,V,z,Q):null;case j:return z.key===at?P(x,V,z,Q):null;case S:return at=z._init,z=at(z._payload),B(x,V,z,Q)}if(ae(z)||U(z))return at!==null?null:G(x,V,z,Q,null);if(typeof z.then=="function")return B(x,V,Ju(z),Q);if(z.$$typeof===rt)return B(x,V,Pu(x,z),Q);$u(x,z)}return null}function k(x,V,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(z)||null,E(V,x,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return x=x.get(Q.key===null?z:Q.key)||null,R(V,x,Q,at);case j:return x=x.get(Q.key===null?z:Q.key)||null,P(V,x,Q,at);case S:var wt=Q._init;return Q=wt(Q._payload),k(x,V,z,Q,at)}if(ae(Q)||U(Q))return x=x.get(z)||null,G(V,x,Q,at,null);if(typeof Q.then=="function")return k(x,V,z,Ju(Q),at);if(Q.$$typeof===rt)return k(x,V,z,Pu(V,Q),at);$u(V,Q)}return null}function yt(x,V,z,Q){for(var at=null,wt=null,lt=V,gt=V=0,Oe=null;lt!==null&&gt<z.length;gt++){lt.index>gt?(Oe=lt,lt=null):Oe=lt.sibling;var Lt=B(x,lt,z[gt],Q);if(Lt===null){lt===null&&(lt=Oe);break}t&&lt&&Lt.alternate===null&&n(x,lt),V=f(Lt,V,gt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt,lt=Oe}if(gt===z.length)return a(x,lt),Pt&&tr(x,gt),at;if(lt===null){for(;gt<z.length;gt++)lt=Y(x,z[gt],Q),lt!==null&&(V=f(lt,V,gt),wt===null?at=lt:wt.sibling=lt,wt=lt);return Pt&&tr(x,gt),at}for(lt=l(lt);gt<z.length;gt++)Oe=k(lt,x,gt,z[gt],Q),Oe!==null&&(t&&Oe.alternate!==null&&lt.delete(Oe.key===null?gt:Oe.key),V=f(Oe,V,gt),wt===null?at=Oe:wt.sibling=Oe,wt=Oe);return t&&lt.forEach(function(ha){return n(x,ha)}),Pt&&tr(x,gt),at}function mt(x,V,z,Q){if(z==null)throw Error(r(151));for(var at=null,wt=null,lt=V,gt=V=0,Oe=null,Lt=z.next();lt!==null&&!Lt.done;gt++,Lt=z.next()){lt.index>gt?(Oe=lt,lt=null):Oe=lt.sibling;var ha=B(x,lt,Lt.value,Q);if(ha===null){lt===null&&(lt=Oe);break}t&&lt&&ha.alternate===null&&n(x,lt),V=f(ha,V,gt),wt===null?at=ha:wt.sibling=ha,wt=ha,lt=Oe}if(Lt.done)return a(x,lt),Pt&&tr(x,gt),at;if(lt===null){for(;!Lt.done;gt++,Lt=z.next())Lt=Y(x,Lt.value,Q),Lt!==null&&(V=f(Lt,V,gt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return Pt&&tr(x,gt),at}for(lt=l(lt);!Lt.done;gt++,Lt=z.next())Lt=k(lt,x,gt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&lt.delete(Lt.key===null?gt:Lt.key),V=f(Lt,V,gt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return t&&lt.forEach(function(UE){return n(x,UE)}),Pt&&tr(x,gt),at}function Xt(x,V,z,Q){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:t:{for(var at=z.key;V!==null;){if(V.key===at){if(at=z.type,at===$){if(V.tag===7){a(x,V.sibling),Q=c(V,z.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&hg(at)===V.type){a(x,V.sibling),Q=c(V,z.props),gl(Q,z),Q.return=x,x=Q;break t}a(x,V);break}else n(x,V);V=V.sibling}z.type===$?(Q=$a(z.props.children,x.mode,Q,z.key),Q.return=x,x=Q):(Q=xu(z.type,z.key,z.props,null,x.mode,Q),gl(Q,z),Q.return=x,x=Q)}return y(x);case j:t:{for(at=z.key;V!==null;){if(V.key===at)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(x,V.sibling),Q=c(V,z.children||[]),Q.return=x,x=Q;break t}else{a(x,V);break}else n(x,V);V=V.sibling}Q=Fc(z,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return at=z._init,z=at(z._payload),Xt(x,V,z,Q)}if(ae(z))return yt(x,V,z,Q);if(U(z)){if(at=U(z),typeof at!="function")throw Error(r(150));return z=at.call(z),mt(x,V,z,Q)}if(typeof z.then=="function")return Xt(x,V,Ju(z),Q);if(z.$$typeof===rt)return Xt(x,V,Pu(x,z),Q);$u(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(x,V.sibling),Q=c(V,z),Q.return=x,x=Q):(a(x,V),Q=Qc(z,x.mode,Q),Q.return=x,x=Q),y(x)):a(x,V)}return function(x,V,z,Q){try{ml=0;var at=Xt(x,V,z,Q);return Zr=null,at}catch(lt){if(lt===rl||lt===ku)throw lt;var wt=ln(29,lt,null,x.mode);return wt.lanes=Q,wt.return=x,wt}finally{}}}var Jr=fg(!0),dg=fg(!1),bn=Z(null),Kn=null;function Zi(t){var n=t.alternate;W(Se,Se.current&1),W(bn,t),Kn===null&&(n===null||Fr.current!==null||n.memoizedState!==null)&&(Kn=t)}function mg(t){if(t.tag===22){if(W(Se,Se.current),W(bn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Ji()}function Ji(){W(Se,Se.current),W(bn,bn.current)}function wi(t){nt(bn),Kn===t&&(Kn=null),nt(Se)}var Se=Z(0);function Wu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||gf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Rh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Yi(l);c.payload=n,a!=null&&(c.callback=a),n=Xi(t,c,l),n!==null&&(fn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Yi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Xi(t,c,l),n!==null&&(fn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=Yi(a);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,a),n!==null&&(fn(n,t,a),ll(n,t,a))}};function gg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Js(a,l)||!Js(c,f):!0}function pg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&wh.enqueueReplaceState(n,n.state,null)}function lr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var to=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function yg(t){to(t)}function _g(t){console.error(t)}function vg(t){to(t)}function eo(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Eg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Dh(t,n,a){return a=Yi(a),a.tag=3,a.payload={element:null},a.callback=function(){eo(t,n)},a}function Tg(t){return t=Yi(t),t.tag=3,t}function Ag(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Eg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Eg(n,a,l),typeof c!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function U0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&nl(n,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Kn===null?Jh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===nh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Wh(t,l,c)),!1;case 22:return a.flags|=65536,l===nh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Wh(t,l,c)),!1}throw Error(r(435,a.tag))}return Wh(t,l,c),Jh(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Kc&&(t=Error(r(422),{cause:l}),el(En(t,a)))):(l!==Kc&&(n=Error(r(423),{cause:l}),el(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Dh(t.stateNode,l,c),rh(t,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:l});if(f=En(f,a),Al===null?Al=[f]:Al.push(f),le!==4&&(le=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Dh(a.stateNode,l,t),rh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ia===null||!ia.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Tg(c),Ag(c,t,a,l),rh(a,c),!1}a=a.return}while(a!==null);return!1}var Sg=Error(r(461)),Ve=!1;function Le(t,n,a,l){n.child=t===null?dg(n,null,a,l):Jr(n,t.child,a,l)}function bg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ar(n),l=ch(t,n,a,y,f,c),E=hh(),t!==null&&!Ve?(fh(t,n,c),Di(t,n,c)):(Pt&&E&&Yc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Rg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,wg(t,n,f,l,c)):(t=xu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Js,a(y,l)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function wg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Uh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Di(t,n,c)}return Ch(t,n,a,l,c)}function Dg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Cg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?wm(n,f):lh(),mg(n);else return n.lanes=n.childLanes=536870912,Cg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Bu(n,f.cachePool),wm(n,f),Ji(),n.memoizedState=null):(t!==null&&Bu(n,null),lh(),Ji());return Le(t,n,c,a),n.child}function Cg(t,n,a,l){var c=eh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Bu(n,null),lh(),mg(n),t!==null&&nl(t,n,l,!0),null}function no(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ch(t,n,a,l,c){return ar(n),a=ch(t,n,a,l,void 0,c),l=hh(),t!==null&&!Ve?(fh(t,n,c),Di(t,n,c)):(Pt&&l&&Yc(n),n.flags|=1,Le(t,n,a,c),n.child)}function Vg(t,n,a,l,c,f){return ar(n),n.updateQueue=null,a=Cm(n,l,a,c),Dm(t),l=hh(),t!==null&&!Ve?(fh(t,n,f),Di(t,n,f)):(Pt&&l&&Yc(n),n.flags|=1,Le(t,n,a,f),n.child)}function Ig(t,n,a,l,c){if(ar(n),n.stateNode===null){var f=qr,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ih(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):qr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Rh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&wh.enqueueReplaceState(f,f.state,null),ol(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=lr(a,E);f.props=R;var P=f.context,G=a.contextType;y=qr,typeof G=="object"&&G!==null&&(y=He(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&pg(n,f,l,y),Fi=!1;var B=n.memoizedState;f.state=B,ol(n,l,f,c),ul(),P=n.memoizedState,E||B!==P||Fi?(typeof Y=="function"&&(Rh(n,a,Y,l),P=n.memoizedState),(R=Fi||gg(n,a,R,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ah(t,n),y=n.memoizedProps,G=lr(a,y),f.props=G,Y=n.pendingProps,B=f.context,P=a.contextType,R=qr,typeof P=="object"&&P!==null&&(R=He(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==R)&&pg(n,f,l,R),Fi=!1,B=n.memoizedState,f.state=B,ol(n,l,f,c),ul();var k=n.memoizedState;y!==Y||B!==k||Fi||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(Rh(n,a,E,l),k=n.memoizedState),(G=Fi||gg(n,a,G,l,B,k,R)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,no(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,a,c)):Le(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function Og(t,n,a,l){return tl(),n.flags|=256,Le(t,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(t){return{baseLanes:t,cachePool:_m()}}function Oh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function Ng(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Zi(n):Ji(),Pt){var E=se,R;if(R=E){t:{for(R=E,E=Xn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wa!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},R=ln(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Je=n,se=null,R=!0):R=!1}R||nr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return gf(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=io({mode:"hidden",children:E},c),l=$a(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ih(a),c.childLanes=Oh(t,y,a),n.memoizedState=Vh,l):(Zi(n),Nh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=io({mode:"visible",children:l.children},E),c=$a(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,a),l=n.child,l.memoizedState=Ih(a),l.childLanes=Oh(t,y,a),n.memoizedState=Vh,n=c);else if(Zi(n),gf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if(Ve||nl(t,n,a,!1),y=(a&t.childLanes)!==0,Ve||y){if(y=Jt,y!==null&&(l=a&-a,l=(l&42)!==0?1:Pi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,kr(t,l),fn(y,t,l),Sg;E.data==="$?"||Jh(),n=Mh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,se=Un(E.nextSibling),Je=n,Pt=!0,er=null,Xn=!1,t!==null&&(An[Sn++]=Ti,An[Sn++]=Ai,An[Sn++]=Wa,Ti=t.id,Ai=t.overflow,Wa=n),n=Nh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=Ei(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=Ei(P,c):(c=$a(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ih(a):(R=E.cachePool,R!==null?(P=Ae._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=_m(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Oh(t,y,a),n.memoizedState=Vh,l):(Zi(n),a=t.child,t=a.sibling,a=Ei(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Nh(t,n){return n=io({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function io(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mh(t,n,a){return Jr(n,t.child,null,a),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function xh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function xg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,a,n);else if(t.tag===19)Mg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Se,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),xh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Wu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}xh(n,!0,a,null,f);break;case"together":xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),na|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(nl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ei(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ei(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function L0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Qi(n,Ae,t.memoizedState.cache),tl();break;case 27:case 5:zi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ng(t,n,a):(Zi(n),t=Di(t,n,a),t!==null?t.sibling:null);Zi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(nl(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return xg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Dg(t,n,a);case 24:Qi(n,Ae,t.memoizedState.cache)}return Di(t,n,a)}function Ug(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Uh(t,a)&&(n.flags&128)===0)return Ve=!1,L0(t,n,a);Ve=(t.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&hm(n,Lu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Gc(l)?(t=lr(l,t),n.tag=1,n=Ig(null,n,l,t,a)):(n.tag=0,n=Ch(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Tt){n.tag=11,n=bg(null,n,l,t,a);break t}else if(c===N){n.tag=14,n=Rg(null,n,l,t,a);break t}}throw n=Me(l)||l,Error(r(306,n,""))}}return n;case 0:return Ch(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=lr(l,n.pendingProps),Ig(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ah(t,n),ol(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Qi(n,Ae,l),l!==f.cache&&$c(n,[Ae],a,!0),ul(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Og(t,n,l,a);break t}else if(l!==c){c=En(Error(r(424)),n),el(c),n=Og(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Un(t.firstChild),Je=n,Pt=!0,er=null,Xn=!0,a=dg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===c){n=Di(t,n,a);break t}Le(t,n,l,a)}n=n.child}return n;case 26:return no(t,n),t===null?(a=Bp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=_o(_t.current).createElement(a),l[ve]=n,l[de]=t,Pe(l,a,t),ue(l),n.stateNode=l):n.memoizedState=Bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&Pt&&(l=n.stateNode=Lp(n.type,n.pendingProps,_t.current),Je=n,Xn=!0,c=se,sa(n.type)?(pf=c,se=Un(l.firstChild)):se=c),Le(t,n,n.pendingProps.children,a),no(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=se)&&(l=cE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Je=n,se=Un(l.firstChild),Xn=!1,c=!0):c=!1),c||nr(n)),zi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,ff(c,f)?l=null:y!==null&&ff(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ch(t,n,C0,null,null,a),Ol._currentValue=c),no(t,n),Le(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=se)&&(a=hE(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,Je=n,se=null,t=!0):t=!1),t||nr(n)),null;case 13:return Ng(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,a):Le(t,n,l,a),n.child;case 11:return bg(t,n,n.type,n.pendingProps,a);case 7:return Le(t,n,n.pendingProps,a),n.child;case 8:return Le(t,n,n.pendingProps.children,a),n.child;case 12:return Le(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Le(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ar(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,a),n.child;case 14:return Rg(t,n,n.type,n.pendingProps,a);case 15:return wg(t,n,n.type,n.pendingProps,a);case 19:return xg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=io(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ei(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Dg(t,n,a);case 24:return ar(n),l=He(Ae),t===null?(c=eh(),c===null&&(c=Jt,f=Wc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ih(n),Qi(n,Ae,c)):((t.lanes&a)!==0&&(ah(t,n),ol(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,Ae,l)):(l=f.cache,Qi(n,Ae,l),l!==c.cache&&$c(n,[Ae],a,!0))),Le(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ci(t){t.flags|=4}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gp(n)){if(n=bn.current,n!==null&&((Mt&4194048)===Mt?Kn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Kn))throw sl=nh,vm;t.flags|=8192}}function ao(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,es|=n)}function pl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function z0(t,n,a){var l=n.pendingProps;switch(Xc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Ae),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mm())),ne(n),null;case 26:return a=n.memoizedState,t===null?(Ci(n),a!==null?(ne(n),Lg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ci(n),ne(n),Lg(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ne(n),n.flags&=-16777217),null;case 27:li(n),a=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=ct.current,Ws(n)?fm(n):(t=Lp(c,l,a),n.stateNode=t,Ci(n))}return ne(n),null;case 5:if(li(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(t=ct.current,Ws(n))fm(n);else{switch(c=_o(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ve]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=_t.current,Ws(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vp(t.nodeValue,a)),t||nr(n)}else t=_o(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ve]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=mm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),ao(n,n.updateQueue),ne(n),null;case 4:return Ln(),t===null&&lf(n.stateNode.containerInfo),ne(n),null;case 10:return bi(n.type),ne(n),null;case 19:if(nt(Se),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,ao(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)cm(a,t),a=a.sibling;return W(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>lo&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Wu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ao(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ne(n),null}else 2*mn()-c.renderingStartTime>lo&&a!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Se.current,W(Se,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return wi(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&ao(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(rr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bi(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function P0(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Ae),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Se),null;case 4:return Ln(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),uh(),t!==null&&nt(rr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Ae),null;case 25:return null;default:return null}}function zg(t,n){switch(Xc(n),n.tag){case 3:bi(Ae),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:wi(n);break;case 19:nt(Se);break;case 10:bi(n.type);break;case 22:case 23:wi(n),uh(),t!==null&&nt(rr);break;case 24:bi(Ae)}}function yl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function $i(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=a,P=E;try{P()}catch(G){Kt(c,R,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function Pg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Rm(n,a)}catch(l){Kt(t,t.return,l)}}}function Bg(t,n,a){a.props=lr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function Zn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function kg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Lh(t,n,a){try{var l=t.stateNode;rE(l,t.type,a,n),l[de]=n}catch(c){Kt(t,t.return,c)}}function qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sa(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=yo));else if(l!==4&&(l===27&&sa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ph(t,n,a),t=t.sibling;t!==null;)Ph(t,n,a),t=t.sibling}function ro(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&sa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ro(t,n,a),t=t.sibling;t!==null;)ro(t,n,a),t=t.sibling}function jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ve]=t,n[de]=a}catch(f){Kt(t,t.return,f)}}var Vi=!1,ce=!1,Bh=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function B0(t,n){if(t=t.containerInfo,cf=bo,t=tm(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,P=0,G=0,Y=t,B=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(R=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++G===l&&(R=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(hf={focusedElem:t,selectionRange:a},bo=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var yt=lr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Kt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)mf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Gg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&yl(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var c=lr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}l&64&&Pg(a),l&512&&_l(a,a.return);break;case 3:if(Wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Rm(t,n)}catch(y){Kt(a,a.return,y)}}break;case 27:n===null&&l&4&&jg(a);case 26:case 5:Wi(t,a),n===null&&l&4&&kg(a),l&512&&_l(a,a.return);break;case 12:Wi(t,a);break;case 13:Wi(t,a),l&4&&Yg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=X0.bind(null,a),fE(t,a))));break;case 22:if(l=a.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||ce,c=Vi;var f=ce;Vi=l,(ce=n)&&!f?ta(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Vi=c,ce=f}break;case 30:break;default:Wi(t,a)}}function Qg(t){var n=t.alternate;n!==null&&(t.alternate=null,Qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,We=!1;function Ii(t,n,a){for(a=a.child;a!==null;)Fg(t,n,a),a=a.sibling}function Fg(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:ce||Zn(a,n),Ii(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||Zn(a,n);var l=ee,c=We;sa(a.type)&&(ee=a.stateNode,We=!1),Ii(t,n,a),Dl(a.stateNode),ee=l,We=c;break;case 5:ce||Zn(a,n);case 6:if(l=ee,c=We,ee=null,Ii(t,n,a),ee=l,We=c,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{ee.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:ee!==null&&(We?(t=ee,xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ul(t)):xp(ee,a.stateNode));break;case 4:l=ee,c=We,ee=a.stateNode.containerInfo,We=!0,Ii(t,n,a),ee=l,We=c;break;case 0:case 11:case 14:case 15:ce||$i(2,a,n),ce||$i(4,a,n),Ii(t,n,a);break;case 1:ce||(Zn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Bg(a,n,l)),Ii(t,n,a);break;case 21:Ii(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Ii(t,n,a),ce=l;break;default:Ii(t,n,a)}}function Yg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(a){Kt(n,n.return,a)}}function k0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Hg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Hg),n;default:throw Error(r(435,t.tag))}}function kh(t,n){var a=k0(t);n.forEach(function(l){var c=K0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(sa(E.type)){ee=E.stateNode,We=!1;break t}break;case 5:ee=E.stateNode,We=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(ee===null)throw Error(r(160));Fg(f,y,c),ee=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xg(n,t),n=n.sibling}var xn=null;function Xg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),on(t),l&4&&($i(3,t,t.return),yl(3,t),$i(5,t,t.return));break;case 1:un(n,t),on(t),l&512&&(ce||a===null||Zn(a,a.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=xn;if(un(n,t),on(t),l&512&&(ce||a===null||Zn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[La]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ve]=t,ue(f),l=f;break t;case"link":var y=jp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(y=jp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ve]=t,ue(f),l=f}t.stateNode=l}else Hp(c,t.type,t.stateNode);else t.stateNode=qp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hp(c,t.type,t.stateNode):qp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lh(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),on(t),l&512&&(ce||a===null||Zn(a,a.return)),a!==null&&l&4&&Lh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),on(t),l&512&&(ce||a===null||Zn(a,a.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Lh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Bh=!0);break;case 6:if(un(n,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(To=null,c=xn,xn=vo(n.containerInfo),un(n,t),xn=c,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(k){Kt(t,t.return,k)}Bh&&(Bh=!1,Kg(t));break;case 4:l=xn,xn=vo(t.stateNode.containerInfo),un(n,t),on(t),xn=l;break;case 12:un(n,t),on(t);break;case 13:un(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fh=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=Vi,G=ce;if(Vi=P||c,ce=G||R,un(n,t),ce=G,Vi=P,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Vi||ce||ur(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Kt(R,R.return,k)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Kt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kh(t,a))));break;case 19:un(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kh(t,l)));break;case 30:break;case 21:break;default:un(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(qg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=zh(t);ro(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(pn(y,""),a.flags&=-33);var E=zh(t);ro(t,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,P=zh(t);Ph(t,P,R);break;default:throw Error(r(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gg(t,n.alternate,n),n=n.sibling}function ur(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),ur(n);break;case 1:Zn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Bg(n,n.return,a),ur(n);break;case 27:Dl(n.stateNode);case 26:case 5:Zn(n,n.return),ur(n);break;case 22:n.memoizedState===null&&ur(n);break;case 30:ur(n);break;default:ur(n)}t=t.sibling}}function ta(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ta(c,f,a),yl(4,f);break;case 1:if(ta(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)bm(R[c],E)}catch(P){Kt(l,l.return,P)}}a&&y&64&&Pg(f),_l(f,f.return);break;case 27:jg(f);case 26:case 5:ta(c,f,a),a&&l===null&&y&4&&kg(f),_l(f,f.return);break;case 12:ta(c,f,a);break;case 13:ta(c,f,a),a&&y&4&&Yg(c,f);break;case 22:f.memoizedState===null&&ta(c,f,a),_l(f,f.return);break;case 30:break;default:ta(c,f,a)}n=n.sibling}}function qh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Jn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(t,n,a,l),n=n.sibling}function Zg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,l),c&2048&&yl(9,n);break;case 1:Jn(t,n,a,l);break;case 3:Jn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Jn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Jn(t,n,a,l);break;case 13:Jn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,l):vl(t,n):f._visibility&2?Jn(t,n,a,l):(f._visibility|=2,$r(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&qh(y,n);break;case 24:Jn(t,n,a,l),c&2048&&jh(n.alternate,n);break;default:Jn(t,n,a,l)}}function $r(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,R=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:$r(f,y,E,R,c),yl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?$r(f,y,E,R,c):vl(f,y):(G._visibility|=2,$r(f,y,E,R,c)),c&&P&2048&&qh(y.alternate,y);break;case 24:$r(f,y,E,R,c),c&&P&2048&&jh(y.alternate,y);break;default:$r(f,y,E,R,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:vl(a,l),c&2048&&qh(l.alternate,l);break;case 24:vl(a,l),c&2048&&jh(l.alternate,l);break;default:vl(a,l)}n=n.sibling}}var El=8192;function Wr(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 26:Wr(t),t.flags&El&&t.memoizedState!==null&&RE(xn,t.memoizedState,t.memoizedProps);break;case 5:Wr(t);break;case 3:case 4:var n=xn;xn=vo(t.stateNode.containerInfo),Wr(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Wr(t),El=n):Wr(t));break;default:Wr(t)}}function $g(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,tp(l,t)}$g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,so(t)):Tl(t);break;default:Tl(t)}}function so(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,tp(l,t)}$g(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),so(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,so(n));break;default:so(n)}t=t.sibling}}function tp(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:$i(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Qg(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var q0={getCacheForType:function(t){var n=He(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},j0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Ct=null,Mt=0,Gt=0,cn=null,ea=!1,ts=!1,Hh=!1,Oi=0,le=0,na=0,or=0,Gh=0,Rn=0,es=0,Al=null,tn=null,Qh=!1,Fh=0,lo=1/0,uo=null,ia=null,ze=0,aa=null,ns=null,is=0,Yh=0,Xh=null,ep=null,Sl=0,Kh=null;function hn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Gr;return t!==0?t:nf()}return Bi()}function np(){Rn===0&&(Rn=(Mt&536870912)===0||Pt?Ns():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function fn(t,n,a){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(as(t,0),ra(t,Mt,Rn,!1)),oi(t,a),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(or|=a),le===4&&ra(t,Mt,Rn,!1)),$n(t))}function ip(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ua(t,n),c=l?Q0(t,n):$h(t,n,!0),f=l;do{if(c===0){ts&&!l&&ra(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!H0(a)){c=$h(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Al;var R=E.current.memoizedState.isDehydrated;if(R&&(as(E,y).flags|=256),y=$h(E,y,!1),y!==2){if(Hh&&!R){E.errorRecoveryDisabledLanes|=f,or|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){as(t,0),ra(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ra(l,n,Rn,!ea);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Fh+300-mn(),10<c)){if(ra(l,n,Rn,!ea),Tr(l,0,!0)!==0)break t;l.timeoutHandle=Np(ap.bind(null,l,a,tn,uo,Qh,n,Rn,or,es,ea,f,2,-0,0),c);break t}ap(l,a,tn,uo,Qh,n,Rn,or,es,ea,f,0,-0,0)}}break}while(!0);$n(t)}function ap(t,n,a,l,c,f,y,E,R,P,G,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:bE},Jg(n),Y=wE(),Y!==null)){t.cancelPendingCommit=Y(hp.bind(null,t,n,f,a,l,c,y,E,R,G,1,B,k)),ra(t,f,y,!P);return}hp(t,n,f,a,l,c,y,E,R)}function H0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ra(t,n,a,l){n&=~Gh,n&=~or,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&zn(t,a,n)}function oo(){return(Ht&6)===0?(bl(0),!1):!0}function Zh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,Si=ir=null,dh(t),Zr=null,ml=0,t=Ct;for(;t!==null;)zg(t.alternate,t),t=t.return;Ct=null}}function as(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zh(),Jt=t,Ct=a=Ei(t.current,null),Mt=n,Gt=0,cn=null,ea=!1,ts=Ua(t,n),Hh=!1,es=Rn=Gh=or=na=le=0,tn=Al=null,Qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Ou(),a}function rp(t,n){St=null,H.H=Zu,n===rl||n===ku?(n=Am(),Gt=3):n===vm?(n=Am(),Gt=4):Gt=n===Sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ct===null&&(le=1,eo(t,En(n,t.current)))}function sp(){var t=H.H;return H.H=Zu,t===null?Zu:t}function lp(){var t=H.A;return H.A=q0,t}function Jh(){le=4,ea||(Mt&4194048)!==Mt&&bn.current!==null||(ts=!0),(na&134217727)===0&&(or&134217727)===0||Jt===null||ra(Jt,Mt,Rn,!1)}function $h(t,n,a){var l=Ht;Ht|=2;var c=sp(),f=lp();(Jt!==t||Mt!==n)&&(uo=null,as(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,R=cn;switch(Gt){case 8:Zh(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Gt;if(Gt=0,cn=null,rs(t,E,R,P),a&&ts){y=0;break t}break;default:P=Gt,Gt=0,cn=null,rs(t,E,R,P)}}G0(),y=le;break}catch(G){rp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Si=ir=null,Ht=l,H.H=c,H.A=f,Ct===null&&(Jt=null,Mt=0,Ou()),y}function G0(){for(;Ct!==null;)up(Ct)}function Q0(t,n){var a=Ht;Ht|=2;var l=sp(),c=lp();Jt!==t||Mt!==n?(uo=null,lo=mn()+500,as(t,n)):ts=Ua(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,rs(t,n,f,1);break;case 2:case 9:if(Em(f)){Gt=0,cn=null,op(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),$n(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Em(f)?(Gt=0,cn=null,op(n)):(Gt=0,cn=null,rs(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||Gp(y)){Gt=0,cn=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,co(P)):Ct=null}break e}}Gt=0,cn=null,rs(t,n,f,5);break;case 6:Gt=0,cn=null,rs(t,n,f,6);break;case 8:Zh(),le=6;break t;default:throw Error(r(462))}}F0();break}catch(G){rp(t,G)}while(!0);return Si=ir=null,H.H=l,H.A=c,Ht=a,Ct!==null?0:(Jt=null,Mt=0,Ou(),le)}function F0(){for(;Ct!==null&&!Cs();)up(Ct)}function up(t){var n=Ug(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?co(t):Ct=n}function op(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Vg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Vg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:dh(n);default:zg(a,n),n=Ct=cm(n,Oi),n=Ug(a,n,Oi)}t.memoizedProps=t.pendingProps,n===null?co(t):Ct=n}function rs(t,n,a,l){Si=ir=null,dh(n),Zr=null,ml=0;var c=n.return;try{if(U0(t,c,n,a,Mt)){le=1,eo(t,En(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,eo(t,En(a,t.current)),Ct=null;return}n.flags&32768?(Pt||l===1?t=!0:ts||(Mt&536870912)!==0?t=!1:(ea=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cp(n,t)):co(n)}function co(t){var n=t;do{if((n.flags&32768)!==0){cp(n,ea);return}t=n.return;var a=z0(n.alternate,n,Oi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);le===0&&(le=5)}function cp(t,n){do{var a=P0(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);le=6,Ct=null}function hp(t,n,a,l,c,f,y,E,R){t.cancelPendingCommit=null;do ho();while(ze!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=jc,xs(t,a,f,y,E,R),t===Jt&&(Ct=Jt=null,Mt=0),ns=n,aa=t,is=a,Yh=f,Xh=c,ep=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Z0(Oa,function(){return pp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{B0(t,n,a)}finally{Ht=y,et.p=c,H.T=l}}ze=1,fp(),dp(),mp()}}function fp(){if(ze===1){ze=0;var t=aa,n=ns,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Xg(n,t);var f=hf,y=tm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Wd(E.ownerDocument.documentElement,E)){if(R!==null&&zc(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),yt=E.textContent.length,mt=Math.min(R.start,yt),Xt=R.end===void 0?mt:Math.min(R.end,yt);!k.extend&&mt>Xt&&(y=Xt,Xt=mt,mt=y);var x=$d(E,mt),V=$d(E,Xt);if(x&&V&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var z=Y.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),mt>Xt?(k.addRange(z),k.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}bo=!!cf,hf=cf=null}finally{Ht=c,et.p=l,H.T=a}}t.current=n,ze=2}}function dp(){if(ze===2){ze=0;var t=aa,n=ns,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Gg(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=a}}ze=3}}function mp(){if(ze===4||ze===3){ze=0,su();var t=aa,n=ns,a=is,l=ep;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ns=aa=null,gp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ia=null),Ar(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(is&3)!==0&&ho(),$n(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Kh?Sl++:(Sl=0,Kh=t):Sl=0,bl(0)}}function gp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function ho(t){return fp(),dp(),mp(),pp()}function pp(){if(ze!==5)return!1;var t=aa,n=Yh;Yh=0;var a=Ar(is),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Xh,Xh=null;var f=aa,y=is;if(ze=0,ns=aa=null,is=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,Wg(f.current),Zg(f,f.current,y,a),Ht=E,bl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,H.T=l,gp(t,n)}}function yp(t,n,a){n=En(a,n),n=Dh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(oi(t,2),$n(t))}function Kt(t,n,a){if(t.tag===3)yp(t,t,a);else for(;n!==null;){if(n.tag===3){yp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ia===null||!ia.has(l))){t=En(a,t),a=Tg(2),l=Xi(n,a,2),l!==null&&(Ag(a,l,n,t),oi(l,2),$n(l));break}}n=n.return}}function Wh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new j0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Hh=!0,c.add(a),t=Y0.bind(null,t,n,a),n.then(t,t))}function Y0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Mt&a)===a&&(le===4||le===3&&(Mt&62914560)===Mt&&300>mn()-Fh?(Ht&2)===0&&as(t,0):Gh|=a,es===Mt&&(es=0)),$n(t)}function _p(t,n){n===0&&(n=Ms()),t=kr(t,n),t!==null&&(oi(t,n),$n(t))}function X0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),_p(t,a)}function K0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),_p(t,a)}function Z0(t,n){return Va(t,n)}var fo=null,ss=null,tf=!1,mo=!1,ef=!1,cr=0;function $n(t){t!==ss&&t.next===null&&(ss===null?fo=ss=t:ss=ss.next=t),mo=!0,tf||(tf=!0,$0())}function bl(t,n){if(!ef&&mo){ef=!0;do for(var a=!1,l=fo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ap(l,f))}else f=Mt,f=Tr(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ua(l,f)||(a=!0,Ap(l,f));l=l.next}while(a);ef=!1}}function J0(){vp()}function vp(){mo=tf=!1;var t=0;cr!==0&&(sE()&&(t=cr),cr=0);for(var n=mn(),a=null,l=fo;l!==null;){var c=l.next,f=Ep(l,n);f===0?(l.next=null,a===null?fo=c:a.next=c,c===null&&(ss=a)):(a=l,(t!==0||(f&3)!==0)&&(mo=!0)),l=c}bl(t)}function Ep(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,R=c[y];R===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Os(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=Mt,a=Tr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ia(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ua(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ia(l),Ar(a)){case 2:case 8:a=vr;break;case 32:a=Oa;break;case 268435456:a=Er;break;default:a=Oa}return l=Tp.bind(null,t),a=Va(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ia(l),t.callbackPriority=2,t.callbackNode=null,2}function Tp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ho()&&t.callbackNode!==a)return null;var l=Mt;return l=Tr(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ip(t,l,n),Ep(t,mn()),t.callbackNode!=null&&t.callbackNode===a?Tp.bind(null,t):null)}function Ap(t,n){if(ho())return null;ip(t,n,!0)}function $0(){uE(function(){(Ht&6)!==0?Va(Vs,J0):vp()})}function nf(){return cr===0&&(cr=Ns()),cr}function Sp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function bp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function W0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Sp((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?Sp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Vr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cr!==0){var R=y?bp(c,y):new FormData(c);Ah(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?bp(c,y):new FormData(c),Ah(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var af=0;af<qc.length;af++){var rf=qc[af],tE=rf.toLowerCase(),eE=rf[0].toUpperCase()+rf.slice(1);Mn(tE,"on"+eE)}Mn(im,"onAnimationEnd"),Mn(am,"onAnimationIteration"),Mn(rm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(_0,"onTransitionRun"),Mn(v0,"onTransitionStart"),Mn(E0,"onTransitionCancel"),Mn(sm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Rp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){to(G)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){to(G)}c.currentTarget=null,f=R}}}}function Vt(t,n){var a=n[Ls];a===void 0&&(a=n[Ls]=new Set);var l=t+"__bubble";a.has(l)||(wp(n,t,2,!1),a.add(l))}function sf(t,n,a){var l=0;n&&(l|=4),wp(a,t,l,n)}var go="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[go]){t[go]=!0,zs.forEach(function(a){a!=="selectionchange"&&(nE.has(a)||sf(a,!1,t),sf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[go]||(n[go]=!0,sf("selectionchange",!1,n))}}function wp(t,n,a,l){switch(Zp(n)){case 2:var c=VE;break;case 8:c=IE;break;default:c=Tf}a=c.bind(null,n,a,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}pu(function(){var P=f,G=yn(a),Y=[];t:{var B=lm.get(t);if(B!==void 0){var k=Vr,yt=t;switch(t){case"keypress":if(Hn(a)===0)break t;case"keydown":case"keyup":k=Ur;break;case"focusin":yt="focus",k=Nr;break;case"focusout":yt="blur",k=Nr;break;case"beforeblur":case"afterblur":k=Nr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=bu;break;case im:case am:case rm:k=Mr;break;case sm:k=wu;break;case"scroll":case"scrollend":k=yu;break;case"wheel":k=Lr;break;case"copy":case"cut":case"paste":k=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ks;break;case"toggle":case"beforetoggle":k=Cu}var mt=(n&4)!==0,Xt=!mt&&(t==="scroll"||t==="scrollend"),x=mt?B!==null?B+"Capture":null:B;mt=[];for(var V=P,z;V!==null;){var Q=V;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||x===null||(Q=Ha(V,x),Q!=null&&mt.push(wl(V,Q,z))),Xt)break;V=V.return}0<mt.length&&(B=new k(B,yt,null,a,G),Y.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==mi&&(yt=a.relatedTarget||a.fromElement)&&(ci(yt)||yt[gn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(yt=a.relatedTarget||a.toElement,k=P,yt=yt?ci(yt):null,yt!==null&&(Xt=h(yt),mt=yt.tag,yt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(k=null,yt=P),k!==yt)){if(mt=vn,Q="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Ks,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Xt=k==null?B:Bn(k),z=yt==null?B:Bn(yt),B=new mt(Q,V+"leave",k,a,G),B.target=Xt,B.relatedTarget=z,Q=null,ci(G)===P&&(mt=new mt(x,V+"enter",yt,a,G),mt.target=z,mt.relatedTarget=Xt,Q=mt),Xt=Q,k&&yt)e:{for(mt=k,x=yt,V=0,z=mt;z;z=ls(z))V++;for(z=0,Q=x;Q;Q=ls(Q))z++;for(;0<V-z;)mt=ls(mt),V--;for(;0<z-V;)x=ls(x),z--;for(;V--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=ls(mt),x=ls(x)}mt=null}else mt=null;k!==null&&Dp(Y,B,k,mt,!1),yt!==null&&Xt!==null&&Dp(Y,Xt,yt,mt,!0)}}t:{if(B=P?Bn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=Fd;else if(Te(B))if(Yd)at=g0;else{at=d0;var wt=f0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&js(P.elementType)&&(at=Fd):at=m0;if(at&&(at=at(t,P))){vi(Y,at,a,G);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Hi(B,"number",B.value)}switch(wt=P?Bn(P):window,t){case"focusin":(Te(wt)||wt.contentEditable==="true")&&(zr=wt,Pc=P,$s=null);break;case"focusout":$s=Pc=zr=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,em(Y,a,G);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":em(Y,a,G)}var lt;if(Fn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ot?q(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(p&&a.locale!=="ko"&&(Ot||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ot&&(lt=Gs()):(jn=G,Gi="value"in jn?jn.value:jn.textContent,Ot=!0)),wt=po(P,gt),0<wt.length&&(gt=new Ys(gt,t,null,a,G),Y.push({event:gt,listeners:wt}),lt?gt.data=lt:(lt=tt(a),lt!==null&&(gt.data=lt)))),(lt=m?Ee(t,a):Nt(t,a))&&(gt=po(P,"onBeforeInput"),0<gt.length&&(wt=new Ys("onBeforeInput","beforeinput",null,a,G),Y.push({event:wt,listeners:gt}),wt.data=lt)),W0(Y,t,P,a,G)}Rp(Y,n)})}function wl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function po(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ha(t,a),c!=null&&l.unshift(wl(t,c,f)),c=Ha(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Ha(a,f),P!=null&&y.unshift(wl(a,P,R))):c||(P=Ha(a,f),P!=null&&y.push(wl(a,P,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var iE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(iE,`
`).replace(aE,"")}function Vp(t,n){return n=Cp(n),Cp(t)===n}function yo(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=yo);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Cr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,ji(t,a,l))}}function of(t,n,a,l,c,f){switch(a){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[de]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ji(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,f,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Yt(t,n,l,G,a,null)}}ka(t,f,E,R,P,y,c,!1),Dr(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):a!=null&&di(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(t,n,y,E,a,null)}qa(t,l,c,f),Dr(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Vt(Rl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,P,l,a,null)}return;default:if(js(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&of(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function rE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,P=null,G=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==Y&&Yt(t,n,B,k,l,Y)}}rn(t,y,E,R,P,G,f,c);return;case"select":k=y=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,a=y,l=k,B!=null?di(t,!!a,B,!1):!!l!=!!a&&(n!=null?di(t,!!a,n,!0):di(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var yt in a)if(B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Yt(t,n,yt,null,l,B)}for(R in l)if(B=l[R],k=a[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Yt(t,n,mt,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(js(n)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&of(t,n,Xt,void 0,l,B);for(G in l)B=l[G],k=a[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||of(t,n,G,B,l,k);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(Y in l)B=l[Y],k=a[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Yt(t,n,Y,B,l,k)}var cf=null,hf=null;function _o(t){return t.nodeType===9?t:t.ownerDocument}function Ip(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function sE(){var t=window.event;return t&&t.type==="popstate"?t===df?!1:(df=t,!0):(df=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(oE)}:Np;function oE(t){setTimeout(function(){throw t})}function sa(t){return t==="head"}function xp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Dl(y.documentElement),a&2&&Dl(y.body),a&4)for(a=y.head,Dl(a),y=a.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[La]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ul(n)}function mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[La])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function hE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var pf=null;function Up(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Lp(t,n,a){switch(n=_o(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var wn=new Map,zp=new Set;function vo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=et.d;et.d={f:dE,r:mE,D:gE,C:pE,L:yE,m:_E,X:EE,S:vE,M:TE};function dE(){var t=Ni.f(),n=oo();return t||n}function mE(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?ig(n):Ni.r(t)}var us=typeof document>"u"?null:document;function Pp(t,n,a){var l=us;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),zp.has(c)||(zp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function gE(t){Ni.D(t),Pp("dns-prefetch",t,null)}function pE(t,n){Ni.C(t,n),Pp("preconnect",t,n)}function yE(t,n,a){Ni.L(t,n,a);var l=us;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+me(a.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=os(t);break;case"script":f=cs(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function _E(t,n){Ni.m(t,n);var a=us;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(f)))return}l=a.createElement("link"),Pe(l,"link",t),ue(l),a.head.appendChild(l)}}}function vE(t,n,a){Ni.S(t,n,a);var l=us;if(l&&t){var c=Xe(l).hoistableStyles,f=os(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&yf(t,a);var R=y=l.createElement("link");ue(R),Pe(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Eo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function EE(t,n){Ni.X(t,n);var a=us;if(a&&t){var l=Xe(a).hoistableScripts,c=cs(t),f=l.get(c);f||(f=a.querySelector(Vl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&_f(t,n),f=a.createElement("script"),ue(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function TE(t,n){Ni.M(t,n);var a=us;if(a&&t){var l=Xe(a).hoistableScripts,c=cs(t),f=l.get(c);f||(f=a.querySelector(Vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&_f(t,n),f=a.createElement("script"),ue(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Bp(t,n,a,l){var c=(c=_t.current)?vo(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=os(a.href),a=Xe(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=os(a.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||AE(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(a),a=Xe(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function os(t){return'href="'+me(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function kp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function AE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),ue(n),t.head.appendChild(n))}function cs(t){return'[src="'+me(t)+'"]'}function Vl(t){return"script[async]"+t}function qp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),Eo(l,a.precedence,t),n.instance=l;case"stylesheet":c=os(a.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=kp(a),(c=wn.get(c))&&yf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Eo(f,a.precedence,t),n.instance=f;case"script":return f=cs(a.src),(c=t.querySelector(Vl(f)))?(n.instance=c,ue(c),c):(l=a,(c=wn.get(f))&&(l=A({},a),_f(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Eo(l,a.precedence,t));return n.instance}function Eo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var To=null;function jp(t,n,a){if(To===null){var l=new Map,c=To=new Map;c.set(a,l)}else c=To,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[La]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Hp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function SE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function bE(){}function RE(t,n,a){if(Il===null)throw Error(r(475));var l=Il;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=os(a.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ao.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,a=kp(a),(c=wn.get(c))&&yf(a,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ao.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function wE(){if(Il===null)throw Error(r(475));var t=Il;return t.stylesheets&&t.count===0&&vf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&vf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ao(){if(this.count--,this.count===0){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var So=null;function vf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,So=new Map,n.forEach(DE,t),So=null,Ao.call(t))}function DE(t,n){if(!(n.state.loading&4)){var a=So.get(t);if(a)var l=a.get(null);else{a=new Map,So.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=Ao.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function CE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Qp(t,n,a,l,c,f,y,E,R,P,G,Y){return t=new CE(t,n,a,y,E,R,P,Y),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Wc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ih(f),t}function Fp(t){return t?(t=qr,t):qr}function Yp(t,n,a,l,c,f){c=Fp(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Xi(t,l,n),a!==null&&(fn(a,t,n),ll(a,t,n))}function Xp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ef(t,n){Xp(t,n),(t=t.alternate)&&Xp(t,n)}function Kp(t){if(t.tag===13){var n=kr(t,67108864);n!==null&&fn(n,t,67108864),Ef(t,67108864)}}var bo=!0;function VE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Tf(t,n,a,l)}finally{et.p=f,H.T=c}}function IE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Tf(t,n,a,l)}finally{et.p=f,H.T=c}}function Tf(t,n,a,l){if(bo){var c=Af(l);if(c===null)uf(t,n,l,Ro,a),Jp(t,l);else if(NE(c,t,n,a,l))l.stopPropagation();else if(Jp(t,l),n&4&&-1<OE.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-je(y);E.entanglements[1]|=R,y&=~R}$n(f),(Ht&6)===0&&(lo=mn()+500,bl(0))}}break;case 13:E=kr(f,2),E!==null&&fn(E,f,2),oo(),Ef(f,2)}if(f=Af(l),f===null&&uf(t,n,l,Ro,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function Af(t){return t=yn(t),Sf(t)}var Ro=null;function Sf(t){if(Ro=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ro=t,null}function Zp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case Vs:return 2;case vr:return 8;case Oa:case wc:return 32;case Er:return 268435456;default:return 32}default:return 32}}var bf=!1,la=null,ua=null,oa=null,Nl=new Map,Ml=new Map,ca=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(t,n){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function xl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&Kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NE(t,n,a,l,c){switch(n){case"focusin":return la=xl(la,t,n,a,l,c),!0;case"dragenter":return ua=xl(ua,t,n,a,l,c),!0;case"mouseover":return oa=xl(oa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Nl.set(f,xl(Nl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,xl(Ml.get(f)||null,t,n,a,l,c)),!0}return!1}function $p(t){var n=ci(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ou(t.priority,function(){if(a.tag===13){var l=hn();l=Pi(l);var c=kr(a,l);c!==null&&fn(c,a,l),Ef(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Af(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);mi=l,a.target.dispatchEvent(l),mi=null}else return n=Pn(a),n!==null&&Kp(n),t.blockedOn=a,!1;n.shift()}return!0}function Wp(t,n,a){wo(t)&&a.delete(n)}function ME(){bf=!1,la!==null&&wo(la)&&(la=null),ua!==null&&wo(ua)&&(ua=null),oa!==null&&wo(oa)&&(oa=null),Nl.forEach(Wp),Ml.forEach(Wp)}function Do(t,n){t.blockedOn===n&&(t.blockedOn=null,bf||(bf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ME)))}var Co=null;function ty(t){Co!==t&&(Co=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Co===t&&(Co=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Sf(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(n,3),n-=3,Ah(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ul(t){function n(R){return Do(R,t)}la!==null&&Do(la,t),ua!==null&&Do(ua,t),oa!==null&&Do(oa,t),Nl.forEach(n),Ml.forEach(n);for(var a=0;a<ca.length;a++){var l=ca[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ca.length&&(a=ca[0],a.blockedOn===null);)$p(a),a.blockedOn===null&&ca.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[de]||null;if(typeof f=="function")y||ty(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(Sf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ty(a)}}}function Rf(t){this._internalRoot=t}Vo.prototype.render=Rf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=hn();Yp(a,l,t,n,null,null)},Vo.prototype.unmount=Rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Yp(t.current,2,null,t,null,null),oo(),n[gn]=null}};function Vo(t){this._internalRoot=t}Vo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ca.length&&n!==0&&n<ca[a].priority;a++);ca.splice(a,0,t),a===0&&$p(t)}};var ey=e.version;if(ey!=="19.1.0")throw Error(r(527,ey,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var xE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{re=Io.inject(xE),jt=Io}catch{}}return zl.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=yg,f=_g,y=vg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Qp(t,1,!1,null,null,a,l,c,f,y,E,null),t[gn]=n.current,lf(t),new Rf(n)},zl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=yg,y=_g,E=vg,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=Qp(t,1,!0,n,a??null,l,c,f,y,E,R,P),n.context=Fp(null),a=n.current,l=hn(),l=Pi(l),c=Yi(l),c.callback=null,Xi(a,c,l),a=l,n.current.lanes=a,oi(n,a),$n(n),t[gn]=n.current,lf(t),new Vo(n)},zl.version="19.1.0",zl}var hy;function GE(){if(hy)return Cf.exports;hy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cf.exports=HE(),Cf.exports}var QE=GE();const FE=()=>{};var fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},YE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let I=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(I=64)),r.push(i[A],i[D],i[I],i[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(S_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):YE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const D=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||_==null||D==null)throw new XE;const I=h<<2|g>>4;if(r.push(I),_!==64){const j=g<<4&240|_>>2;if(r.push(j),D!==64){const $=_<<6&192|D;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(s){const e=S_(s);return b_.encodeByteArray(e,!0)},Go=function(s){return KE(s).replace(/\./g,"")},ZE=function(s){try{return b_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=()=>JE().__FIREBASE_DEFAULTS__,WE=()=>{if(typeof process>"u"||typeof fy>"u")return;const s=fy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ZE(s[1]);return e&&JSON.parse(e)},hd=()=>{try{return FE()||$E()||WE()||tT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eT=s=>{var e,i;return(i=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},nT=s=>{const e=eT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},R_=()=>{var s;return(s=hd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Go(JSON.stringify(i)),Go(JSON.stringify(d)),""].join(".")}const jl={};function sT(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function lT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let dy=!1;function uT(s,e){if(typeof window>"u"||typeof document>"u"||!fd(window.location.host)||jl[s]===e||jl[s]||dy)return;jl[s]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",h=sT().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{dy=!0,d()},I}function A(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function D(){const I=lT(r),j=i("text"),$=document.getElementById(j)||document.createElement("span"),J=i("learnmore"),F=document.getElementById(J)||document.createElement("a"),ft=i("preprendIcon"),ut=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const rt=I.element;g(rt),A(F,J);const Tt=_();v(ut,ft),rt.append(ut,$,F,Tt),document.body.appendChild(rt)}h?($.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cT(){var s;const e=(s=hd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hT(){return!cT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="FirebaseError";class Ss extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=mT,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w_.prototype.create)}}class w_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?gT(h,r):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ss(u,g,r)}}function gT(s,e){return s.replace(pT,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const pT=/\{\$([^}]+)}/g;function Qo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(my(h)&&my(d)){if(!Qo(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function my(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new iT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e?.identifier),u=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vT(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(s){return s===fr?void 0:s}function vT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const TT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},AT=Ut.INFO,ST={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},bT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=ST[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D_{constructor(e){this.name=e,this._logLevel=AT,this._logHandler=bT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const RT=(s,e)=>e.some(i=>s instanceof i);let gy,py;function wT(){return gy||(gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DT(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C_=new WeakMap,qf=new WeakMap,V_=new WeakMap,Nf=new WeakMap,dd=new WeakMap;function CT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(da(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&C_.set(i,s)}).catch(()=>{}),dd.set(e,s),e}function VT(s){if(qf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});qf.set(s,e)}let jf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return qf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||V_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return da(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function IT(s){jf=s(jf)}function OT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Mf(this),e,...i);return V_.set(r,e.sort?e.sort():[e]),da(r)}:DT().includes(s)?function(...e){return s.apply(Mf(this),e),da(C_.get(this))}:function(...e){return da(s.apply(Mf(this),e))}}function NT(s){return typeof s=="function"?OT(s):(s instanceof IDBTransaction&&VT(s),RT(s,wT())?new Proxy(s,jf):s)}function da(s){if(s instanceof IDBRequest)return CT(s);if(Nf.has(s))return Nf.get(s);const e=NT(s);return e!==s&&(Nf.set(s,e),dd.set(e,s)),e}const Mf=s=>dd.get(s);function MT(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=da(d);return r&&d.addEventListener("upgradeneeded",v=>{r(da(d.result),v.oldVersion,v.newVersion,da(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const xT=["get","getKey","getAll","getAllKeys","count"],UT=["put","add","delete","clear"],xf=new Map;function yy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=UT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||xT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return xf.set(e,h),h}IT(s=>({...s,get:(e,i,r)=>yy(e,i)||s.get(e,i,r),has:(e,i)=>!!yy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function zT(s){const e=s.getComponent();return e?.type==="VERSION"}const Hf="@firebase/app",_y="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new D_("@firebase/app"),PT="@firebase/app-compat",BT="@firebase/analytics-compat",kT="@firebase/analytics",qT="@firebase/app-check-compat",jT="@firebase/app-check",HT="@firebase/auth",GT="@firebase/auth-compat",QT="@firebase/database",FT="@firebase/data-connect",YT="@firebase/database-compat",XT="@firebase/functions",KT="@firebase/functions-compat",ZT="@firebase/installations",JT="@firebase/installations-compat",$T="@firebase/messaging",WT="@firebase/messaging-compat",t1="@firebase/performance",e1="@firebase/performance-compat",n1="@firebase/remote-config",i1="@firebase/remote-config-compat",a1="@firebase/storage",r1="@firebase/storage-compat",s1="@firebase/firestore",l1="@firebase/ai",u1="@firebase/firestore-compat",o1="firebase",c1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",h1={[Hf]:"fire-core",[PT]:"fire-core-compat",[kT]:"fire-analytics",[BT]:"fire-analytics-compat",[jT]:"fire-app-check",[qT]:"fire-app-check-compat",[HT]:"fire-auth",[GT]:"fire-auth-compat",[QT]:"fire-rtdb",[FT]:"fire-data-connect",[YT]:"fire-rtdb-compat",[XT]:"fire-fn",[KT]:"fire-fn-compat",[ZT]:"fire-iid",[JT]:"fire-iid-compat",[$T]:"fire-fcm",[WT]:"fire-fcm-compat",[t1]:"fire-perf",[e1]:"fire-perf-compat",[n1]:"fire-rc",[i1]:"fire-rc-compat",[a1]:"fire-gcs",[r1]:"fire-gcs-compat",[s1]:"fire-fst",[u1]:"fire-fst-compat",[l1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Map,f1=new Map,Qf=new Map;function vy(s,e){try{s.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Yo(s){const e=s.name;if(Qf.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,s);for(const i of Fo.values())vy(i,s);for(const i of f1.values())vy(i,s);return!0}function d1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function m1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ma=new w_("app","Firebase",g1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=c1;function I_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gf,automaticDataCollectionEnabled:!0},e),u=r.name;if(typeof u!="string"||!u)throw ma.create("bad-app-name",{appName:String(u)});if(i||(i=R_()),!i)throw ma.create("no-options");const h=Fo.get(u);if(h){if(Qo(i,h.options)&&Qo(r,h.config))return h;throw ma.create("duplicate-app",{appName:u})}const d=new ET(u);for(const v of Qf.values())d.addComponent(v);const g=new p1(i,r,d);return Fo.set(u,g),g}function _1(s=Gf){const e=Fo.get(s);if(!e&&s===Gf&&R_())return I_();if(!e)throw ma.create("no-app",{appName:s});return e}function gs(s,e,i){var r;let u=(r=h1[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Yo(new Yl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",E1=1,Xl="firebase-heartbeat-store";let Uf=null;function O_(){return Uf||(Uf=MT(v1,E1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ma.create("idb-open",{originalErrorMessage:s.message})})),Uf}async function T1(s){try{const i=(await O_()).transaction(Xl),r=await i.objectStore(Xl).get(N_(s));return await i.done,r}catch(e){if(e instanceof Ss)xi.warn(e.message);else{const i=ma.create("idb-get",{originalErrorMessage:e?.message});xi.warn(i.message)}}}async function Ey(s,e){try{const r=(await O_()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,N_(s)),await r.done}catch(i){if(i instanceof Ss)xi.warn(i.message);else{const r=ma.create("idb-set",{originalErrorMessage:i?.message});xi.warn(r.message)}}}function N_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,S1=30;class b1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new w1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ty();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>S1){const d=D1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ty(),{heartbeatsToSend:r,unsentEntries:u}=R1(this._heartbeatsCache.heartbeats),h=Go(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function Ty(){return new Date().toISOString().substring(0,10)}function R1(s,e=A1){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Ay(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ay(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class w1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await T1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Ay(s){return Go(JSON.stringify({version:2,heartbeats:s})).length}function D1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s){Yo(new Yl("platform-logger",e=>new LT(e),"PRIVATE")),Yo(new Yl("heartbeat",e=>new b1(e),"PRIVATE")),gs(Hf,_y,s),gs(Hf,_y,"esm2017"),gs("fire-js","")}C1("");var V1="firebase",I1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(V1,I1,"app");var Sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ga,M_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function b(){}b.prototype=S.prototype,N.D=S.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(O,M,U){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,b){b||(b=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(M=0;16>M;++M)O[M]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=N.g[0],b=N.g[1],M=N.g[2];var U=N.g[3],w=S+(U^b&(M^U))+O[0]+3614090360&4294967295;S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+O[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+O[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+O[3]+3250441966&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(U^b&(M^U))+O[4]+4118548399&4294967295,S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+O[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+O[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+O[7]+4249261313&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(U^b&(M^U))+O[8]+1770035416&4294967295,S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+O[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+O[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+O[11]+2304563134&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(U^b&(M^U))+O[12]+1804603682&4294967295,S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+O[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+O[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+O[15]+1236535329&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(M^U&(b^M))+O[1]+4129170786&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+O[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+O[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+O[0]+3921069994&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(b^M))+O[5]+3593408605&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+O[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+O[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+O[4]+3889429448&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(b^M))+O[9]+568446438&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+O[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+O[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+O[8]+1163531501&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(b^M))+O[13]+2850285829&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+O[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+O[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+O[12]+2368359562&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(b^M^U)+O[5]+4294588738&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+O[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+O[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+O[14]+4259657740&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^U)+O[1]+2763975236&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+O[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+O[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+O[10]+3200236656&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^U)+O[13]+681279174&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+O[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+O[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+O[6]+76029189&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^U)+O[9]+3654602809&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+O[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+O[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+O[2]+3299628645&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(M^(b|~U))+O[0]+4096336452&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+O[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+O[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+O[5]+4237533241&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~U))+O[12]+1700485571&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+O[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+O[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+O[1]+2240044497&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~U))+O[8]+1873313359&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+O[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+O[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+O[13]+1309151649&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~U))+O[4]+4149444226&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+O[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+O[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var b=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=b;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){u(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){u(this,O),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var b=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=b&255,b/=256;for(this.u(N),N=Array(16),S=b=0;4>S;++S)for(var O=0;32>O;O+=8)N[b++]=this.g[S]>>>O&255;return N};function h(N,S){var b=g;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=S(N)}function d(N,S){this.h=S;for(var b=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(b[M]=U,O=!1)}this.g=b}var g={};function v(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return D;if(0>N)return F(_(-N));for(var S=[],b=1,O=0;N>=b;O++)S[O]=N/b|0,b*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return F(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(S,8)),O=D,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),w=parseInt(N.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),O=O.j(U).add(_(w))):(O=O.j(b),O=O.add(_(w)))}return O}var D=v(0),I=v(1),j=v(16777216);s=d.prototype,s.m=function(){if(J(this))return-F(this).m();for(var N=0,S=1,b=0;b<this.g.length;b++){var O=this.i(b);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(J(this))return"-"+F(this).toString(N);for(var S=_(Math.pow(N,6)),b=this,O="";;){var M=Tt(b,S).g;b=ft(b,M.j(S));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=M,$(b))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function J(N){return N.h==-1}s.l=function(N){return N=ft(this,N),J(N)?-1:$(N)?0:1};function F(N){for(var S=N.g.length,b=[],O=0;O<S;O++)b[O]=~N.g[O];return new d(b,~N.h).add(I)}s.abs=function(){return J(this)?F(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),b=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=w>>>16,U&=65535,w&=65535,b[M]=w<<16|U}return new d(b,b[b.length-1]&-2147483648?-1:0)};function ft(N,S){return N.add(F(S))}s.j=function(N){if($(this)||$(N))return D;if(J(this))return J(N)?F(this).j(F(N)):F(F(this).j(N));if(J(N))return F(this.j(F(N)));if(0>this.l(j)&&0>N.l(j))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,b=[],O=0;O<2*S;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,w=this.i(O)&65535,Me=N.i(M)>>>16,ae=N.i(M)&65535;b[2*O+2*M]+=w*ae,ut(b,2*O+2*M),b[2*O+2*M+1]+=U*ae,ut(b,2*O+2*M+1),b[2*O+2*M+1]+=w*Me,ut(b,2*O+2*M+1),b[2*O+2*M+2]+=U*Me,ut(b,2*O+2*M+2)}for(O=0;O<S;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=S;O<2*S;O++)b[O]=0;return new d(b,0)};function ut(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function rt(N,S){this.g=N,this.h=S}function Tt(N,S){if($(S))throw Error("division by zero");if($(N))return new rt(D,D);if(J(N))return S=Tt(F(N),S),new rt(F(S.g),F(S.h));if(J(S))return S=Tt(N,F(S)),new rt(F(S.g),S.h);if(30<N.g.length){if(J(N)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var b=I,O=S;0>=O.l(N);)b=dt(b),O=dt(O);var M=Dt(b,1),U=Dt(O,1);for(O=Dt(O,2),b=Dt(b,2);!$(O);){var w=U.add(O);0>=w.l(N)&&(M=M.add(b),U=w),O=Dt(O,1),b=Dt(b,1)}return S=ft(N,M.j(S)),new rt(M,S)}for(M=D;0<=N.l(S);){for(b=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=_(b),w=U.j(S);J(w)||0<w.l(N);)b-=O,U=_(b),w=U.j(S);$(U)&&(U=I),M=M.add(U),N=ft(N,w)}return new rt(M,N)}s.A=function(N){return Tt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),b=[],O=0;O<S;O++)b[O]=this.i(O)&N.i(O);return new d(b,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),b=[],O=0;O<S;O++)b[O]=this.i(O)|N.i(O);return new d(b,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),b=[],O=0;O<S;O++)b[O]=this.i(O)^N.i(O);return new d(b,this.h^N.h)};function dt(N){for(var S=N.g.length+1,b=[],O=0;O<S;O++)b[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(b,N.h)}function Dt(N,S){var b=S>>5;S%=32;for(var O=N.g.length-b,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+b)>>>S|N.i(U+b+1)<<32-S:N.i(U+b);return new d(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ga=d}).apply(typeof Sy<"u"?Sy:typeof self<"u"?self:typeof window<"u"?window:{});var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x_,Pl,U_,zo,Ff,L_,z_,P_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oo=="object"&&Oo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function D(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function I(o,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,I.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)tt[Ot-2]=arguments[Ot];return m.prototype[L].apply(T,tt)}}function J(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function F(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let tt=0;tt<q;tt++)o[L+tt]=T[tt]}else o.push(T)}}class ft{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(o){return/^[\s\xa0]*$/.test(o)}function rt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Tt(o){return Tt[" "](o),o}Tt[" "]=function(){};var dt=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function Dt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let q=0;q<b.length;q++)p=b[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function w(){var o=zt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=ae.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new ft(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,zt=new Me,C=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(Z)}};var Z=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){U(p)}var m=ae;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(dt){t:{try{Tt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,W);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function zi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function li(o){this.src=o,this.g={},this.h=0}li.prototype.add=function(o,m,p,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var tt=Va(o,m,T,L);return-1<tt?(m=o[tt],p||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,L),m.fa=p,o.push(m)),m};function Ca(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(zi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Va(o,m,p,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Ia="closure_lm_"+(1e6*Math.random()|0),Cs={};function su(o,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)su(o,m[q],p,T,L);return null}return p=lu(p),o&&o[we]?o.K(m,p,_(T)?!!T.capture:!1,L):mn(o,m,p,!1,T,L)}function mn(o,m,p,T,L,q){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,Ot=Er(o);if(Ot||(o[Ia]=Ot=new li(o)),p=Ot.add(m,p,T,tt,q),p.proxy)return p;if(T=Rc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ct||(L=tt),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Oa(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rc(){function o(p){return m.call(o.src,o.listener,p)}const m=wc;return o}function Vs(o,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Vs(o,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=lu(p),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Va(q,p,T,L),-1<p&&(zi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=Er(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Va(m,p,T,L)),(p=-1<o?m[o]:null)&&vr(p))}function vr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])Ca(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Oa(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Er(m))?(Ca(p,o),p.h==0&&(p.src=null,m[Ia]=null)):zi(o)}}}function Oa(o){return o in Cs?Cs[o]:Cs[o]="on"+o}function wc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&vr(o),o=p.call(T,m)}return o}function Er(o){return o=o[Ia],o instanceof li?o:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function lu(o){return typeof o=="function"?o:(o[Is]||(o[Is]=function(m){return o.handleEvent(m)}),o[Is])}function re(){nt.call(this),this.i=new li(this),this.M=this,this.F=null}$(re,nt),re.prototype[we]=!0,re.prototype.removeEventListener=function(o,m,p,T){Vs(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var L=m;m=new W(T,o),O(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];L=an(tt,T,!0,m)&&L}if(tt=m.g=o,L=an(tt,T,!0,m)&&L,L=an(tt,T,!1,m)&&L,p)for(q=0;q<p.length;q++)tt=m.g=p[q],L=an(tt,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)zi(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function an(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Ot=tt.listener,Ee=tt.ha||tt.src;tt.fa&&Ca(o.i,tt),L=Ot.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(o,m,p){if(typeof o=="function")p&&(o=I(o,p));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function uu(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,uu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Dc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(o){nt.call(this),this.h=o,this.g={}}$(Na,nt);var Ma=[];function xa(o){Dt(o.g,function(m,p){this.g.hasOwnProperty(p)&&vr(m)},o),o.g={}}Na.prototype.N=function(){Na.aa.N.call(this),xa(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,Tr=g.JSON.parse,Ua=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Os(){}Os.prototype.h=null;function Ns(o){return o.h||(o.h=o.i())}function Ms(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){W.call(this,"d")}$(oi,W);function xs(){W.call(this,"c")}$(xs,W);var zn={},Us=null;function Pi(){return Us=Us||new re}zn.La="serverreachability";function Ar(o){W.call(this,zn.La,o)}$(Ar,W);function Bi(o){const m=Pi();jt(m,new Ar(m))}zn.STAT_EVENT="statevent";function ou(o,m){W.call(this,zn.STAT_EVENT,o),this.stat=m}$(ou,W);function te(o){const m=Pi();jt(m,new ou(m,o))}zn.Ma="timingevent";function ve(o,m){W.call(this,zn.Ma,o),this.size=m}$(ve,W);function de(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Ls(o,m,p,T,L,q){o.info(function(){if(o.g)if(q)for(var tt="",Ot=q.split("&"),Ee=0;Ee<Ot.length;Ee++){var Nt=Ot[Ee].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var Te=Ce.split("_");tt=2<=Te.length&&Te[1]=="type"?tt+(Ce+"="+Nt+"&"):tt+(Ce+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Cc(o,m,p,T,L,q,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+tt})}function ki(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+La(o,p)+(T?" "+T:"")})}function cu(o,m){o.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function La(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return In(p)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Bn(){}$(Bn,Os),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Pn=new Bn;function Xe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var zs={},Sr={};function On(o,m,p){o.L=1,o.v=qa(rn(m)),o.m=p,o.P=!0,hi(o,null)}function hi(o,m){o.F=Date.now(),za(o),o.A=rn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Hs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new ue,o.g=wu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Dc(I(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ma[0]=L.toString()),L=Ma);for(var q=0;q<L.length;q++){var tt=su(p,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Bi(),Ls(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||Te!=4||m==7||(m==8||0>=vi?Bi(3):Bi(2)),ji(this);var p=this.g.Z();this.X=p;e:if(hu(this)){var T=_u(this.g);o="";var L=T.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),kn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Cc(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Ot)){var Nt=Ot;break e}}Nt=null}if(p=Nt)ki(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,p);else{this.o=!1,this.s=3,te(12),xe(this),kn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=fu(this,tt),Ue==Sr){Te==4&&(this.s=4,te(14),p=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==zs){this.s=4,te(15),ki(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else ki(this.i,this.l,Ue,null),Pa(this,Ue);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||tt.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)ki(this.i,this.l,tt,"[Invalid Chunked Response]"),xe(this),kn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Ka(Ce),Ce.M=!0,te(11))}}else ki(this.i,this.l,tt,null),Pa(this,tt);Te==4&&xe(this),this.o&&!this.J&&(Te==4?Su(this.j,this):(this.o=!1,za(this)))}else Mc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),xe(this),kn(this)}}}catch{}finally{}};function hu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function fu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Sr:(p=Number(m.substring(p,T)),isNaN(p)?zs:(T+=1,T+p>m.length?Sr:(m=m.slice(T,T+p),o.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function za(o){o.S=Date.now()+o.I,du(o,o.I)}function du(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=de(I(o.ba,o),m)}function ji(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(cu(this.i,this.A),this.L!=2&&(Bi(),te(17)),xe(this),this.s=2,kn(this)):du(this,this.S-o)};function kn(o){o.j.G==0||o.J||Su(o.j,o)}function xe(o){ji(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,xa(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Pa(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ps(p.h,o))){if(!o.K&&Ps(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ur(p),Mr(p);else break t;Xs(p),te(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(I(p.Za,p),6e3));if(1>=Rr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((o.K||p.g==o)&&Ur(p),!ut(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Te=Nt[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const vi=Nt[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=o.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var q=T.h;q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(wr(q,q.h),q.h=null))}if(T.D){const Zs=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Qt(T.I,T.D,Zs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=o;if(T.qa=Ru(T,T.J?T.ia:null,T.W),tt.K){Ke(T.h,tt);var Ot=tt,Ee=T.L;Ee&&(Ot.I=Ee),Ot.B&&(ji(Ot),za(Ot)),T.g=tt}else Tu(T);0<p.i.length&&xr(p)}else Nt[0]!="stop"&&Nt[0]!="close"||_i(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?_i(p,7):Fs(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}Bi(4)}catch{}}var mu=class{constructor(o,m){this.g=o,this.map=m}};function fi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Rr(o){return o.h?1:o.g?o.g.size:0}function Ps(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function wr(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Bs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return J(o.i)}function Vc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function Dr(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function ks(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=Dr(o),T=Vc(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],o)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var q=o[p].substring(0,T);L=o[p].substring(T+1)}else q=o[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function me(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof me){this.h=o.h,ka(this,o.j),this.o=o.o,this.g=o.g,Hi(this,o.s),this.l=o.l;var m=o.i,p=new mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),di(this,p),this.m=o.m}else o&&(m=String(o).match(Ba))?(this.h=!1,ka(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Hi(this,m[4]),this.l=pn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}me.prototype.toString=function(){var o=[],m=this.j;m&&o.push(ja(m,qs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(ja(m,qs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(ja(p,p.charAt(0)=="/"?Oc:js,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",ja(p,Cr)),o.join("")};function rn(o){return new me(o)}function ka(o,m,p){o.j=p?pn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Hi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function di(o,m,p){m instanceof mi?(o.i=m,pu(o.i,o.h)):(p||(m=ja(m,Nc)),o.i=new mi(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function qa(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function pn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ja(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,gu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function gu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qs=/[#\/\?@]/g,js=/[#\?:]/g,Oc=/[#\?]/g,Nc=/[#\?@]/g,Cr=/#/g;function mi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ic(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=mi.prototype,s.add=function(o,m){yn(this),this.i=null,o=qn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function gi(o,m){yn(o),m=qn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function pi(o,m){return yn(o),m=qn(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},s.V=function(o){yn(this);let m=[];if(typeof o=="string")pi(this,o)&&(m=m.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return yn(this),this.i=null,o=qn(this,o),pi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Hs(o,m,p){gi(o,m),0<p.length&&(o.i=null,o.g.set(qn(o,m),J(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),o.push(L)}}return this.i=o.join("&")};function qn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function pu(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(gi(this,T),Hs(this,L,p))},o)),o.j=m}function Ha(o,m){const p=new gn;if(g.Image){const T=new Image;T.onload=j(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Nn(o,m){const p=new gn,T=new AbortController,L=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ga(){this.g=new Ua}function jn(o,m,p){const T=p||"";try{ks(o,function(L,q){let tt=L;_(L)&&(tt=In(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Gi(o){this.l=o.Ub||null,this.j=o.eb||!1}$(Gi,Os),Gi.prototype.g=function(){return new yi(this.l,this.j)},Gi.prototype.i=function(o){return function(){return o}}({});function yi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(yi,re),s=yi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&Gs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},s.Qa=function(o){this.g&&(this.response=o,Hn(this))},s.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Qs(o){let m="";return Dt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function Bt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Bt,re);var Vr=/^https?$/i,Qa=["POST","PUT"];s=Bt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ns(this.o):Ns(Pn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){yu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Qa,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){yu(this,q)}};function yu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ir(o),Qn(o)}function Ir(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Or(this):this.bb())},s.bb=function(){Or(this)};function Or(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)je(o.Ea,0,o);else if(jt(o,"readystatechange"),vn(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(o.D).match(Ba)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Vr.test(L?L.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var q=2<vn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ir(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Fa(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Fa(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Tr(m)}};function _u(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(ut(o[T]))continue;var p=M(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Nr(o){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,o),this.cb=Ya("retryDelaySeedMs",1e4,o),this.Wa=Ya("forwardChannelMaxRetries",2,o),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(o&&o.concurrentRequestLimit),this.Da=new Ga,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Nr.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){te(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Ru(this,null,this.W),xr(this)};function Fs(o){if(vu(o),o.G==3){var m=o.U++,p=rn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Xa(o,p),m=new Xe(o,o.j,m),m.L=2,m.v=qa(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=wu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),za(m)}bu(o)}function Mr(o){o.g&&(Ka(o),o.g.cancel(),o.g=null)}function vu(o){Mr(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ur(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function xr(o){if(!br(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||C(),ot||(et(),ot=!0),zt.add(m,o),o.B=0}}function xc(o,m){return Rr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=de(I(o.Ga,o,m),Ks(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Xe(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Eu(this,L,m),p=rn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Xa(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Qs(q)))+"&"+m:this.m&&De(p,this.m,q)),wr(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,On(L,p,null)):On(L,p,m),this.G=2}}else this.G==3&&(o?Ys(this,o):this.i.length==0||br(this.h)||Ys(this))};function Ys(o,m){var p;m?p=m.l:p=o.U++;const T=rn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Xa(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new Xe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Eu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),wr(o.h,p),On(p,T,m)}function Xa(o,m){o.H&&Dt(o.H,function(p,T){Qt(m,T,p)}),o.l&&ks({},function(p,T){Qt(m,T,p)})}function Eu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?I(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Ot=!0;for(let Ee=0;Ee<p;Ee++){let Nt=L[Ee].g;const Ce=L[Ee].map;if(Nt-=q,0>Nt)q=Math.max(0,L[Ee].g-100),Ot=!1;else try{jn(Ce,tt,"req"+Nt+"_")}catch{T&&T(Ce)}}if(Ot){T=tt.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Tu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||C(),ot||(et(),ot=!0),zt.add(m,o),o.v=0}}function Xs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=de(I(o.Fa,o),Ks(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=de(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Mr(this),Au(this))};function Ka(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Au(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=rn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Xa(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=qa(rn(m)),p.m=null,p.P=!0,hi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Mr(this),Xs(this),te(19))};function Ur(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Su(o,m){var p=null;if(o.g==m){Ur(o),Ka(o),o.g=null;var T=2}else if(Ps(o.h,m))p=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Pi(),jt(T,new ve(T,p)),xr(o)}else Tu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&xc(o,m)||T==2&&Xs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:_i(o,5);break;case 4:_i(o,10);break;case 3:_i(o,6);break;default:_i(o,2)}}}function Ks(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function _i(o,m){if(o.j.info("Error code "+m),m==2){var p=I(o.fb,o),T=o.Xa;const L=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ka(T,"https"),qa(T),L?Ha(T.toString(),p):Nn(T.toString(),p)}else te(2);o.G=0,o.l&&o.l.sa(m),bu(o),vu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function bu(o){if(o.G=0,o.ka=[],o.l){const m=Bs(o.h);(m.length!=0||o.i.length!=0)&&(F(o.ka,m),F(o.ka,o.i),o.h.i.length=0,J(o.i),o.i.length=0),o.l.ra()}}function Ru(o,m,p){var T=p instanceof me?rn(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),Hi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new me(null);T&&ka(q,T),m&&(q.g=m),L&&Hi(q,L),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Xa(o,T),T}function wu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new Gi({eb:p})):new Bt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Lr(){}Lr.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){re.call(this),this.g=new Nr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ut(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}$(Ze,re),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Fs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=In(o),o=p);m.i.push(new mu(m.Ya++,o)),m.G==3&&xr(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Ze.aa.N.call(this)};function Cu(o){oi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Cu,oi);function Vu(){xs.call(this),this.status=1}$(Vu,xs);function Fn(o){this.g=o}$(Fn,Du),Fn.prototype.ua=function(){jt(this.g,"a")},Fn.prototype.ta=function(o){jt(this.g,new Cu(o))},Fn.prototype.sa=function(o){jt(this.g,new Vu)},Fn.prototype.ra=function(){jt(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,P_=function(){return new Lr},z_=function(){return Pi()},L_=zn,Ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,zo=qi,ci.COMPLETE="complete",U_=ci,Ms.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",re.prototype.listen=re.prototype.K,Pl=Ms,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,x_=Bt}).apply(typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore",Ry="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new D_("@firebase/firestore");function hs(){return gr.logLevel}function it(s,...e){if(gr.logLevel<=Ut.DEBUG){const i=e.map(md);gr.debug(`Firestore (${bs}): ${s}`,...i)}}function Ui(s,...e){if(gr.logLevel<=Ut.ERROR){const i=e.map(md);gr.error(`Firestore (${bs}): ${s}`,...i)}}function _a(s,...e){if(gr.logLevel<=Ut.WARN){const i=e.map(md);gr.warn(`Firestore (${bs}): ${s}`,...i)}}function md(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,B_(s,r,i)}function B_(s,e,i){let r=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ui(r),new Error(r)}function qt(s,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,s||B_(e,u,r)}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class N1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class M1{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new pa,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new pa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new k_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class x1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new x1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,m1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=z1(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function bt(s,e){return s<e?-1:s>e?1:0}function Yf(s,e){let i=0;for(;i<s.length&&i<e.length;){const r=s.codePointAt(i),u=e.codePointAt(i);if(r!==u){if(r<128&&u<128)return bt(r,u);{const h=q_(),d=P1(h.encode(Dy(s,i)),h.encode(Dy(e,i)));return d!==0?d:bt(r,u)}}i+=r>65535?2:1}return bt(s.length,e.length)}function Dy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function P1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function _s(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&pt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const r=ti.isNumericId(e),u=ti.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Yf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ga.fromString(e.substring(4,e.length-2))}}class $t extends ti{construct(e,i,r){return new $t(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const B1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ti{construct(e,i,r){return new ke(e,i,r)}static isValidIdentifier(e){return B1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new ke([Cy])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(r+=g,u++):(h(),u++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht($t.fromString(e))}static fromName(e){return new ht($t.fromString(e).popFirst(5))}static empty(){return new ht($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(s,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function k1(s,e,i,r){if(e===!0&&r===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Vy(s){if(!ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Iy(s){if(ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function H_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function pd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Cn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pd(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!H_(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const u=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(u&&typeof d!==u){i=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,Ny=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Ny);return new Wt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Oy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:_e("string",Wt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Wt(0,0))}static max(){return new vt(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function q1(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=vt.fromTimestamp(r===1e9?new Wt(i+1,0):new Wt(i,r));return new va(u,ht.empty(),e)}function j1(s){return new va(s.readTime,s.key,Kl)}class va{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new va(vt.min(),ht.empty(),Kl)}static max(){return new va(vt.max(),ht.empty(),Kl)}}function H1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==G1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,r)=>{i(e)})}static reject(e){return new X((i,r)=>{r(e)})}static waitFor(e){return new X((i,r)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>r(v))}),d=!0,h===u&&i()})}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next(u=>u?X.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new X((r,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&r(d)},A=>u(A))}})}static doWhile(e,i){return new X((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function F1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}sc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function lc(s){return s==null}function Xo(s){return s===0&&1/s==-1/0}function Y1(s){return typeof s=="number"&&Number.isInteger(s)&&!Xo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="";function X1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=My(e)),e=K1(s.get(i),e);return My(e)}function K1(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case G_:i+="";break;default:i+=h}}return i}function My(s){return s+G_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function wa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Q_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new Be(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new dn([])}unionWith(e){let i=new Re(ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new F_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=Z1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ta(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="server_timestamp",X_="__type__",K_="__previous_value__",Z_="__local_write_time__";function _d(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[X_])===null||i===void 0?void 0:i.stringValue)===Y_}function uc(s){const e=s.mapValue.fields[K_];return _d(e)?uc(e):e}function Zl(s){const e=Ea(s.mapValue.fields[Z_].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,i,r,u,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ko="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||Ko}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Ko}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__type__",$1="__max__",Mo={mapValue:{}},$_="__vector__",Zo="value";function Aa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_d(s)?4:tA(s)?9007199254740991:W1(s)?10:11:pt(28295,{value:s})}function ri(s,e){if(s===e)return!0;const i=Aa(s);if(i!==Aa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ea(u.timestampValue),g=Ea(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Ta(u.bytesValue).isEqual(Ta(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),g=he(h.doubleValue);return d===g?Xo(d)===Xo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return _s(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(xy(d)!==xy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ri(d[v],g[v])))return!1;return!0}(s,e);default:return pt(52216,{left:s})}}function $l(s,e){return(s.values||[]).find(i=>ri(i,e))!==void 0}function vs(s,e){if(s===e)return 0;const i=Aa(s),r=Aa(e);if(i!==r)return bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return Ly(s.timestampValue,e.timestampValue);case 4:return Ly(Zl(s),Zl(e));case 5:return Yf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Ta(h),v=Ta(d);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=bt(g[_],v[_]);if(A!==0)return A}return bt(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(he(h.latitude),he(d.latitude));return g!==0?g:bt(he(h.longitude),he(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return zy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const D=h.fields||{},I=d.fields||{},j=(g=D[Zo])===null||g===void 0?void 0:g.arrayValue,$=(v=I[Zo])===null||v===void 0?void 0:v.arrayValue,J=bt(((_=j?.values)===null||_===void 0?void 0:_.length)||0,((A=$?.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:zy(j,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Mo.mapValue&&d===Mo.mapValue)return 0;if(h===Mo.mapValue)return 1;if(d===Mo.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const I=Yf(v[D],A[D]);if(I!==0)return I;const j=vs(g[v[D]],_[A[D]]);if(j!==0)return j}return bt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw pt(23264,{le:i})}}function Ly(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=Ea(s),r=Ea(e),u=bt(i.seconds,r.seconds);return u!==0?u:bt(i.nanos,r.nanos)}function zy(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=vs(i[u],r[u]);if(h)return h}return bt(i.length,r.length)}function Es(s){return Xf(s)}function Xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=Ea(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ta(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Xf(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Xf(i.fields[d])}`;return u+"}"}(s.mapValue):pt(61005,{value:s})}function Po(s){switch(Aa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uc(s);return e?16+Po(e):16;case 5:return 2*s.stringValue.length;case 6:return Ta(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+Po(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return wa(r.fields,(h,d)=>{u+=h.length+Po(d)}),u}(s.mapValue);default:throw pt(13486,{value:s})}}function Kf(s){return!!s&&"integerValue"in s}function vd(s){return!!s&&"arrayValue"in s}function Py(s){return!!s&&"nullValue"in s}function By(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bo(s){return!!s&&"mapValue"in s}function W1(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[J_])===null||i===void 0?void 0:i.stringValue)===$_}function Hl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return wa(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Hl(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function tA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Bo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=ke.emptyPath(),r={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=g.popLast()}d?r[g.lastSegment()]=Hl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Bo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Bo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){wa(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new nn(Hl(this.value))}}function W_(s){const e=[];return wa(s.fields,(i,r)=>{const u=new ke([i]);if(Bo(r)){const h=W_(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,r,u,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,vt.min(),vt.min(),vt.min(),nn.empty(),0)}static newFoundDocument(e,i,r,u){return new Ye(e,1,i,vt.min(),r,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,vt.min(),vt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,vt.min(),vt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.position=e,this.inclusive=i}}function ky(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=vs(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function qy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i="asc"){this.field=e,this.dir=i}}function eA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{}class be extends tv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new iA(e,i,r):i==="array-contains"?new sA(e,r):i==="in"?new lA(e,r):i==="not-in"?new uA(e,r):i==="array-contains-any"?new oA(e,r):new be(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new aA(e,r):new rA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vs(i,this.value)):i!==null&&Aa(this.value)===Aa(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends tv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new si(e,i)}matches(e){return ev(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ev(s){return s.op==="and"}function nv(s){return nA(s)&&ev(s)}function nA(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function Zf(s){if(s instanceof be)return s.field.canonicalString()+s.op.toString()+Es(s.value);if(nv(s))return s.filters.map(e=>Zf(e)).join(",");{const e=s.filters.map(i=>Zf(i)).join(",");return`${s.op}(${e})`}}function iv(s,e){return s instanceof be?function(r,u){return u instanceof be&&r.op===u.op&&r.field.isEqual(u.field)&&ri(r.value,u.value)}(s,e):s instanceof si?function(r,u){return u instanceof si&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,g)=>h&&iv(d,u.filters[g]),!0):!1}(s,e):void pt(19439)}function av(s){return s instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`}(s):s instanceof si?function(i){return i.op.toString()+" {"+i.getFilters().map(av).join(" ,")+"}"}(s):"Filter"}class iA extends be{constructor(e,i,r){super(e,i,r),this.key=ht.fromName(r.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class aA extends be{constructor(e,i){super(e,"in",i),this.keys=rv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class rA extends be{constructor(e,i){super(e,"not-in",i),this.keys=rv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function rv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>ht.fromName(r.referenceValue))}class sA extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return vd(i)&&$l(i.arrayValue,this.value)}}class lA extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class uA extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class oA extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i=null,r=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function jy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new cA(s,e,i,r,u,h,d)}function Ed(s){const e=Et(s);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Zf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),lc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Es(r)).join(",")),e.Pe=i}return e.Pe}function Td(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!eA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!iv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qy(s.startAt,e.startAt)&&qy(s.endAt,e.endAt)}function Jf(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i=null,r=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function hA(s,e,i,r,u,h,d,g){return new oc(s,e,i,r,u,h,d,g)}function cc(s){return new oc(s)}function Hy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fA(s){return s.collectionGroup!==null}function Gl(s){const e=Et(s);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ke.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new $o(h,r))}),i.has(ke.keyField().canonicalString())||e.Te.push(new $o(ke.keyField(),r))}return e.Te}function ei(s){const e=Et(s);return e.Ie||(e.Ie=dA(e,Gl(s))),e.Ie}function dA(s,e){if(s.limitType==="F")return jy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new $o(u.field,h)});const i=s.endAt?new Jo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Jo(s.startAt.position,s.startAt.inclusive):null;return jy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function $f(s,e,i){return new oc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function hc(s,e){return Td(ei(s),ei(e))&&s.limitType===e.limitType}function sv(s){return`${Ed(ei(s))}|lt:${s.limitType}`}function fs(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>av(u)).join(", ")}]`),lc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>Es(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>Es(u)).join(",")),`Target(${r})`}(ei(s))}; limitType=${s.limitType})`}function fc(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ht.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of Gl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,g,v){const _=ky(d,g,v);return d.inclusive?_<=0:_<0}(r.startAt,Gl(r),u)||r.endAt&&!function(d,g,v){const _=ky(d,g,v);return d.inclusive?_>=0:_>0}(r.endAt,Gl(r),u))}(s,e)}function mA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function lv(s){return(e,i)=>{let r=!1;for(const u of Gl(s)){const h=gA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function gA(s,e,i){const r=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?vs(v,_):pt(42886)}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return Q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new ie(ht.comparator);function Li(){return pA}const uv=new ie(ht.comparator);function Bl(...s){let e=uv;for(const i of s)e=e.insert(i.key,i);return e}function ov(s){let e=uv;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function dr(){return Ql()}function cv(){return Ql()}function Ql(){return new yr(s=>s.toString(),(s,e)=>s.isEqual(e))}const yA=new ie(ht.comparator),_A=new Re(ht.comparator);function It(...s){let e=_A;for(const i of s)e=e.add(i);return e}const vA=new Re(bt);function EA(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xo(e)?"-0":e}}function hv(s){return{integerValue:""+s}}function TA(s,e){return Y1(e)?hv(e):Ad(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this._=void 0}}function AA(s,e,i){return s instanceof Wo?function(u,h){const d={fields:{[X_]:{stringValue:Y_},[Z_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&_d(h)&&(h=uc(h)),h&&(d.fields[K_]=h),{mapValue:d}}(i,e):s instanceof Wl?dv(s,e):s instanceof tu?mv(s,e):function(u,h){const d=fv(u,h),g=Gy(d)+Gy(u.Ee);return Kf(d)&&Kf(u.Ee)?hv(g):Ad(u.serializer,g)}(s,e)}function SA(s,e,i){return s instanceof Wl?dv(s,e):s instanceof tu?mv(s,e):i}function fv(s,e){return s instanceof tc?function(r){return Kf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Wo extends dc{}class Wl extends dc{constructor(e){super(),this.elements=e}}function dv(s,e){const i=gv(e);for(const r of s.elements)i.some(u=>ri(u,r))||i.push(r);return{arrayValue:{values:i}}}class tu extends dc{constructor(e){super(),this.elements=e}}function mv(s,e){let i=gv(e);for(const r of s.elements)i=i.filter(u=>!ri(u,r));return{arrayValue:{values:i}}}class tc extends dc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function Gy(s){return he(s.integerValue||s.doubleValue)}function gv(s){return vd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function bA(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof Wl&&u instanceof Wl||r instanceof tu&&u instanceof tu?_s(r.elements,u.elements,ri):r instanceof tc&&u instanceof tc?ri(r.Ee,u.Ee):r instanceof Wo&&u instanceof Wo}(s.transform,e.transform)}class RA{constructor(e,i){this.version=e,this.transformResults=i}}class Vn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ko(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class mc{}function pv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Sd(s.key,Vn.none()):new nu(s.key,s.data,Vn.none());{const i=s.data,r=nn.empty();let u=new Re(ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new Da(s.key,r,new dn(u.toArray()),Vn.none())}}function wA(s,e,i){s instanceof nu?function(u,h,d){const g=u.value.clone(),v=Fy(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Da?function(u,h,d){if(!ko(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Fy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(yv(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(s,e,i,r){return s instanceof nu?function(h,d,g,v){if(!ko(h.precondition,d))return g;const _=h.value.clone(),A=Yy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,r):s instanceof Da?function(h,d,g,v){if(!ko(h.precondition,d))return g;const _=Yy(h.fieldTransforms,v,d),A=d.data;return A.setAll(yv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(s,e,i,r):function(h,d,g){return ko(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function DA(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=fv(r.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(r.field,h))}return i||null}function Qy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&_s(r,u,(h,d)=>bA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends mc{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Da extends mc{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function yv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function Fy(s,e,i){const r=new Map;qt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);r.set(h.field,SA(d,g,i[u]))}return r}function Yy(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,AA(h,d,e))}return r}class Sd extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&wA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=cv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=pv(d,g);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,r)=>Qy(i,r))&&_s(this.baseMutations,e.baseMutations,(i,r)=>Qy(i,r))}}class bd{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){qt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let u=function(){return yA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new bd(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,xt;function NA(s){switch(s){case K.OK:return pt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function _v(s){if(s===void 0)return Ui("GRPC error has no .code"),K.UNKNOWN;switch(s){case ye.OK:return K.OK;case ye.CANCELLED:return K.CANCELLED;case ye.UNKNOWN:return K.UNKNOWN;case ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ye.INTERNAL:return K.INTERNAL;case ye.UNAVAILABLE:return K.UNAVAILABLE;case ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ye.NOT_FOUND:return K.NOT_FOUND;case ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ye.ABORTED:return K.ABORTED;case ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ye.DATA_LOSS:return K.DATA_LOSS;default:return pt(39323,{code:s})}}(xt=ye||(ye={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new ga([4294967295,4294967295],0);function Xy(s){const e=q_().encode(s),i=new M_;return i.update(e),new Uint8Array(i.digest())}function Ky(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ga([i,r],0),new ga([u,h],0)]}class Rd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=ga.fromNumber(this.fe)}pe(e,i,r){let u=e.add(i.multiply(ga.fromNumber(r)));return u.compare(MA)===1&&(u=new ga([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=Xy(e),[r,u]=Ky(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(r,u,h);if(!this.ye(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Rd(h,u,i);return r.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=Xy(e),[r,u]=Ky(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(r,u,h);this.we(d)}}we(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new gc(vt.min(),u,new ie(bt),Li(),It())}}class iu{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new iu(r,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i,r,u){this.Se=e,this.removedTargetIds=i,this.key=r,this.be=u}}class vv{constructor(e,i){this.targetId=e,this.De=i}}class Ev{constructor(e,i,r=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class Zy{constructor(){this.ve=0,this.Ce=Jy(),this.Fe=qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=It(),i=It(),r=It();return this.Ce.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:pt(38017,{changeType:h})}}),new iu(this.Fe,this.Me,e,i,r)}ke(){this.xe=!1,this.Ce=Jy()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class xA{constructor(e){this.We=e,this.Ge=new Map,this.ze=Li(),this.je=xo(),this.Je=xo(),this.He=new ie(bt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const r=this.tt(i);switch(e.state){case 0:this.nt(i)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),r.Be(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((r,u)=>{this.nt(u)&&i(u)})}it(e){const i=e.targetId,r=e.De.count,u=this.st(i);if(u){const h=u.target;if(Jf(h))if(r===0){const d=new ht(h.path);this.Xe(i,d,Ye.newNoDocument(d,vt.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this.ot(i);if(d!==r){const g=this._t(e),v=g?this.ut(g,e,d):1;if(v!==0){this.rt(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Ta(r).toUint8Array()}catch(v){if(v instanceof F_)return _a("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Rd(d,u,h)}catch(v){return _a(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.fe===0?null:g}ut(e,i,r){return i.De.count===r-this.ht(e,i.targetId)?0:2}ht(e,i){const r=this.We.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),u++)}),u}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&Jf(g.target)){const v=new ht(g.target.path);this.Tt(v).has(d)||this.It(d,v)||this.Xe(d,v,Ye.newNoDocument(v,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let r=It();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.st(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const u=new gc(e,i,this.He,this.ze,r);return this.ze=Li(),this.je=xo(),this.Je=xo(),this.He=new ie(bt),u}Ze(e,i){if(!this.nt(e))return;const r=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,r),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,r){if(!this.nt(e))return;const u=this.tt(e);this.It(e,i)?u.qe(i,1):u.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),r&&(this.ze=this.ze.insert(i,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new Zy,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Re(bt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Re(bt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Zy),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function xo(){return new ie(ht.comparator)}function Jy(){return new ie(ht.comparator)}const UA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zA={and:"AND",or:"OR"};class PA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Wf(s,e){return s.useProto3Json||lc(e)?e:{value:e}}function ec(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function BA(s,e){return ec(s,e.toTimestamp())}function ni(s){return qt(!!s,49232),vt.fromTimestamp(function(i){const r=Ea(i);return new Wt(r.seconds,r.nanos)}(s))}function wd(s,e){return td(s,e).canonicalString()}function td(s,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Av(s){const e=$t.fromString(s);return qt(Dv(e),10190,{key:e.toString()}),e}function ed(s,e){return wd(s.databaseId,e.path)}function Lf(s,e){const i=Av(e);if(i.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(bv(i))}function Sv(s,e){return wd(s.databaseId,e)}function kA(s){const e=Av(s);return e.length===4?$t.emptyPath():bv(e)}function nd(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function bv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function $y(s,e,i){return{name:ed(s,e),fields:i.value.mapValue.fields}}function qA(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?K.UNKNOWN:_v(_.code);return new st(A,_.message||"")}(d);i=new Ev(r,u,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Lf(s,r.document.name),h=ni(r.document.updateTime),d=r.document.createTime?ni(r.document.createTime):vt.min(),g=new nn({mapValue:{fields:r.document.fields}}),v=Ye.newFoundDocument(u,h,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new qo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Lf(s,r.document),h=r.readTime?ni(r.readTime):vt.min(),d=Ye.newNoDocument(u,h),g=r.removedTargetIds||[];i=new qo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Lf(s,r.document),h=r.removedTargetIds||[];i=new qo([],h,u,null)}else{if(!("filter"in e))return pt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new OA(u,h),g=r.targetId;i=new vv(g,d)}}return i}function jA(s,e){let i;if(e instanceof nu)i={update:$y(s,e.key,e.value)};else if(e instanceof Sd)i={delete:ed(s,e.key)};else if(e instanceof Da)i={update:$y(s,e.key,e.data),updateMask:JA(e.fieldMask)};else{if(!(e instanceof CA))return pt(16599,{Rt:e.type});i={verify:ed(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,d){const g=d.transform;if(g instanceof Wo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof tc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw pt(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:BA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,e.precondition)),i}function HA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(vt.min())&&(d=ni(h)),new RA(d,u.transformResults||[])}(i,e))):[]}function GA(s,e){return{documents:[Sv(s,e.path)]}}function QA(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Sv(s,u);const h=function(_){if(_.length!==0)return wv(si.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(I){return{field:ds(I.field),direction:XA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Wf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:i,parent:u}}function FA(s){let e=kA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){qt(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(D){const I=Rv(D);return I instanceof si&&nv(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(I=>function($){return new $o(ms($.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(I))}(i.orderBy));let g=null;i.limit&&(g=function(D){let I;return I=typeof D=="object"?D.value:D,lc(I)?null:I}(i.limit));let v=null;i.startAt&&(v=function(D){const I=!!D.before,j=D.values||[];return new Jo(j,I)}(i.startAt));let _=null;return i.endAt&&(_=function(D){const I=!D.before,j=D.values||[];return new Jo(j,I)}(i.endAt)),hA(e,u,d,h,g,"F",v,_)}function YA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Rv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ms(i.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=ms(i.unaryFilter.field);return be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ms(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ms(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return be.create(ms(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return si.create(i.compositeFilter.filters.map(r=>Rv(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function XA(s){return UA[s]}function KA(s){return LA[s]}function ZA(s){return zA[s]}function ds(s){return{fieldPath:s.canonicalString()}}function ms(s){return ke.fromServerFormat(s.fieldPath)}function wv(s){return s instanceof be?function(i){if(i.op==="=="){if(By(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NAN"}};if(Py(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(By(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NAN"}};if(Py(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(i.field),op:KA(i.op),value:i.value}}}(s):s instanceof si?function(i){const r=i.getFilters().map(u=>wv(u));return r.length===1?r[0]:{compositeFilter:{op:ZA(i.op),filters:r}}}(s):pt(54877,{filter:s})}function JA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Dv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i,r,u,h=vt.min(),d=vt.min(),g=qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.gt=e}}function WA(s){const e=FA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Dn=new eS}addToCollectionParentIndex(e,i){return this.Dn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(va.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(va.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class eS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Re($t.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Re($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Cv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ts(0)}static ur(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",nS=1048576;function e_([s,e],[i,r]){const u=bt(s,i);return u===0?bt(e,r):u}class iS{constructor(e){this.Tr=e,this.buffer=new Re(e_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();e_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){it(t_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?it(t_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Rr(3e5)})}}class rS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return X.resolve(sc.ue);const r=new iS(i);return this.Vr.forEachTarget(e,u=>r.Er(u.sequenceNumber)).next(()=>this.Vr.gr(e,u=>r.Er(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Wy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wy):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let r,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u))).next(D=>(r=D,g=Date.now(),this.removeTargets(e,r,i))).next(D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(_=Date.now(),hs()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D})))}}function sS(s,e){return new rS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.changes=new yr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&Fl(r.mutation,u,dn.empty(),Wt.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,It()).next(()=>r))}getLocalViewOfDocuments(e,i,r=It()){const u=dr();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Bl();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=dr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,It()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,r,u){let h=Li();const d=Ql(),g=function(){return Ql()}();return i.forEach((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Da)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):d.set(_.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var D;return g.set(_,new uS(A,(D=d.get(_))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(e,i){const r=Ql();let u=new ie((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||dn.empty();A=g.applyToLocalView(_,A),r.set(v,A);const D=(u.get(g.batchId)||It()).add(v);u=u.insert(g.batchId,D)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,D=cv();A.forEach(I=>{if(!h.has(I)){const j=pv(i.get(I),r.get(I));j!==null&&D.set(I,j),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return X.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):X.resolve(dr());let g=Kl,v=h;return d.next(_=>X.forEach(_,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{v=v.insert(A,I)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,It())).next(A=>({batchId:g,changes:ov(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(r=>{let u=Bl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,v=>{const _=function(D,I){return new oc(I,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next(A=>{A.forEach((D,I)=>{d=d.insert(D,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=Bl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,dn.empty(),Wt.now()),fc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return X.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(u){return{name:u.name,query:WA(u.bundledQuery),readTime:ni(u.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.overlays=new ie(ht.comparator),this.kr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=dr();return X.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.wt(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.kr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const u=dr(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new ie((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=dr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=dr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return X.resolve(g)}wt(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.kr.get(u.largestBatchId).delete(r.key);this.kr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new IA(i,r));let h=this.kr.get(i);h===void 0&&(h=It(),this.kr.set(i,h)),this.kr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.qr=new Re(Ne.Qr),this.$r=new Re(Ne.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const r=new Ne(e,i);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.Wr(new Ne(e,i))}Gr(e,i){e.forEach(r=>this.removeReference(r,i))}zr(e){const i=new ht(new $t([])),r=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.$r.forEachInRange([r,u],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ht(new $t([])),r=new Ne(i,e),u=new Ne(i,e+1);let h=It();return this.$r.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),r=this.qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ne{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ht.comparator(e.key,i.key)||bt(e.Hr,i.Hr)}static Ur(e,i){return bt(e.Hr,i.Hr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Re(Ne.Qr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VA(h,i,r,u);this.mutationQueue.push(d);for(const g of u)this.Yr=this.Yr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.Xr(r),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?yd:this.er-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([r,u],d=>{const g=this.Zr(d.Hr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Re(bt);return i.forEach(u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{r=r.add(g.Hr)})}),X.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ht.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ht(h),0);let g=new Re(bt);return this.Yr.forEachWhile(v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Hr)),!0)},d),X.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(r=>{const u=this.Zr(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return X.forEach(i.mutations,u=>{const h=new Ne(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,i){const r=new Ne(i,0),u=this.Yr.firstAfterOrEqual(r);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.ni=e,this.docs=function(){return new ie(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ni(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let r=Li();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Li();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||H1(j1(A),r)<=0||(u.has(A.key)||fc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,r,u){pt(9500)}ri(e,i){return X.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new gS(this)}getSize(e){return X.resolve(this.size)}}class gS extends lS{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Or.addEntry(e,u)):this.Or.removeEntry(r)}),X.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.persistence=e,this.ii=new yr(i=>Ed(i),Td),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.si=0,this.oi=new Dd,this.targetCount=0,this._i=Ts.ar()}forEachTarget(e,i){return this.ii.forEach((r,u)=>i(u)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.si&&(this.si=i),X.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.hr(i),X.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),X.waitFor(h).next(()=>u)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.ii.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this.oi.Kr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this.oi.Gr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this.oi.Jr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i){this.ai={},this.overlays={},this.ui=new sc(0),this.ci=!1,this.ci=!0,this.li=new fS,this.referenceDelegate=e(this),this.hi=new pS(this),this.indexManager=new tS,this.remoteDocumentCache=function(u){return new mS(u)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new $A(i),this.Ti=new cS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ai[e.toKey()];return r||(r=new dS(i,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const u=new yS(this.ui.next());return this.referenceDelegate.Ii(),r(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ei(e,i){return X.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,i)))}}class yS extends Q1{constructor(e){super(),this.currentSequenceNumber=e}}class Cd{constructor(e){this.persistence=e,this.Ai=new Dd,this.Ri=null}static Vi(e){return new Cd(e)}get mi(){if(this.Ri)return this.Ri;throw pt(60996)}addReference(e,i,r){return this.Ai.addReference(r,i),this.mi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ai.removeReference(r,i),this.mi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(u=>this.mi.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.mi.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,r=>{const u=ht.fromPath(r);return this.fi(e,u).next(h=>{h||i.removeEntry(u,vt.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(r=>{r?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return X.or([()=>X.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class nc{constructor(e,i){this.persistence=e,this.gi=new yr(r=>X1(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=sS(this,i)}static Vi(e,i){return new nc(e,i)}Ii(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}yr(e){let i=0;return this.gr(e,r=>{i++}).next(()=>i)}gr(e,i){return X.forEach(this.gi,(r,u)=>this.Sr(e,r,u).next(h=>h?X.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(r++,h.removeEntry(d,vt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.gi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.gi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),X.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Po(e.data.value)),i}Sr(e,i,r){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.gi.get(i);return X.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Is=r,this.ds=u}static Es(e,i){let r=It(),u=It();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Vd(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return hT()?8:F1(oT())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new _S;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,r,u){return r.documentReadCount<this.Vs?(hs()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(hs()<=Ut.DEBUG&&it("QueryEngine","Query:",fs(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.fs*u?(hs()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):X.resolve())}ps(e,i){if(Hy(i))return X.resolve(null);let r=ei(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=$f(i,null,"F"),r=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=It(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(v=>{const _=this.bs(i,g);return this.Ds(i,_,d,v.readTime)?this.ps(e,$f(i,null,"F")):this.vs(e,_,i,v)}))})))}ys(e,i,r,u){return Hy(i)||u.isEqual(vt.min())?X.resolve(null):this.gs.getDocuments(e,r).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,r,u)?X.resolve(null):(hs()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fs(i)),this.vs(e,d,i,q1(u,Kl)).next(g=>g))})}bs(e,i){let r=new Re(lv(e));return i.forEach((u,h)=>{fc(e,h)&&(r=r.add(h))}),r}Ds(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ws(e,i,r){return hs()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",fs(i)),this.gs.getDocumentsMatchingQuery(e,i,va.min(),r)}vs(e,i,r,u){return this.gs.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="LocalStore",ES=3e8;class TS{constructor(e,i,r,u){this.persistence=e,this.Cs=i,this.serializer=u,this.Fs=new ie(bt),this.Ms=new yr(h=>Ed(h),Td),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oS(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function AS(s,e,i,r){return new TS(s,e,i,r)}async function Iv(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],g=[];let v=It();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:g}))})})}function SS(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const D=_.batch,I=D.keys();let j=X.resolve();return I.forEach($=>{j=j.next(()=>A.getEntry(v,$)).next(J=>{const F=_.docVersions.get($);qt(F!==null,48541),J.version.compareTo(F)<0&&(D.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,D))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let v=It();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(r,u))})}function Ov(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function bS(s,e){const i=Et(s),r=e.snapshotVersion;let u=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});u=i.Fs;const g=[];e.targetChanges.forEach((A,D)=>{const I=u.get(D);if(!I)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,D)));let j=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,r)),u=u.insert(D,j),function(J,F,ft){return J.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=ES?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0}(I,j,A)&&g.push(i.hi.updateTargetData(h,j))});let v=Li(),_=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(RS(h,d,e.documentUpdates).next(A=>{v=A.Ls,_=A.ks})),!r.isEqual(vt.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(D=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,r));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Fs=u,h))}function RS(s,e,i){let r=It(),u=It();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Li();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):it(Id,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{Ls:d,ks:u}})}function wS(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DS(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.hi.getTargetData(r,e).next(h=>h?(u=h,X.resolve(u)):i.hi.allocateTargetId(r).next(d=>(u=new fa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.hi.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.Fs.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(r.targetId,r),i.Ms.set(e,r.targetId)),r})}async function id(s,e,i){const r=Et(s),u=r.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!ws(d))throw d;it(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(u.target)}function n_(s,e,i){const r=Et(s);let u=vt.min(),h=It();return r.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const D=Et(v),I=D.Ms.get(A);return I!==void 0?X.resolve(D.Fs.get(I)):D.hi.getTargetData(_,A)}(r,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>r.Cs.getDocumentsMatchingQuery(d,e,i?u:vt.min(),i?h:It())).next(g=>(CS(r,mA(e),g),{documents:g,qs:h})))}function CS(s,e,i){let r=s.xs.get(e)||vt.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.xs.set(e,r)}class i_{constructor(){this.activeTargetIds=EA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VS{constructor(){this.Fo=new i_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,r){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new i_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class r_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){it(a_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){it(a_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo=null;function ad(){return Uo===null?Uo=function(){return 268435456+Math.round(2147483648*Math.random())}():Uo++,"0x"+Uo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",OS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${r}/databases/${u}`,this.Ko=this.databaseId.database===Ko?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Wo(e,i,r,u,h){const d=ad(),g=this.Go(e,i.toUriEncodedString());it(zf,`Sending RPC '${e}' ${d}:`,g,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,u,h);const{host:_}=new URL(g),A=fd(_);return this.jo(e,g,v,r,A).then(D=>(it(zf,`Received RPC '${e}' ${d}: `,D),D),D=>{throw _a(zf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",r),D})}Jo(e,i,r,u,h,d){return this.Wo(e,i,r,u,h)}zo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}Go(e,i){const r=OS[e];return`${this.$o}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class xS extends NS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,r,u,h){const d=ad();return new Promise((g,v)=>{const _=new x_;_.setWithCredentials(!0),_.listenOnce(U_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case zo.NO_ERROR:const D=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case zo.TIMEOUT:it(Qe,`RPC '${e}' ${d} timed out`),v(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:const I=_.getStatus();if(it(Qe,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const J=function(ft){const ut=ft.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ut)>=0?ut:K.UNKNOWN}($.status);v(new st(J,$.message))}else v(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(K.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(Qe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)})}P_(e,i,r){const u=ad(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=P_(),g=z_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const D=d.createWebChannel(A,v);this.T_(D);let I=!1,j=!1;const $=new MS({Ho:F=>{j?it(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,F):(I||(it(Qe,`Opening RPC '${e}' stream ${u} transport.`),D.open(),I=!0),it(Qe,`RPC '${e}' stream ${u} sending:`,F),D.send(F))},Yo:()=>D.close()}),J=(F,ft,ut)=>{F.listen(ft,rt=>{try{ut(rt)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return J(D,Pl.EventType.OPEN,()=>{j||(it(Qe,`RPC '${e}' stream ${u} transport opened.`),$.s_())}),J(D,Pl.EventType.CLOSE,()=>{j||(j=!0,it(Qe,`RPC '${e}' stream ${u} transport closed`),$.__(),this.I_(D))}),J(D,Pl.EventType.ERROR,F=>{j||(j=!0,_a(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,F.name,"Message:",F.message),$.__(new st(K.UNAVAILABLE,"The operation could not be completed")))}),J(D,Pl.EventType.MESSAGE,F=>{var ft;if(!j){const ut=F.data[0];qt(!!ut,16349);const rt=ut,Tt=rt?.error||((ft=rt[0])===null||ft===void 0?void 0:ft.error);if(Tt){it(Qe,`RPC '${e}' stream ${u} received error:`,Tt);const dt=Tt.status;let Dt=function(b){const O=ye[b];if(O!==void 0)return _v(O)}(dt),N=Tt.message;Dt===void 0&&(Dt=K.INTERNAL,N="Unknown error status: "+dt+" with message "+Tt.message),j=!0,$.__(new st(Dt,N)),D.close()}else it(Qe,`RPC '${e}' stream ${u} received:`,ut),$.a_(ut)}}),J(g,L_.STAT_EVENT,F=>{F.stat===Ff.PROXY?it(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):F.stat===Ff.NOPROXY&&it(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.o_()},0),$}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(s){return new PA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=r,this.E_=u,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),u=Math.max(0,i-r);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,u,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="PersistentStream";class Mv{constructor(e,i,r,u,h,d,g,v){this.Fi=e,this.w_=r,this.S_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Nv(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.b_===i&&this.W_(r,u)},r=>{e(()=>{const u=new st(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(u)})})}W_(e,i){const r=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(u=>{r(()=>this.G_(u))}),this.stream.onMessage(u=>{r(()=>++this.C_==1?this.j_(u):this.onNext(u))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return it(s_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(it(s_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class US extends Mv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=qA(this.serializer,e),r=function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ni(d.readTime):vt.min()}(e);return this.listener.J_(i,r)}H_(e){const i={};i.database=nd(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=Jf(v)?{documents:GA(h,v)}:{query:QA(h,v).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Tv(h,d.resumeToken);const _=Wf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=ec(h,d.snapshotVersion.toTimestamp());const _=Wf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const r=YA(this.serializer,e);r&&(i.labels=r),this.k_(i)}Y_(e){const i={};i.database=nd(this.serializer),i.removeTarget=e,this.k_(i)}}class LS extends Mv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=HA(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.ta(r,i)}na(){const e={};e.database=nd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>jA(this.serializer,r))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class PS extends zS{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.ra=!1}ia(){if(this.ra)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,td(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())})}Jo(e,i,r,u,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,td(i,r),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class BS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ui(i),this._a=!1):it("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="RemoteStore";class kS{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{r.enqueueAndForget(async()=>{_r(this)&&(it(pr,"Restarting streams for network reachability change."),await async function(v){const _=Et(v);_.Ia.add(4),await au(_),_.Aa.set("Unknown"),_.Ia.delete(4),await yc(_)}(this))})}),this.Aa=new BS(r,u)}}async function yc(s){if(_r(s))for(const e of s.da)await e(!0)}async function au(s){for(const e of s.da)await e(!1)}function xv(s,e){const i=Et(s);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),xd(i)?Md(i):Ds(i).x_()&&Nd(i,e))}function Od(s,e){const i=Et(s),r=Ds(i);i.Ta.delete(e),r.x_()&&Uv(i,e),i.Ta.size===0&&(r.x_()?r.B_():_r(i)&&i.Aa.set("Unknown"))}function Nd(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(s).H_(e)}function Uv(s,e){s.Ra.$e(e),Ds(s).Y_(e)}function Md(s){s.Ra=new xA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),Ds(s).start(),s.Aa.aa()}function xd(s){return _r(s)&&!Ds(s).M_()&&s.Ta.size>0}function _r(s){return Et(s).Ia.size===0}function Lv(s){s.Ra=void 0}async function qS(s){s.Aa.set("Online")}async function jS(s){s.Ta.forEach((e,i)=>{Nd(s,e)})}async function HS(s,e){Lv(s),xd(s)?(s.Aa.la(e),Md(s)):s.Aa.set("Unknown")}async function GS(s,e,i){if(s.Aa.set("Online"),e instanceof Ev&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ta.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ta.delete(g),u.Ra.removeTarget(g))}(s,e)}catch(r){it(pr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ic(s,r)}else if(e instanceof qo?s.Ra.Ye(e):e instanceof vv?s.Ra.it(e):s.Ra.et(e),!i.isEqual(vt.min()))try{const r=await Ov(s.localStore);i.compareTo(r)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ta.get(_);A&&h.Ta.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Ta.get(v);if(!A)return;h.Ta.set(v,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Uv(h,v);const D=new fa(A.target,v,_,A.sequenceNumber);Nd(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){it(pr,"Failed to raise snapshot:",r),await ic(s,r)}}async function ic(s,e,i){if(!ws(e))throw e;s.Ia.add(1),await au(s),s.Aa.set("Offline"),i||(i=()=>Ov(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(pr,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await yc(s)})}function zv(s,e){return e().catch(i=>ic(s,i,e))}async function _c(s){const e=Et(s),i=Sa(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:yd;for(;QS(e);)try{const u=await wS(e.localStore,r);if(u===null){e.Pa.length===0&&i.B_();break}r=u.batchId,FS(e,u)}catch(u){await ic(e,u)}Pv(e)&&Bv(e)}function QS(s){return _r(s)&&s.Pa.length<10}function FS(s,e){s.Pa.push(e);const i=Sa(s);i.x_()&&i.Z_&&i.X_(e.mutations)}function Pv(s){return _r(s)&&!Sa(s).M_()&&s.Pa.length>0}function Bv(s){Sa(s).start()}async function YS(s){Sa(s).na()}async function XS(s){const e=Sa(s);for(const i of s.Pa)e.X_(i.mutations)}async function KS(s,e,i){const r=s.Pa.shift(),u=bd.from(r,e,i);await zv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await _c(s)}async function ZS(s,e){e&&Sa(s).Z_&&await async function(r,u){if(function(d){return NA(d)&&d!==K.ABORTED}(u.code)){const h=r.Pa.shift();Sa(r).N_(),await zv(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u)),await _c(r)}}(s,e),Pv(s)&&Bv(s)}async function l_(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(pr,"RemoteStore received new credentials");const r=_r(i);i.Ia.add(3),await au(i),r&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await yc(i)}async function JS(s,e){const i=Et(s);e?(i.Ia.delete(2),await yc(i)):e||(i.Ia.add(2),await au(i),i.Aa.set("Unknown"))}function Ds(s){return s.Va||(s.Va=function(i,r,u){const h=Et(i);return h.ia(),new US(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Zo:qS.bind(null,s),e_:jS.bind(null,s),n_:HS.bind(null,s),J_:GS.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),xd(s)?Md(s):s.Aa.set("Unknown")):(await s.Va.stop(),Lv(s))})),s.Va}function Sa(s){return s.ma||(s.ma=function(i,r,u){const h=Et(i);return h.ia(),new LS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:YS.bind(null,s),n_:ZS.bind(null,s),ea:XS.bind(null,s),ta:KS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await _c(s)):(await s.ma.stop(),s.Pa.length>0&&(it(pr,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,g=new Ud(e,i,d,u,h);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(s,e){if(Ui("AsyncQueue",`${e}: ${s}`),ws(s))return new st(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{static emptySet(e){return new ps(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ps;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.fa=new ie(ht.comparator)}track(e){const i=e.doc.key,r=this.fa.get(i);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(i,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(i):e.type===1&&r.type===2?this.fa=this.fa.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):pt(63341,{At:e,ga:r}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,r)=>{e.push(r)}),e}}class As{constructor(e,i,r,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,ps.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class WS{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,r){const u=Et(i),h=u.queries;u.queries=o_(),h.forEach((d,g)=>{for(const v of g.wa)v.onError(r)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function o_(){return new yr(s=>sv(s),hc)}async function kv(s,e){const i=Et(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.Sa()&&e.ba()&&(r=2):(h=new $S,r=e.ba()?0:1);try{switch(r){case 0:h.ya=await i.onListen(u,!0);break;case 1:h.ya=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Ld(d,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&zd(i)}async function qv(s,e){const i=Et(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?u=e.ba()?0:1:!h.Sa()&&e.ba()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function tb(s,e){const i=Et(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(u)&&(r=!0);d.ya=u}}r&&zd(i)}function eb(s,e,i){const r=Et(s),u=r.queries.get(e);if(u)for(const h of u.wa)h.onError(i);r.queries.delete(e)}function zd(s){s.Da.forEach(e=>{e.next()})}var rd,c_;(c_=rd||(rd={})).Fa="default",c_.Cache="cache";class jv{constructor(e,i,r){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new As(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const r=i!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.key=e}}class Gv{constructor(e){this.key=e}}class nb{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=It(),this.mutatedKeys=It(),this.Xa=lv(e),this.eu=new ps(this.Xa)}get tu(){return this.Ha}nu(e,i){const r=i?i.ru:new u_,u=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,D)=>{const I=u.get(A),j=fc(this.query,D)?D:null,$=!!I&&this.mutatedKeys.has(I.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let F=!1;I&&j?I.data.isEqual(j.data)?$!==J&&(r.track({type:3,doc:j}),F=!0):this.iu(I,j)||(r.track({type:2,doc:j}),F=!0,(v&&this.Xa(j,v)>0||_&&this.Xa(j,_)<0)&&(g=!0)):!I&&j?(r.track({type:0,doc:j}),F=!0):I&&!j&&(r.track({type:1,doc:I}),F=!0,(v||_)&&(g=!0)),F&&(j?(d=d.add(j),h=J?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{eu:d,ru:r,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,D)=>function(j,$){const J=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{At:F})}};return J(j)-J($)}(A.type,D.type)||this.Xa(A.doc,D.doc)),this.su(r),u=u!=null&&u;const g=i&&!u?this.ou():[],v=this.Za.size===0&&this.current&&!u?1:0,_=v!==this.Ya;return this.Ya=v,d.length!==0||_?{snapshot:new As(this.query,e.eu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new u_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=It(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const i=[];return e.forEach(r=>{this.Za.has(r)||i.push(new Gv(r))}),this.Za.forEach(r=>{e.has(r)||i.push(new Hv(r))}),i}uu(e){this.Ha=e.qs,this.Za=It();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return As.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Pd="SyncEngine";class ib{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ab{constructor(e){this.key=e,this.lu=!1}}class rb{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new yr(g=>sv(g),hc),this.Tu=new Map,this.Iu=new Set,this.du=new ie(ht.comparator),this.Eu=new Map,this.Au=new Dd,this.Ru={},this.Vu=new Map,this.mu=Ts.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function sb(s,e,i=!0){const r=Zv(s);let u;const h=r.Pu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.cu()):u=await Qv(r,e,i,!0),u}async function lb(s,e){const i=Zv(s);await Qv(i,e,!0,!1)}async function Qv(s,e,i,r){const u=await DS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await ub(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&xv(s.remoteStore,u),g}async function ub(s,e,i,r,u){s.gu=(D,I,j)=>async function(J,F,ft,ut){let rt=F.view.nu(ft);rt.Ds&&(rt=await n_(J.localStore,F.query,!1).then(({documents:N})=>F.view.nu(N,rt)));const Tt=ut&&ut.targetChanges.get(F.targetId),dt=ut&&ut.targetMismatches.get(F.targetId)!=null,Dt=F.view.applyChanges(rt,J.isPrimaryClient,Tt,dt);return f_(J,F.targetId,Dt._u),Dt.snapshot}(s,D,I,j);const h=await n_(s.localStore,e,!0),d=new nb(e,h.qs),g=d.nu(h.documents),v=iu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(g,s.isPrimaryClient,v);f_(s,i,_._u);const A=new ib(e,i,d);return s.Pu.set(e,A),s.Tu.has(i)?s.Tu.get(i).push(e):s.Tu.set(i,[e]),_.snapshot}async function ob(s,e,i){const r=Et(s),u=r.Pu.get(e),h=r.Tu.get(u.targetId);if(h.length>1)return r.Tu.set(u.targetId,h.filter(d=>!hc(d,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await id(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&Od(r.remoteStore,u.targetId),sd(r,u.targetId)}).catch(Rs)):(sd(r,u.targetId),await id(r.localStore,u.targetId,!0))}async function cb(s,e){const i=Et(s),r=i.Pu.get(e),u=i.Tu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Od(i.remoteStore,r.targetId))}async function hb(s,e,i){const r=_b(s);try{const u=await function(d,g){const v=Et(d),_=Wt.now(),A=g.reduce((j,$)=>j.add($.key),It());let D,I;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Li(),J=It();return v.Os.getEntries(j,A).next(F=>{$=F,$.forEach((ft,ut)=>{ut.isValidDocument()||(J=J.add(ft))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,$)).next(F=>{D=F;const ft=[];for(const ut of g){const rt=DA(ut,D.get(ut.key).overlayedDocument);rt!=null&&ft.push(new Da(ut.key,rt,W_(rt.value.mapValue),Vn.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,ft,g)}).next(F=>{I=F;const ft=F.applyToLocalDocumentSet(D,J);return v.documentOverlayCache.saveOverlays(j,F.batchId,ft)})}).then(()=>({batchId:I.batchId,changes:ov(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,g,v){let _=d.Ru[d.currentUser.toKey()];_||(_=new ie(bt)),_=_.insert(g,v),d.Ru[d.currentUser.toKey()]=_}(r,u.batchId,i),await ru(r,u.changes),await _c(r.remoteStore)}catch(u){const h=Ld(u,"Failed to persist write");i.reject(h)}}async function Fv(s,e){const i=Et(s);try{const r=await bS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.lu=!0:u.modifiedDocuments.size>0?qt(d.lu,14607):u.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))}),await ru(i,r,e)}catch(r){await Rs(r)}}function h_(s,e,i){const r=Et(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=Et(d);v.onlineState=g;let _=!1;v.queries.forEach((A,D)=>{for(const I of D.wa)I.va(g)&&(_=!0)}),_&&zd(v)}(r.eventManager,e),u.length&&r.hu.J_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fb(s,e,i){const r=Et(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Eu.get(e),h=u&&u.key;if(h){let d=new ie(ht.comparator);d=d.insert(h,Ye.newNoDocument(h,vt.min()));const g=It().add(h),v=new gc(vt.min(),new Map,new ie(bt),d,g);await Fv(r,v),r.du=r.du.remove(h),r.Eu.delete(e),Bd(r)}else await id(r.localStore,e,!1).then(()=>sd(r,e,i)).catch(Rs)}async function db(s,e){const i=Et(s),r=e.batch.batchId;try{const u=await SS(i.localStore,e);Xv(i,r,null),Yv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ru(i,u)}catch(u){await Rs(u)}}async function mb(s,e,i){const r=Et(s);try{const u=await function(d,g){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(D=>(qt(D!==null,37113),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(r.localStore,e);Xv(r,e,i),Yv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await ru(r,u)}catch(u){await Rs(u)}}function Yv(s,e){(s.Vu.get(e)||[]).forEach(i=>{i.resolve()}),s.Vu.delete(e)}function Xv(s,e,i){const r=Et(s);let u=r.Ru[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.Ru[r.currentUser.toKey()]=u}}function sd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Tu.get(e))s.Pu.delete(r),i&&s.hu.pu(r,i);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(r=>{s.Au.containsKey(r)||Kv(s,r)})}function Kv(s,e){s.Iu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Od(s.remoteStore,i),s.du=s.du.remove(e),s.Eu.delete(i),Bd(s))}function f_(s,e,i){for(const r of i)r instanceof Hv?(s.Au.addReference(r.key,e),gb(s,r)):r instanceof Gv?(it(Pd,"Document no longer in limbo: "+r.key),s.Au.removeReference(r.key,e),s.Au.containsKey(r.key)||Kv(s,r.key)):pt(19791,{yu:r})}function gb(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Iu.has(r)||(it(Pd,"New document in limbo: "+i),s.Iu.add(r),Bd(s))}function Bd(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const i=new ht($t.fromString(e)),r=s.mu.next();s.Eu.set(r,new ab(i)),s.du=s.du.insert(i,r),xv(s.remoteStore,new fa(ei(cc(i.path)),r,"TargetPurposeLimboResolution",sc.ue))}}async function ru(s,e,i){const r=Et(s),u=[],h=[],d=[];r.Pu.isEmpty()||(r.Pu.forEach((g,v)=>{d.push(r.gu(v,e,i).then(_=>{var A;if((_||i)&&r.isPrimaryClient){const D=_?!_.fromCache:(A=i?.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,D?"current":"not-current")}if(_){u.push(_);const D=Vd.Es(v.targetId,_);h.push(D)}}))}),await Promise.all(d),r.hu.J_(u),await async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>X.forEach(_,I=>X.forEach(I.Is,j=>A.persistence.referenceDelegate.addReference(D,I.targetId,j)).next(()=>X.forEach(I.ds,j=>A.persistence.referenceDelegate.removeReference(D,I.targetId,j)))))}catch(D){if(!ws(D))throw D;it(Id,"Failed to update sequence numbers: "+D)}for(const D of _){const I=D.targetId;if(!D.fromCache){const j=A.Fs.get(I),$=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion($);A.Fs=A.Fs.insert(I,J)}}}(r.localStore,h))}async function pb(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){it(Pd,"User change. New user:",e.toKey());const r=await Iv(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(v=>{v.reject(new st(K.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(i,r.Bs)}}function yb(s,e){const i=Et(s),r=i.Eu.get(e);if(r&&r.lu)return It().add(r.key);{let u=It();const h=i.Tu.get(e);if(!h)return u;for(const d of h){const g=i.Pu.get(d);u=u.unionWith(g.view.tu)}return u}}function Zv(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fb.bind(null,e),e.hu.J_=tb.bind(null,e.eventManager),e.hu.pu=eb.bind(null,e.eventManager),e}function _b(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=db.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mb.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return AS(this.persistence,new vS,e.initialUser,this.serializer)}Du(e){return new Vv(Cd.Vi,this.serializer)}bu(e){return new VS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class vb extends ac{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){qt(this.persistence.referenceDelegate instanceof nc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aS(r,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Vv(r=>nc.Vi(r,i),this.serializer)}}class ld{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pb.bind(null,this.syncEngine),await JS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WS}()}createDatastore(e){const i=pc(e.databaseInfo.databaseId),r=function(h){return new xS(h)}(e.databaseInfo);return function(h,d,g,v){return new PS(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,g){return new kS(r,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>h_(this.syncEngine,i,0),function(){return r_.C()?new r_:new IS}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,A){const D=new rb(u,h,d,g,v,_);return A&&(D.fu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Et(u);it(pr,"RemoteStore shutting down."),h.Ia.add(5),await au(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ld.provider={build:()=>new ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class Eb{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=gd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{it(ba,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(it(ba,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ld(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bf(s,e){s.asyncQueue.verifyOperationInProgress(),it(ba,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await Iv(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>{_a("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{it("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(u=>{_a("Terminating Firestore due to IndexedDb database deletion failed",u)})}),s._offlineComponents=e}async function d_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Tb(s);it(ba,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>l_(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>l_(e.remoteStore,u)),s._onlineComponents=e}async function Tb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(ba,"Using user provided OfflineComponentProvider");try{await Bf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;_a("Error using user provided cache. Falling back to memory cache: "+i),await Bf(s,new ac)}}else it(ba,"Using default OfflineComponentProvider"),await Bf(s,new vb(void 0));return s._offlineComponents}async function $v(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(ba,"Using user provided OnlineComponentProvider"),await d_(s,s._uninitializedComponentsProvider._online)):(it(ba,"Using default OnlineComponentProvider"),await d_(s,new ld))),s._onlineComponents}function Ab(s){return $v(s).then(e=>e.syncEngine)}async function ud(s){const e=await $v(s),i=e.eventManager;return i.onListen=sb.bind(null,e.syncEngine),i.onUnlisten=ob.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cb.bind(null,e.syncEngine),i}function Sb(s,e,i={}){const r=new pa;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Jv({next:I=>{A.Ou(),d.enqueueAndForget(()=>qv(h,D));const j=I.docs.has(g);!j&&I.fromCache?_.reject(new st(K.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&I.fromCache&&v&&v.source==="server"?_.reject(new st(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),D=new jv(cc(g.path),A,{includeMetadataChanges:!0,ka:!0});return kv(h,D)}(await ud(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firestore.googleapis.com",g_=!0;class p_{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=g_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:g_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nS)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O1;switch(r.type){case"firstParty":return new U1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=m_.get(i);r&&(it("ComponentProvider","Removing Datastore"),m_.delete(i),r.terminate())}(this),Promise.resolve()}}function bb(s,e,i,r={}){var u;s=Cn(s,vc);const h=fd(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&(aT(`https://${v}`),uT("Firestore",!0)),d.host!==t0&&d.host!==v&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:r});if(!Qo(_,g)&&(s._setSettings(_),r.mockUserToken)){let A,D;if(typeof r.mockUserToken=="string")A=r.mockUserToken,D=Fe.MOCK_USER;else{A=rT(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Fe(I)}s._authCredentials=new N1(new k_(A,D))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ec(this.firestore,e,this._query)}}class fe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fe(this.firestore,e,this._key)}toJSON(){return{type:fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(eu(i,fe._jsonSchema))return new fe(e,r||null,new ht($t.fromString(i.referencePath)))}}fe._jsonSchemaVersion="firestore/documentReference/1.0",fe._jsonSchema={type:_e("string",fe._jsonSchemaVersion),referencePath:_e("string")};class ya extends Ec{constructor(e,i,r){super(e,i,cc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fe(this.firestore,null,new ht(e))}withConverter(e){return new ya(this.firestore,e,this._path)}}function Lo(s,e,...i){if(s=Mi(s),j_("collection","path",e),s instanceof vc){const r=$t.fromString(e,...i);return Iy(r),new ya(s,null,r)}{if(!(s instanceof fe||s instanceof ya))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child($t.fromString(e,...i));return Iy(r),new ya(s.firestore,null,r)}}function jo(s,e,...i){if(s=Mi(s),arguments.length===1&&(e=gd.newId()),j_("doc","path",e),s instanceof vc){const r=$t.fromString(e,...i);return Vy(r),new fe(s,null,new ht(r))}{if(!(s instanceof fe||s instanceof ya))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child($t.fromString(e,...i));return Vy(r),new fe(s.firestore,s instanceof ya?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Nv(this,"async_queue_retry"),this.oc=()=>{const r=Pf();r&&it(y_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const i=Pf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Pf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new pa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ws(e))throw e;it(y_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ui("INTERNAL UNHANDLED ERROR: ",v_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=i,i}enqueueAfterDelay(e,i,r){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const u=Ud.createAndSchedule(this,e,i,r,h=>this.lc(h));return this.ec.push(u),u}ac(){this.tc&&pt(47125,{hc:v_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function v_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(s){return function(i,r){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of r)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Ra extends vc{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new __,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function Rb(s,e){const i=typeof s=="object"?s:_1(),r=typeof s=="string"?s:Ko,u=d1(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=nT("firestore");h&&bb(u,...h)}return u}function kd(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wb(s),s._firestoreClient}function wb(s){var e,i,r;const u=s._freezeSettings(),h=function(g,v,_,A){return new J1(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Wv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new Eb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const v=g?._online.build();return{_offline:g?._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(qe.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:_e("string",Dn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(eu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:_e("string",ii._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ai(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:_e("string",ai._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=/^__.*__$/;class Cb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class e0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Da(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function n0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ec:s})}}class jd{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Rc({path:r,mc:!1});return u.fc(e),u}gc(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Rc({path:r,mc:!1});return u.Ac(),u}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(n0(this.Ec)&&Db.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Vb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||pc(e)}Dc(e,i,r,u=!1){return new jd({Ec:e,methodName:i,bc:r,path:ke.emptyPath(),mc:!1,Sc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(s){const e=s._freezeSettings(),i=pc(s._databaseId);return new Vb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function i0(s,e,i,r,u,h={}){const d=s.Dc(h.merge||h.mergeFields?2:0,e,i,u);Gd("Data must be an object, but it was:",d,r);const g=a0(r,d);let v,_;if(h.merge)v=new dn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const I=od(e,D,i);if(!d.contains(I))throw new st(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);s0(A,I)||A.push(I)}v=new dn(A),_=d.fieldTransforms.filter(D=>v.covers(D.field))}else v=null,_=d.fieldTransforms;return new Cb(new nn(g),v,_)}class Ac extends qd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}function Ib(s,e,i,r){const u=s.Dc(1,e,i);Gd("Data must be an object, but it was:",u,r);const h=[],d=nn.empty();wa(r,(v,_)=>{const A=Qd(e,v,i);_=Mi(_);const D=u.gc(A);if(_ instanceof Ac)h.push(A);else{const I=Sc(_,D);I!=null&&(h.push(A),d.set(A,I))}});const g=new dn(h);return new e0(d,g,u.fieldTransforms)}function Ob(s,e,i,r,u,h){const d=s.Dc(1,e,i),g=[od(e,r,i)],v=[u];if(h.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)g.push(od(e,h[I])),v.push(h[I+1]);const _=[],A=nn.empty();for(let I=g.length-1;I>=0;--I)if(!s0(_,g[I])){const j=g[I];let $=v[I];$=Mi($);const J=d.gc(j);if($ instanceof Ac)_.push(j);else{const F=Sc($,J);F!=null&&(_.push(j),A.set(j,F))}}const D=new dn(_);return new e0(A,D,d.fieldTransforms)}function Sc(s,e){if(r0(s=Mi(s)))return Gd("Unsupported field value:",e,s),a0(s,e);if(s instanceof qd)return function(r,u){if(!n0(u.Ec))throw u.wc(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.wc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,u){const h=[];let d=0;for(const g of r){let v=Sc(g,u.yc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(r,u){if((r=Mi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TA(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Wt.fromDate(r);return{timestampValue:ec(u.serializer,h)}}if(r instanceof Wt){const h=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ec(u.serializer,h)}}if(r instanceof ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:Tv(u.serializer,r._byteString)};if(r instanceof fe){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:wd(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof ai)return function(d,g){return{mapValue:{fields:{[J_]:{stringValue:$_},[Zo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return Ad(g.serializer,_)})}}}}}}(r,u);throw u.wc(`Unsupported field value: ${pd(r)}`)}(s,e)}function a0(s,e){const i={};return Q_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(s,(r,u)=>{const h=Sc(u,e.Vc(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function r0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Wt||s instanceof ii||s instanceof Dn||s instanceof fe||s instanceof qd||s instanceof ai)}function Gd(s,e,i){if(!r0(i)||!H_(i)){const r=pd(i);throw r==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+r)}}function od(s,e,i){if((e=Mi(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return Qd(s,e);throw rc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Nb=new RegExp("[~\\*/\\[\\]]");function Qd(s,e,i){if(e.search(Nb)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Tc(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rc(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new st(K.INVALID_ARGUMENT,g+s+v)}function s0(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(u0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Mb extends l0{data(){return super.data()}}function u0(s,e){return typeof e=="string"?Qd(s,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{convertValue(e,i="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return wa(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[Zo].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>he(d.doubleValue));return new ai(h)}convertGeoPoint(e){return new ii(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=uc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Ea(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=$t.fromString(e);qt(Dv(r),9688,{name:e});const u=new Jl(r.get(1),r.get(3)),h=new ht(r.popFirst(5));return u.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mr extends l0{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ho(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(u0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=mr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",mr._jsonSchema={type:_e("string",mr._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Ho extends mr{data(e={}){return super.data(e)}}class ys{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new ql(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new Ho(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new Ho(u._firestore,u._userDataWriter,g.doc.key,g.doc,new ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Ho(u._firestore,u._userDataWriter,g.doc.key,g.doc,new ql(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Lb(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(s){s=Cn(s,fe);const e=Cn(s.firestore,Ra);return Sb(kd(e),s._key).then(i=>h0(e,s,i))}ys._jsonSchemaVersion="firestore/querySnapshot/1.0",ys._jsonSchema={type:_e("string",ys._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class c0 extends Ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fe(this.firestore,null,i)}}function Pb(s,e,i){s=Cn(s,fe);const r=Cn(s.firestore,Ra),u=o0(s.converter,e);return bc(r,[i0(Hd(r),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,Vn.none())])}function Bb(s,e,i,...r){s=Cn(s,fe);const u=Cn(s.firestore,Ra),h=Hd(u);let d;return d=typeof(e=Mi(e))=="string"||e instanceof Tc?Ob(h,"updateDoc",s._key,e,i,r):Ib(h,"updateDoc",s._key,e),bc(u,[d.toMutation(s._key,Vn.exists(!0))])}function kb(s){return bc(Cn(s.firestore,Ra),[new Sd(s._key,Vn.none())])}function T_(s,e){const i=Cn(s.firestore,Ra),r=jo(s),u=o0(s.converter,e);return bc(i,[i0(Hd(s.firestore),"addDoc",r._key,u,s.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function kf(s,...e){var i,r,u;s=Mi(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||E_(e[d])||(h=e[d++]);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(E_(e[d])){const D=e[d];e[d]=(i=D.next)===null||i===void 0?void 0:i.bind(D),e[d+1]=(r=D.error)===null||r===void 0?void 0:r.bind(D),e[d+2]=(u=D.complete)===null||u===void 0?void 0:u.bind(D)}let v,_,A;if(s instanceof fe)_=Cn(s.firestore,Ra),A=cc(s._key.path),v={next:D=>{e[d]&&e[d](h0(_,s,D))},error:e[d+1],complete:e[d+2]};else{const D=Cn(s,Ec);_=Cn(D.firestore,Ra),A=D._query;const I=new c0(_);v={next:j=>{e[d]&&e[d](new ys(_,I,D,j))},error:e[d+1],complete:e[d+2]},xb(s._query)}return function(I,j,$,J){const F=new Jv(J),ft=new jv(j,F,$);return I.asyncQueue.enqueueAndForget(async()=>kv(await ud(I),ft)),()=>{F.Ou(),I.asyncQueue.enqueueAndForget(async()=>qv(await ud(I),ft))}}(kd(_),A,g,v)}function bc(s,e){return function(r,u){const h=new pa;return r.asyncQueue.enqueueAndForget(async()=>hb(await Ab(r),u,h)),h.promise}(kd(s),e)}function h0(s,e,i){const r=i.docs.get(e._key),u=new c0(s);return new mr(s,u,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){bs=u})(y1),Yo(new Yl("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Ra(new M1(r.getProvider("auth-internal")),new L1(d,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),gs(by,Ry,e),gs(by,Ry,"esm2017")})();const qb={apiKey:"AIzaSyBaY5uq9kIEFjfr9cIEYOzTT4TykRdui-c",authDomain:"boardgames-cf5a1.firebaseapp.com",projectId:"boardgames-cf5a1",storageBucket:"boardgames-cf5a1.firebasestorage.app",messagingSenderId:"764257197121",appId:"1:764257197121:web:b80d24917356f51ab47ac0",measurementId:"G-9PS0XW6GQ3"},jb=I_(qb),hr=Rb(jb),A_={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},Hb=()=>{const[s,e]=Wn.useState(null),[i,r]=Wn.useState(null),[u,h]=Wn.useState({board:Array(9).fill(null),isNext:"X",winner:null,status:"Waiting for player..."}),d=Wn.useRef(null),g=Wn.useRef(null),v=Wn.useRef([]),_=Wn.useCallback(()=>{v.current.forEach(J=>J()),v.current=[],g.current&&g.current.close(),d.current&&d.current.close(),d.current=null,g.current=null,e(null),r(null),h({board:Array(9).fill(null),isNext:"X",winner:null,status:"Waiting for player..."})},[]),A=Wn.useCallback(()=>{g.current&&(g.current.onopen=()=>{if(console.log("Data channel is open"),i==="X"){const J={board:Array(9).fill(null),isNext:"X",winner:null,status:"Player O has joined! X's turn."};g.current?.send(JSON.stringify(J)),h(J)}},g.current.onclose=()=>console.log("Data channel is closed"),g.current.onmessage=J=>{const F=JSON.parse(J.data);h(F)})},[i]);return{gameId:s,playerSymbol:i,gameState:u,createGame:async()=>{_();const J=new RTCPeerConnection(A_);d.current=J,r("X");const F=J.createDataChannel("gameData");g.current=F,A();const ft=Math.random().toString(36).substring(2,9),ut=jo(hr,"games",ft),rt=Lo(hr,"games",ft,"hostCandidates");J.onicecandidate=async b=>{b.candidate&&await T_(rt,b.candidate.toJSON())};const Tt=await J.createOffer();await J.setLocalDescription(Tt);const dt={sdp:Tt.sdp,type:Tt.type};await Pb(ut,{offer:dt}),e(ft),h(b=>({...b,status:"Waiting for player O to join..."}));const Dt=kf(ut,b=>{const O=b.data();if(!J.currentRemoteDescription&&O?.answer){const M=new RTCSessionDescription(O.answer);J.setRemoteDescription(M)}}),N=Lo(hr,"games",ft,"guestCandidates"),S=kf(N,b=>{b.docChanges().forEach(O=>{O.type==="added"&&J.addIceCandidate(new RTCIceCandidate(O.doc.data()))})});v.current.push(Dt,S)},joinGame:async J=>{_();const F=new RTCPeerConnection(A_);d.current=F,r("O");const ft=jo(hr,"games",J),ut=await zb(ft);if(!ut.exists()){alert("Game not found!"),_();return}e(J),F.ondatachannel=b=>{g.current=b.channel,A()};const rt=Lo(hr,"games",J,"guestCandidates");F.onicecandidate=async b=>{b.candidate&&await T_(rt,b.candidate.toJSON())};const Tt=ut.data().offer;await F.setRemoteDescription(new RTCSessionDescription(Tt));const dt=await F.createAnswer();await F.setLocalDescription(dt);const Dt={type:dt.type,sdp:dt.sdp};await Bb(ft,{answer:Dt});const N=Lo(hr,"games",J,"hostCandidates"),S=kf(N,b=>{b.docChanges().forEach(O=>{O.type==="added"&&F.addIceCandidate(new RTCIceCandidate(O.doc.data()))})});v.current.push(S)},makeMove:J=>{if(u.board[J]||u.winner||u.isNext!==i)return;const F=[...u.board];F[J]=i;const ft=i==="X"?"O":"X",ut=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let rt=null;for(const Dt of ut){const[N,S,b]=Dt;if(F[N]&&F[N]===F[S]&&F[N]===F[b]){rt=F[N];break}}!rt&&F.every(Boolean)&&(rt="draw");let Tt="";rt?Tt=rt==="draw"?"It's a Draw!":`Winner is ${rt}!`:Tt=`Next player: ${ft}`;const dt={board:F,isNext:ft,winner:rt,status:Tt};h(dt),g.current?.send(JSON.stringify(dt))},leaveGame:async()=>{s&&i==="X"&&await kb(jo(hr,"games",s)),_()}}},Gb=({onCreateGame:s,onJoinGame:e})=>{const[i,r]=Wn.useState(""),u=h=>{h.preventDefault(),i.trim()&&e(i)};return kt.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg",children:[kt.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:"Tic-Tac-Toe"}),kt.jsx("button",{onClick:s,className:"w-full px-4 py-2 text-lg font-semibold text-white bg-cyan-600 rounded-md hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition",children:"Create New Game"}),kt.jsxs("div",{className:"relative flex items-center justify-center",children:[kt.jsx("div",{className:"absolute inset-0 flex items-center",children:kt.jsx("div",{className:"w-full border-t border-gray-600"})}),kt.jsx("div",{className:"relative px-2 text-sm text-gray-400 bg-gray-800",children:"OR"})]}),kt.jsxs("form",{onSubmit:u,className:"space-y-4",children:[kt.jsx("input",{type:"text",placeholder:"Enter Game ID to Join",value:i,onChange:h=>r(h.target.value),className:"w-full px-4 py-2 text-white bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500"}),kt.jsx("button",{type:"submit",className:"w-full px-4 py-2 font-semibold text-white bg-gray-600 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition",children:"Join Game"})]})]})},Qb=({gameId:s,playerSymbol:e,gameState:i,onMakeMove:r,onLeaveGame:u})=>{const h=d=>{i.isNext===e&&!i.board[d]&&!i.winner&&r(d)};return kt.jsxs("div",{className:"w-full max-w-md p-6 space-y-4 bg-gray-800 rounded-lg shadow-lg text-center",children:[kt.jsxs("div",{className:"p-3 bg-gray-900 rounded-md",children:[kt.jsx("p",{className:"text-sm text-gray-400",children:"Game ID"}),kt.jsx("p",{className:"font-mono text-lg text-cyan-400 break-all",children:s})]}),kt.jsxs("div",{className:"flex justify-between items-center bg-gray-700 p-3 rounded-md",children:[kt.jsxs("p",{className:"text-lg text-white",children:["You are Player: ",kt.jsx("span",{className:"font-bold text-2xl",children:e})]}),kt.jsx("p",{className:`text-lg font-semibold px-3 py-1 rounded-md ${i.winner?"bg-yellow-500 text-black":"bg-gray-600 text-white"}`,children:i.status})]}),kt.jsx("div",{className:"grid grid-cols-3 gap-3 bg-gray-900 p-3 rounded-md",children:i.board.map((d,g)=>kt.jsx("button",{onClick:()=>h(g),className:`w-24 h-24 flex items-center justify-center text-5xl font-bold rounded-md transition 
              ${d==="X"?"text-red-400":"text-blue-400"}
              ${i.isNext===e&&!d&&!i.winner?"cursor-pointer bg-gray-700 hover:bg-gray-600":"bg-gray-800 cursor-not-allowed"}`,disabled:i.isNext!==e||!!d||!!i.winner,children:d},g))}),kt.jsx("button",{onClick:u,className:"w-full px-4 py-2 font-semibold text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition",children:"Leave Game"})]})},Fb=()=>{const{gameId:s,playerSymbol:e,gameState:i,createGame:r,joinGame:u,makeMove:h,leaveGame:d}=Hb();return kt.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:[kt.jsxs("header",{className:"text-center mb-8",children:[kt.jsx("h1",{className:"text-5xl font-bold text-cyan-400",children:"P2P Tic-Tac-Toe"}),kt.jsx("p",{className:"text-gray-400 mt-2",children:"Built with React, TypeScript, WebRTC & Firebase"})]}),kt.jsx("main",{className:"w-full flex items-center justify-center",children:s&&e?kt.jsx(Qb,{gameId:s,playerSymbol:e,gameState:i,onMakeMove:h,onLeaveGame:d}):kt.jsx(Gb,{onCreateGame:r,onJoinGame:u})})]})};QE.createRoot(document.getElementById("root")).render(kt.jsx(Wn.StrictMode,{children:kt.jsx(Fb,{})}));
