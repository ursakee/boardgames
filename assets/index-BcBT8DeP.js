const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BrainTrainBoard-Dbbi6ZfC.js","assets/x-CRDtMRLs.js","assets/useGameSession-BXvOYOOa.js","assets/BrainTrainLobbyPage-fKJ-p3ma.js","assets/circle-plus-BP_jmKdc.js","assets/BrainTrainGamePage-D75034V-.js","assets/users-DyNUyZSk.js","assets/log-out-BYepkYjg.js","assets/TicTacToeBoard-CA-FVc79.js","assets/TicTacToeLobbyPage-micskEdJ.js","assets/swords-D_AJkL43.js","assets/TicTacToeGamePage-C5lNTOvW.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function vv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ed={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function t1(){if(jy)return Jl;jy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=i,Jl.jsxs=i,Jl}var Hy;function e1(){return Hy||(Hy=1,ed.exports=t1()),ed.exports}var It=e1(),nd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function n1(){if(qy)return bt;qy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,G={};function j(V,tt,st){this.props=V,this.context=tt,this.refs=G,this.updater=st||I}j.prototype.isReactComponent={},j.prototype.setState=function(V,tt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,tt,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=j.prototype;function et(V,tt,st){this.props=V,this.context=tt,this.refs=G,this.updater=st||I}var nt=et.prototype=new F;nt.constructor=et,M(nt,j.prototype),nt.isPureReactComponent=!0;var lt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},yt=Object.prototype.hasOwnProperty;function N(V,tt,st,it,mt,Ct){return st=Ct.ref,{$$typeof:r,type:V,key:tt,ref:st!==void 0?st:null,props:Ct}}function w(V,tt){return N(V.type,tt,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function x(V){var tt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return tt[st]})}var P=/\/+/g;function U(V,tt){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):tt.toString(36)}function D(){}function Le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(tt){V.status==="pending"&&(V.status="fulfilled",V.value=tt)},function(tt){V.status==="pending"&&(V.status="rejected",V.reason=tt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,tt,st,it,mt){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Tt=!1;if(V===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(V.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=V._init,se(Tt(V._payload),tt,st,it,mt)}}if(Tt)return mt=mt(V),Tt=it===""?"."+U(V,0):it,lt(mt)?(st="",Tt!=null&&(st=Tt.replace(P,"$&/")+"/"),se(mt,tt,st,"",function(Gn){return Gn})):mt!=null&&(R(mt)&&(mt=w(mt,st+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(P,"$&/")+"/")+Tt)),tt.push(mt)),1;Tt=0;var Ie=it===""?".":it+":";if(lt(V))for(var Zt=0;Zt<V.length;Zt++)it=V[Zt],Ct=Ie+U(it,Zt),Tt+=se(it,tt,st,Ct,mt);else if(Zt=b(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(it=V.next()).done;)it=it.value,Ct=Ie+U(it,Zt++),Tt+=se(it,tt,st,Ct,mt);else if(Ct==="object"){if(typeof V.then=="function")return se(Le(V),tt,st,it,mt);throw tt=String(V),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function Y(V,tt,st){if(V==null)return V;var it=[],mt=0;return se(V,it,"","",function(Ct){return tt.call(st,Ct,mt++)}),it}function at(V){if(V._status===-1){var tt=V._result;tt=tt(),tt.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=tt)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function kt(){}return bt.Children={map:Y,forEach:function(V,tt,st){Y(V,function(){tt.apply(this,arguments)},st)},count:function(V){var tt=0;return Y(V,function(){tt++}),tt},toArray:function(V){return Y(V,function(tt){return tt})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=j,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=et,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ut.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,tt,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=M({},V.props),mt=V.key,Ct=void 0;if(tt!=null)for(Tt in tt.ref!==void 0&&(Ct=void 0),tt.key!==void 0&&(mt=""+tt.key),tt)!yt.call(tt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&tt.ref===void 0||(it[Tt]=tt[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=st;else if(1<Tt){for(var Ie=Array(Tt),Zt=0;Zt<Tt;Zt++)Ie[Zt]=arguments[Zt+2];it.children=Ie}return N(V.type,mt,void 0,void 0,Ct,it)},bt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},bt.createElement=function(V,tt,st){var it,mt={},Ct=null;if(tt!=null)for(it in tt.key!==void 0&&(Ct=""+tt.key),tt)yt.call(tt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=tt[it]);var Tt=arguments.length-2;if(Tt===1)mt.children=st;else if(1<Tt){for(var Ie=Array(Tt),Zt=0;Zt<Tt;Zt++)Ie[Zt]=arguments[Zt+2];mt.children=Ie}if(V&&V.defaultProps)for(it in Tt=V.defaultProps,Tt)mt[it]===void 0&&(mt[it]=Tt[it]);return N(V,Ct,void 0,void 0,null,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:m,render:V}},bt.isValidElement=R,bt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:at}},bt.memo=function(V,tt){return{$$typeof:g,type:V,compare:tt===void 0?null:tt}},bt.startTransition=function(V){var tt=ut.T,st={};ut.T=st;try{var it=V(),mt=ut.S;mt!==null&&mt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(kt,dt)}catch(Ct){dt(Ct)}finally{ut.T=tt}},bt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},bt.use=function(V){return ut.H.use(V)},bt.useActionState=function(V,tt,st){return ut.H.useActionState(V,tt,st)},bt.useCallback=function(V,tt){return ut.H.useCallback(V,tt)},bt.useContext=function(V){return ut.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,tt){return ut.H.useDeferredValue(V,tt)},bt.useEffect=function(V,tt,st){var it=ut.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(V,tt)},bt.useId=function(){return ut.H.useId()},bt.useImperativeHandle=function(V,tt,st){return ut.H.useImperativeHandle(V,tt,st)},bt.useInsertionEffect=function(V,tt){return ut.H.useInsertionEffect(V,tt)},bt.useLayoutEffect=function(V,tt){return ut.H.useLayoutEffect(V,tt)},bt.useMemo=function(V,tt){return ut.H.useMemo(V,tt)},bt.useOptimistic=function(V,tt){return ut.H.useOptimistic(V,tt)},bt.useReducer=function(V,tt,st){return ut.H.useReducer(V,tt,st)},bt.useRef=function(V){return ut.H.useRef(V)},bt.useState=function(V){return ut.H.useState(V)},bt.useSyncExternalStore=function(V,tt,st){return ut.H.useSyncExternalStore(V,tt,st)},bt.useTransition=function(){return ut.H.useTransition()},bt.version="19.1.0",bt}var Gy;function Gd(){return Gy||(Gy=1,nd.exports=n1()),nd.exports}var $=Gd();const Hn=vv($);var id={exports:{}},Wl={},rd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function i1(){return Fy||(Fy=1,function(r){function t(Y,at){var dt=Y.length;Y.push(at);t:for(;0<dt;){var kt=dt-1>>>1,V=Y[kt];if(0<o(V,at))Y[kt]=at,Y[dt]=V,dt=kt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var at=Y[0],dt=Y.pop();if(dt!==at){Y[0]=dt;t:for(var kt=0,V=Y.length,tt=V>>>1;kt<tt;){var st=2*(kt+1)-1,it=Y[st],mt=st+1,Ct=Y[mt];if(0>o(it,dt))mt<V&&0>o(Ct,it)?(Y[kt]=Ct,Y[mt]=dt,kt=mt):(Y[kt]=it,Y[st]=dt,kt=st);else if(mt<V&&0>o(Ct,dt))Y[kt]=Ct,Y[mt]=dt,kt=mt;else break t}}return at}function o(Y,at){var dt=Y.sortIndex-at.sortIndex;return dt!==0?dt:Y.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var y=[],g=[],E=1,S=null,b=3,I=!1,M=!1,G=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function lt(Y){for(var at=i(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=Y)s(g),at.sortIndex=at.expirationTime,t(y,at);else break;at=i(g)}}function ut(Y){if(G=!1,lt(Y),!M)if(i(y)!==null)M=!0,yt||(yt=!0,U());else{var at=i(g);at!==null&&se(ut,at.startTime-Y)}}var yt=!1,N=-1,w=5,R=-1;function x(){return j?!0:!(r.unstable_now()-R<w)}function P(){if(j=!1,yt){var Y=r.unstable_now();R=Y;var at=!0;try{t:{M=!1,G&&(G=!1,et(N),N=-1),I=!0;var dt=b;try{e:{for(lt(Y),S=i(y);S!==null&&!(S.expirationTime>Y&&x());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,b=S.priorityLevel;var V=kt(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof V=="function"){S.callback=V,lt(Y),at=!0;break e}S===i(y)&&s(y),lt(Y)}else s(y);S=i(y)}if(S!==null)at=!0;else{var tt=i(g);tt!==null&&se(ut,tt.startTime-Y),at=!1}}break t}finally{S=null,b=dt,I=!1}at=void 0}}finally{at?U():yt=!1}}}var U;if(typeof nt=="function")U=function(){nt(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Le=D.port2;D.port1.onmessage=P,U=function(){Le.postMessage(null)}}else U=function(){F(P,0)};function se(Y,at){N=F(function(){Y(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var dt=b;b=at;try{return Y()}finally{b=dt}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Y,at){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=b;b=Y;try{return at()}finally{b=dt}},r.unstable_scheduleCallback=function(Y,at,dt){var kt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,Y={id:E++,callback:at,priorityLevel:Y,startTime:dt,expirationTime:V,sortIndex:-1},dt>kt?(Y.sortIndex=dt,t(g,Y),i(y)===null&&Y===i(g)&&(G?(et(N),N=-1):G=!0,se(ut,dt-kt))):(Y.sortIndex=V,t(y,Y),M||I||(M=!0,yt||(yt=!0,U()))),Y},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Y){var at=b;return function(){var dt=b;b=at;try{return Y.apply(this,arguments)}finally{b=dt}}}}(ad)),ad}var Qy;function r1(){return Qy||(Qy=1,rd.exports=i1()),rd.exports}var sd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function a1(){if(Yy)return Ye;Yy=1;var r=Gd();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},Ye.flushSync=function(y){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=g,s.p=E,s.d.f()}},Ye.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:I}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:b,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ye.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Ye.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ye.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,g){return y(g)},Ye.useFormState=function(y,g,E){return h.H.useFormState(y,g,E)},Ye.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var Ky;function s1(){if(Ky)return sd.exports;Ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sd.exports=a1(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function l1(){if(Xy)return Wl;Xy=1;var r=r1(),t=Gd(),i=s1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===l)return m(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case j:return"Profiler";case G:return"StrictMode";case ut:return"Suspense";case yt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case nt:return(e.displayName||"Context")+".Provider";case et:return(e._context.displayName||"Context")+".Consumer";case lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Le(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Le(e(n))}catch{}}return null}var se=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],V=-1;function tt(e){return{current:e}}function st(e){0>V||(e.current=kt[V],kt[V]=null,V--)}function it(e,n){V++,kt[V]=e.current,e.current=n}var mt=tt(null),Ct=tt(null),Tt=tt(null),Ie=tt(null);function Zt(e,n){switch(it(Tt,n),it(Ct,e),it(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?gy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=gy(n),e=py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(mt),it(mt,e)}function Gn(){st(mt),st(Ct),st(Tt)}function Ki(e){e.memoizedState!==null&&it(Ie,e);var n=mt.current,a=py(n,e.type);n!==a&&(it(Ct,e),it(mt,a))}function pi(e){Ct.current===e&&(st(mt),st(Ct)),Ie.current===e&&(st(Ie),Yl._currentValue=dt)}var kr=Object.prototype.hasOwnProperty,Br=r.unstable_scheduleCallback,jr=r.unstable_cancelCallback,Gs=r.unstable_shouldYield,xo=r.unstable_requestPaint,vn=r.unstable_now,tf=r.unstable_getCurrentPriorityLevel,Fs=r.unstable_ImmediatePriority,xa=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,ef=r.unstable_LowPriority,Na=r.unstable_IdlePriority,Qs=r.log,No=r.unstable_setDisableYieldValue,le=null,qt=null;function un(e){if(typeof Qs=="function"&&No(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(le,e)}catch{}}var Fe=Math.clz32?Math.clz32:qr,Mo=Math.log,nf=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(Mo(e)/nf|0)|0}var Gr=256,Fr=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ma(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Nn(l):(v&=T,v!==0?f=Nn(v):a||(a=T&~e,a!==0&&(f=Nn(a))))):(T=l&~d,T!==0?f=Nn(T):v!==0?f=Nn(v):a||(a=l&~e,a!==0&&(f=Nn(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Qr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function Xs(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function yi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function _i(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $s(e,n,a,l,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Fe(a),Z=1<<K;T[K]=0,C[K]=-1;var H=B[K];if(H!==null)for(B[K]=null,K=0;K<H.length;K++){var q=H[K];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&Fn(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Fn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Fe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Zs(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Fe(a),f=1<<l;f&n|e[l]&n&&(e[l]|=n),a&=~f}}function Xi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Py(e.type))}function Po(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var ee=Math.random().toString(36).slice(2),Se="__reactFiber$"+ee,pe="__reactProps$"+ee,En="__reactContainer$"+ee,Js="__reactEvents$"+ee,rf="__reactListeners$"+ee,Zi="__reactHandles$"+ee,Lo="__reactResources$"+ee,Yr="__reactMarker$"+ee;function Ji(e){delete e[Se],delete e[pe],delete e[Js],delete e[rf],delete e[Zi]}function vi(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[En]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ey(e);e!==null;){if(a=e[Se])return a;e=Ey(e)}return n}e=a,a=e.parentNode}return null}function Qn(e){if(e=e[Se]||e[En]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function We(e){var n=e[Lo];return n||(n=e[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[Yr]=!0}var Ws=new Set,La={};function Mn(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(La[e]=n,e=0;e<n.length;e++)Ws.add(n[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Kr={};function ko(e){return kr.call(Kr,e)?!0:kr.call(zo,e)?!1:Uo.test(e)?Kr[e]=!0:(zo[e]=!0,!1)}function Wi(e,n,a){if(ko(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Kn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Xr,Bo;function Ti(e){if(Xr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",Bo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+Bo}var Ua=!1;function za(e,n){if(!e||Ua)return"";Ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var H=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){H=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){H=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),B=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var K=`
`+C[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=f);break}}}finally{Ua=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ti(a):""}function tl(e){switch(e.tag){case 26:case 27:case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return za(e.type,!1);case 11:return za(e.type.render,!1);case 1:return za(e.type,!0);case 31:return Ti("Activity");default:return""}}function ka(e){try{var n="";do n+=tl(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function el(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function af(e){var n=el(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ba(e){e._valueTracker||(e._valueTracker=af(e))}function nl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=el(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sf=/[\n"\\]/g;function ye(e){return e.replace(sf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cn(e,n,a,l,f,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+tn(n)):e.value!==""+tn(n)&&(e.value=""+tn(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?tr(e,v,tn(n)):a!=null?tr(e,v,tn(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function Zr(e,n,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+tn(a):"",n=n!=null?""+tn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function tr(e,n,a){n==="number"&&$r(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Si(e,n,a,l){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Qt(e,n,a){if(n!=null&&(n=""+tn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+tn(a):""}function Jr(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=tn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Tn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Wr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function il(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&jo(e,f,l)}else for(var d in n)n.hasOwnProperty(d)&&jo(e,d,n[d])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(e){return of.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ai=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,wi=null;function al(e){var n=Qn(e);if(n&&(e=n.stateNode)){var a=e[pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var f=l[pe]||null;if(!f)throw Error(s(90));cn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&nl(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Si(e,!!a.multiple,n,!1)}}}var Xn=!1;function Ho(e,n,a){if(Xn)return e(n,a);Xn=!0;try{var l=e(n);return l}finally{if(Xn=!1,(bi!==null||wi!==null)&&(Pu(),bi&&(n=bi,e=wi,wi=bi=null,al(n),e)))for(n=0;n<e.length;n++)al(e[n])}}function ta(e,n){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Pn)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){An=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{An=!1}var $n=null,er=null,Ri=null;function sl(){if(Ri)return Ri;var e,n=er,a=n.length,l,f="value"in $n?$n.value:$n.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===f[d-l];l++);return Ri=f.slice(e,1<l?1-l:void 0)}function Zn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function ll(){return!1}function Ve(e){function n(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:ll,this.isPropagationStopped=ll,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Ve(jt),na=E({},jt,{view:0,detail:0}),qo=Ve(na),qa,Ga,Wn,ia=E({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(qa=e.screenX-Wn.screenX,Ga=e.screenY-Wn.screenY):Ga=qa=0,Wn=e),qa)},movementY:function(e){return"movementY"in e?e.movementY:Ga}}),bn=Ve(ia),Go=E({},ia,{dataTransfer:0}),uf=Ve(Go),ra=E({},na,{relatedTarget:0}),Fa=Ve(ra),ol=E({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Ve(ol),Fo=E({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ya=Ve(Fo),cf=E({},jt,{data:0}),ul=Ve(cf),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Yo[e])?!!n[e]:!1}function sa(){return cl}var Ko=E({},na,{key:function(e){if(e.key){var n=aa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ka=Ve(Ko),Xo=E({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ve(Xo),Ci=E({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),$o=Ve(Ci),Zo=E({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=Ve(Zo),Wo=E({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Ve(Wo),en=E({},jt,{newState:0,oldState:0}),tu=Ve(en),eu=[9,13,27,32],ti=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var p=Pn&&"TextEvent"in window&&!c,_=Pn&&(!ti||c&&8<c&&11>=c),A=" ",z=!1;function Q(e,n){switch(e){case"keyup":return eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nt=!1;function Ae(e,n){switch(e){case"compositionend":return rt(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return e=n.data,e===A&&z?null:e;default:return null}}function Mt(e,n){if(Nt)return e==="compositionend"||!ti&&Q(e,n)?(e=sl(),Ri=er=$n=null,Nt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Oe[e.type]:n==="textarea"}function Di(e,n,a,l){bi?wi?wi.push(l):wi=[l]:bi=l,n=ju(n,"onChange"),0<n.length&&(a=new Ha("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var ze=null,ei=null;function hl(e){cy(e,0)}function nu(e){var n=Yn(e);if(nl(n))return e}function Om(e,n){if(e==="change")return n}var xm=!1;if(Pn){var ff;if(Pn){var hf="oninput"in document;if(!hf){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),hf=typeof Nm.oninput=="function"}ff=hf}else ff=!1;xm=ff&&(!document.documentMode||9<document.documentMode)}function Mm(){ze&&(ze.detachEvent("onpropertychange",Pm),ei=ze=null)}function Pm(e){if(e.propertyName==="value"&&nu(ei)){var n=[];Di(n,ei,e,Sn(e)),Ho(hl,n)}}function VE(e,n,a){e==="focusin"?(Mm(),ze=n,ei=a,ze.attachEvent("onpropertychange",Pm)):e==="focusout"&&Mm()}function OE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(ei)}function xE(e,n){if(e==="click")return nu(n)}function NE(e,n){if(e==="input"||e==="change")return nu(n)}function ME(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:ME;function dl(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!kr.call(n,f)||!fn(e[f],n[f]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,n){var a=Lm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Lm(a)}}function zm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=$r(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=$r(e.document)}return n}function df(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PE=Pn&&"documentMode"in document&&11>=document.documentMode,$a=null,mf=null,ml=null,gf=!1;function Bm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||$a==null||$a!==$r(l)||(l=$a,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=ju(mf,"onSelect"),0<l.length&&(n=new Ha("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=$a)))}function la(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Za={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},pf={},jm={};Pn&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function oa(e){if(pf[e])return pf[e];if(!Za[e])return e;var n=Za[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jm)return pf[e]=n[a];return e}var Hm=oa("animationend"),qm=oa("animationiteration"),Gm=oa("animationstart"),LE=oa("transitionrun"),UE=oa("transitionstart"),zE=oa("transitioncancel"),Fm=oa("transitionend"),Qm=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Ln(e,n){Qm.set(e,n),Mn(n,[e])}var Ym=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var a=Ym.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ka(n)},Ym.set(e,n),n)}return{value:e,source:n,stack:ka(n)}}var Rn=[],Ja=0,_f=0;function iu(){for(var e=Ja,n=_f=Ja=0;n<e;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var f=Rn[n];Rn[n++]=null;var d=Rn[n];if(Rn[n++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Km(a,f,d)}}function ru(e,n,a,l){Rn[Ja++]=e,Rn[Ja++]=n,Rn[Ja++]=a,Rn[Ja++]=l,_f|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vf(e,n,a,l){return ru(e,n,a,l),au(e)}function Wa(e,n){return ru(e,null,null,n),au(e)}function Km(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-Fe(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=a|536870912),d):null}function au(e){if(50<kl)throw kl=0,wh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ts={};function kE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,a,l){return new kE(e,n,a,l)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,n){var a=e.alternate;return a===null?(a=hn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Xm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function su(e,n,a,l,f,d){var v=0;if(l=e,typeof e=="function")Ef(e)&&(v=1);else if(typeof e=="string")v=jT(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=hn(31,a,n,f),e.elementType=R,e.lanes=d,e;case M:return ua(a.children,f,d,n);case G:v=8,f|=24;break;case j:return e=hn(12,a,n,f|2),e.elementType=j,e.lanes=d,e;case ut:return e=hn(13,a,n,f),e.elementType=ut,e.lanes=d,e;case yt:return e=hn(19,a,n,f),e.elementType=yt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:case nt:v=10;break t;case et:v=9;break t;case lt:v=11;break t;case N:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=hn(v,a,n,f),n.elementType=e,n.type=l,n.lanes=d,n}function ua(e,n,a,l){return e=hn(7,e,l,n),e.lanes=a,e}function Tf(e,n,a){return e=hn(6,e,null,n),e.lanes=a,e}function Sf(e,n,a){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var es=[],ns=0,lu=null,ou=0,Cn=[],Dn=0,ca=null,Vi=1,Oi="";function fa(e,n){es[ns++]=ou,es[ns++]=lu,lu=e,ou=n}function $m(e,n,a){Cn[Dn++]=Vi,Cn[Dn++]=Oi,Cn[Dn++]=ca,ca=e;var l=Vi;e=Oi;var f=32-Fe(l)-1;l&=~(1<<f),a+=1;var d=32-Fe(n)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Vi=1<<32-Fe(n)+f|a<<f|l,Oi=d+e}else Vi=1<<d|a<<f|l,Oi=e}function Af(e){e.return!==null&&(fa(e,1),$m(e,1,0))}function bf(e){for(;e===lu;)lu=es[--ns],es[ns]=null,ou=es[--ns],es[ns]=null;for(;e===ca;)ca=Cn[--Dn],Cn[Dn]=null,Oi=Cn[--Dn],Cn[Dn]=null,Vi=Cn[--Dn],Cn[Dn]=null}var nn=null,oe=null,Bt=!1,ha=null,ni=!1,wf=Error(s(519));function da(e){var n=Error(s(418,""));throw yl(wn(n,e)),wf}function Zm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Se]=e,n[pe]=l,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<jl.length;a++)Ot(jl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ba(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Jr(n,l.value,l.defaultValue,l.children),Ba(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||my(n.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||da(e)}function Jm(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function gl(e){if(e!==nn)return!1;if(!Bt)return Jm(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jh(e.type,e.memoizedProps)),a=!a),a&&oe&&da(e),Jm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){oe=zn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,yr(e.type)?(e=Fh,Fh=null,oe=e):oe=n):oe=nn?zn(e.stateNode.nextSibling):null;return!0}function pl(){oe=nn=null,Bt=!1}function Wm(){var e=ha;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),ha=null),e}function yl(e){ha===null?ha=[e]:ha.push(e)}var Rf=tt(null),ma=null,xi=null;function nr(e,n,a){it(Rf,n._currentValue),n._currentValue=a}function Ni(e){e._currentValue=Rf.current,st(Rf)}function Cf(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Df(e,n,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Cf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Cf(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function _l(e,n,a,l){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;fn(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===Ie.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}f=f.return}e!==null&&Df(n,e,a,l),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ga(e){ma=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return tg(ma,e)}function cu(e,n){return ma===null&&ga(e),tg(e,n)}function tg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xi===null){if(e===null)throw Error(s(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return a}var BE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},jE=r.unstable_scheduleCallback,HE=r.unstable_NormalPriority,we={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new BE,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&jE(HE,function(){e.controller.abort()})}var El=null,Vf=0,is=0,rs=null;function qE(e,n){if(El===null){var a=El=[];Vf=0,is=xh(),rs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,n.then(eg,eg),n}function eg(){if(--Vf===0&&El!==null){rs!==null&&(rs.status="fulfilled");var e=El;El=null,is=0,rs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function GE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ng=Y.S;Y.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qE(e,n),ng!==null&&ng(e,n)};var pa=tt(null);function Of(){var e=pa.current;return e!==null?e:Jt.pooledCache}function fu(e,n){n===null?it(pa,pa.current):it(pa,n.pool)}function ig(){var e=Of();return e===null?null:{parent:we._currentValue,pool:e}}var Tl=Error(s(460)),rg=Error(s(474)),hu=Error(s(542)),xf={then:function(){}};function ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function du(){}function sg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(du,du),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e;default:if(typeof n.status=="string")n.then(du,du);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e}throw Sl=n,Tl}}var Sl=null;function lg(){if(Sl===null)throw Error(s(459));var e=Sl;return Sl=null,e}function og(e){if(e===Tl||e===hu)throw Error(s(483))}var ir=!1;function Nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=au(e),Km(e,null,a),n}return ru(e,l,n,a),au(e)}function Al(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zs(e,a)}}function Pf(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Lf=!1;function bl(){if(Lf){var e=rs;if(e!==null)throw e}}function wl(e,n,a,l){Lf=!1;var f=e.updateQueue;ir=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,B=C.next;C.next=null,v===null?d=B:v.next=B,v=C;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=C))}if(d!==null){var Z=f.baseState;v=0,K=B=C=null,T=d;do{var H=T.lane&-536870913,q=H!==T.lane;if(q?(Pt&H)===H:(l&H)===H){H!==0&&H===is&&(Lf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=e,pt=T;H=n;var Xt=a;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){Z=Et.call(Xt,Z,H);break t}Z=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,H=typeof Et=="function"?Et.call(Xt,Z,H):Et,H==null)break t;Z=E({},Z,H);break t;case 2:ir=!0}}H=T.callback,H!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[H]:q.push(H))}else q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=q,C=Z):K=K.next=q,v|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;q=T,T=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),dr|=v,e.lanes=v,e.memoizedState=Z}}function ug(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function cg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ug(a[e],n)}var as=tt(null),mu=tt(0);function fg(e,n){e=Bi,it(mu,e),it(as,n),Bi=e|n.baseLanes}function Uf(){it(mu,Bi),it(as,as.current)}function zf(){Bi=mu.current,st(as),st(mu)}var sr=0,wt=null,Yt=null,_e=null,gu=!1,ss=!1,ya=!1,pu=0,Rl=0,ls=null,FE=0;function he(){throw Error(s(321))}function kf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!fn(e[a],n[a]))return!1;return!0}function Bf(e,n,a,l,f,d){return sr=d,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?Kg:Xg,ya=!1,d=a(l,f),ya=!1,ss&&(d=dg(n,a,l,f)),hg(e),d}function hg(e){Y.H=Su;var n=Yt!==null&&Yt.next!==null;if(sr=0,_e=Yt=wt=null,gu=!1,Rl=0,ls=null,n)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&uu(e)&&(xe=!0))}function dg(e,n,a,l){wt=e;var f=0;do{if(ss&&(ls=null),Rl=0,ss=!1,25<=f)throw Error(s(301));if(f+=1,_e=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=JE,d=n(a,l)}while(ss);return d}function QE(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(wt.flags|=1024),n}function jf(){var e=pu!==0;return pu=0,e}function Hf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function qf(e){if(gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gu=!1}sr=0,_e=Yt=wt=null,ss=!1,Rl=pu=0,ls=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?wt.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Yt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=_e===null?wt.memoizedState:_e.next;if(n!==null)_e=n,Yt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},_e===null?wt.memoizedState=_e=e:_e=_e.next=e}return _e}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=Rl;return Rl+=1,ls===null&&(ls=[]),e=sg(ls,e,n),n=wt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Kg:Xg),e}function yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===nt)return Qe(e)}throw Error(s(438,String(e)))}function Ff(e){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gf(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=x;return n.index++,a}function Mi(e,n){return typeof n=="function"?n(e):n}function _u(e){var n=ve();return Qf(n,Yt,e)}function Qf(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var T=v=null,C=null,B=n,K=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Pt&Z)===Z:(sr&Z)===Z){var H=B.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===is&&(K=!0);else if((sr&H)===H){B=B.next,H===is&&(K=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=Z,v=d):C=C.next=Z,wt.lanes|=H,dr|=H;Z=B.action,ya&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=H,v=d):C=C.next=H,wt.lanes|=Z,dr|=Z;B=B.next}while(B!==null&&B!==n);if(C===null?v=d:C.next=T,!fn(d,e.memoizedState)&&(xe=!0,K&&(a=rs,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yf(e){var n=ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);fn(d,n.memoizedState)||(xe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function mg(e,n,a){var l=wt,f=ve(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!fn((Yt||f).memoizedState,a);v&&(f.memoizedState=a,xe=!0),f=f.queue;var T=yg.bind(null,l,f,e);if(Dl(2048,8,T,[e]),f.getSnapshot!==n||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,os(9,vu(),pg.bind(null,l,f,a,n),null),Jt===null)throw Error(s(349));d||(sr&124)!==0||gg(l,n,a)}return a}function gg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=Gf(),wt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function pg(e,n,a,l){n.value=a,n.getSnapshot=l,_g(n)&&vg(e)}function yg(e,n,a){return a(function(){_g(n)&&vg(e)})}function _g(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!fn(e,a)}catch{return!0}}function vg(e){var n=Wa(e,2);n!==null&&yn(n,e,2)}function Kf(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),ya){un(!0);try{a()}finally{un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},n}function Eg(e,n,a,l){return e.baseState=a,Qf(e,Yt,typeof l=="function"?l:Mi)}function YE(e,n,a,l,f){if(Tu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Tg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Tg(e,n){var a=n.action,l=n.payload,f=e.state;if(n.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(f,l),C=Y.S;C!==null&&C(v,T),Sg(e,n,T)}catch(B){Xf(e,n,B)}finally{Y.T=d}}else try{d=a(f,l),Sg(e,n,d)}catch(B){Xf(e,n,B)}}function Sg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ag(e,n,l)},function(l){return Xf(e,n,l)}):Ag(e,n,a)}function Ag(e,n,a){n.status="fulfilled",n.value=a,bg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Tg(e,a)))}function Xf(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,bg(n),n=n.next;while(n!==l)}e.action=null}function bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wg(e,n){return n}function Rg(e,n){if(Bt){var a=Jt.formState;if(a!==null){t:{var l=wt;if(Bt){if(oe){e:{for(var f=oe,d=ni;f.nodeType!==8;){if(!d){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){oe=zn(f.nextSibling),l=f.data==="F!";break t}}da(l)}l=!1}l&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},a.queue=l,a=Fg.bind(null,wt,l),l.dispatch=a,l=Kf(!1),d=th.bind(null,wt,!1,l.queue),l=rn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,a=YE.bind(null,wt,f,d,a),f.dispatch=a,l.memoizedState=e,[n,a,!1]}function Cg(e){var n=ve();return Dg(n,Yt,e)}function Dg(e,n,a){if(n=Qf(e,n,wg)[0],e=_u(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Cl(n)}catch(v){throw v===Tl?hu:v}else l=n;n=ve();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,os(9,vu(),KE.bind(null,f,a),null)),[l,d,e]}function KE(e,n){e.action=n}function Ig(e){var n=ve(),a=Yt;if(a!==null)return Dg(n,a,e);ve(),n=n.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function os(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Gf(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function vu(){return{destroy:void 0,resource:void 0}}function Vg(){return ve().memoizedState}function Eu(e,n,a,l){var f=rn();l=l===void 0?null:l,wt.flags|=e,f.memoizedState=os(1|n,vu(),a,l)}function Dl(e,n,a,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Yt!==null&&l!==null&&kf(l,Yt.memoizedState.deps)?f.memoizedState=os(n,d,a,l):(wt.flags|=e,f.memoizedState=os(1|n,d,a,l))}function Og(e,n){Eu(8390656,8,e,n)}function xg(e,n){Dl(2048,8,e,n)}function Ng(e,n){return Dl(4,2,e,n)}function Mg(e,n){return Dl(4,4,e,n)}function Pg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lg(e,n,a){a=a!=null?a.concat([e]):null,Dl(4,4,Pg.bind(null,n,e),a)}function $f(){}function Ug(e,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&kf(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function zg(e,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&kf(n,l[1]))return l[0];if(l=e(),ya){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,n],l}function Zf(e,n,a){return a===void 0||(sr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=jp(),wt.lanes|=e,dr|=e,a)}function kg(e,n,a,l){return fn(a,n)?a:as.current!==null?(e=Zf(e,a,l),fn(e,n)||(xe=!0),e):(sr&42)===0?(xe=!0,e.memoizedState=a):(e=jp(),wt.lanes|=e,dr|=e,n)}function Bg(e,n,a,l,f){var d=at.p;at.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,th(e,!1,n,a);try{var C=f(),B=Y.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=GE(C,l);Il(e,n,K,pn(e))}else Il(e,n,l,pn(e))}catch(Z){Il(e,n,{then:function(){},status:"rejected",reason:Z},pn())}finally{at.p=d,Y.T=v}}function XE(){}function Jf(e,n,a,l){if(e.tag!==5)throw Error(s(476));var f=jg(e).queue;Bg(e,f,n,dt,a===null?XE:function(){return Hg(e),a(l)})}function jg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hg(e){var n=jg(e).next.queue;Il(e,n,{},pn())}function Wf(){return Qe(Yl)}function qg(){return ve().memoizedState}function Gg(){return ve().memoizedState}function $E(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();e=rr(a);var l=ar(n,e,a);l!==null&&(yn(l,n,a),Al(l,n,a)),n={cache:If()},e.payload=n;return}n=n.return}}function ZE(e,n,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(e)?Qg(n,a):(a=vf(e,n,a,l),a!==null&&(yn(a,e,l),Yg(a,n,l)))}function Fg(e,n,a){var l=pn();Il(e,n,a,l)}function Il(e,n,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))Qg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,fn(T,v))return ru(e,n,f,0),Jt===null&&iu(),!1}catch{}finally{}if(a=vf(e,n,f,l),a!==null)return yn(a,e,l),Yg(a,n,l),!0}return!1}function th(e,n,a,l){if(l={lane:2,revertLane:xh(),action:l,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(s(479))}else n=vf(e,a,l,2),n!==null&&yn(n,e,2)}function Tu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Qg(e,n){ss=gu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Yg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zs(e,a)}}var Su={readContext:Qe,use:yu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Kg={readContext:Qe,use:yu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:Og,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Eu(4194308,4,Pg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Eu(4194308,4,e,n)},useInsertionEffect:function(e,n){Eu(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var l=e();if(ya){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=rn();if(a!==void 0){var f=a(n);if(ya){un(!0);try{a(n)}finally{un(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=ZE.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Kf(e);var n=e.queue,a=Fg.bind(null,wt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(e,n){var a=rn();return Zf(a,e,n)},useTransition:function(){var e=Kf(!1);return e=Bg.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=wt,f=rn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Pt&124)!==0||gg(l,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,Og(yg.bind(null,l,d,e),[e]),l.flags|=2048,os(9,vu(),pg.bind(null,l,d,a,n),null),a},useId:function(){var e=rn(),n=Jt.identifierPrefix;if(Bt){var a=Oi,l=Vi;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=pu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=FE++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Wf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=th.bind(null,wt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ff,useCacheRefresh:function(){return rn().memoizedState=$E.bind(null,wt)}},Xg={readContext:Qe,use:yu,useCallback:Ug,useContext:Qe,useEffect:xg,useImperativeHandle:Lg,useInsertionEffect:Ng,useLayoutEffect:Mg,useMemo:zg,useReducer:_u,useRef:Vg,useState:function(){return _u(Mi)},useDebugValue:$f,useDeferredValue:function(e,n){var a=ve();return kg(a,Yt.memoizedState,e,n)},useTransition:function(){var e=_u(Mi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:mg,useId:qg,useHostTransitionStatus:Wf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,n){var a=ve();return Eg(a,Yt,e,n)},useMemoCache:Ff,useCacheRefresh:Gg},JE={readContext:Qe,use:yu,useCallback:Ug,useContext:Qe,useEffect:xg,useImperativeHandle:Lg,useInsertionEffect:Ng,useLayoutEffect:Mg,useMemo:zg,useReducer:Yf,useRef:Vg,useState:function(){return Yf(Mi)},useDebugValue:$f,useDeferredValue:function(e,n){var a=ve();return Yt===null?Zf(a,e,n):kg(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Yf(Mi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:mg,useId:qg,useHostTransitionStatus:Wf,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var a=ve();return Yt!==null?Eg(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:Gg},us=null,Vl=0;function Au(e){var n=Vl;return Vl+=1,us===null&&(us=[]),sg(us,e,n)}function Ol(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $g(e){var n=e._init;return n(e._payload)}function Zg(e){function n(L,O){if(e){var k=L.deletions;k===null?(L.deletions=[O],L.flags|=16):k.push(O)}}function a(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Ii(L,O),L.index=0,L.sibling=null,L}function d(L,O,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<O?(L.flags|=67108866,O):k):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,k,X){return O===null||O.tag!==6?(O=Tf(k,L.mode,X),O.return=L,O):(O=f(O,k),O.return=L,O)}function C(L,O,k,X){var ct=k.type;return ct===M?K(L,O,k.props.children,X,k.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&$g(ct)===O.type)?(O=f(O,k.props),Ol(O,k),O.return=L,O):(O=su(k.type,k.key,k.props,null,L.mode,X),Ol(O,k),O.return=L,O)}function B(L,O,k,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Sf(k,L.mode,X),O.return=L,O):(O=f(O,k.children||[]),O.return=L,O)}function K(L,O,k,X,ct){return O===null||O.tag!==7?(O=ua(k,L.mode,X,ct),O.return=L,O):(O=f(O,k),O.return=L,O)}function Z(L,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Tf(""+O,L.mode,k),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return k=su(O.type,O.key,O.props,null,L.mode,k),Ol(k,O),k.return=L,k;case I:return O=Sf(O,L.mode,k),O.return=L,O;case w:var X=O._init;return O=X(O._payload),Z(L,O,k)}if(se(O)||U(O))return O=ua(O,L.mode,k,null),O.return=L,O;if(typeof O.then=="function")return Z(L,Au(O),k);if(O.$$typeof===nt)return Z(L,cu(L,O),k);bu(L,O)}return null}function H(L,O,k,X){var ct=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:T(L,O,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===ct?C(L,O,k,X):null;case I:return k.key===ct?B(L,O,k,X):null;case w:return ct=k._init,k=ct(k._payload),H(L,O,k,X)}if(se(k)||U(k))return ct!==null?null:K(L,O,k,X,null);if(typeof k.then=="function")return H(L,O,Au(k),X);if(k.$$typeof===nt)return H(L,O,cu(L,k),X);bu(L,k)}return null}function q(L,O,k,X,ct){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(k)||null,T(O,L,""+X,ct);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return L=L.get(X.key===null?k:X.key)||null,C(O,L,X,ct);case I:return L=L.get(X.key===null?k:X.key)||null,B(O,L,X,ct);case w:var Dt=X._init;return X=Dt(X._payload),q(L,O,k,X,ct)}if(se(X)||U(X))return L=L.get(k)||null,K(O,L,X,ct,null);if(typeof X.then=="function")return q(L,O,k,Au(X),ct);if(X.$$typeof===nt)return q(L,O,k,cu(O,X),ct);bu(O,X)}return null}function Et(L,O,k,X){for(var ct=null,Dt=null,ht=O,_t=O=0,Me=null;ht!==null&&_t<k.length;_t++){ht.index>_t?(Me=ht,ht=null):Me=ht.sibling;var zt=H(L,ht,k[_t],X);if(zt===null){ht===null&&(ht=Me);break}e&&ht&&zt.alternate===null&&n(L,ht),O=d(zt,O,_t),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt,ht=Me}if(_t===k.length)return a(L,ht),Bt&&fa(L,_t),ct;if(ht===null){for(;_t<k.length;_t++)ht=Z(L,k[_t],X),ht!==null&&(O=d(ht,O,_t),Dt===null?ct=ht:Dt.sibling=ht,Dt=ht);return Bt&&fa(L,_t),ct}for(ht=l(ht);_t<k.length;_t++)Me=q(ht,L,_t,k[_t],X),Me!==null&&(e&&Me.alternate!==null&&ht.delete(Me.key===null?_t:Me.key),O=d(Me,O,_t),Dt===null?ct=Me:Dt.sibling=Me,Dt=Me);return e&&ht.forEach(function(Sr){return n(L,Sr)}),Bt&&fa(L,_t),ct}function pt(L,O,k,X){if(k==null)throw Error(s(151));for(var ct=null,Dt=null,ht=O,_t=O=0,Me=null,zt=k.next();ht!==null&&!zt.done;_t++,zt=k.next()){ht.index>_t?(Me=ht,ht=null):Me=ht.sibling;var Sr=H(L,ht,zt.value,X);if(Sr===null){ht===null&&(ht=Me);break}e&&ht&&Sr.alternate===null&&n(L,ht),O=d(Sr,O,_t),Dt===null?ct=Sr:Dt.sibling=Sr,Dt=Sr,ht=Me}if(zt.done)return a(L,ht),Bt&&fa(L,_t),ct;if(ht===null){for(;!zt.done;_t++,zt=k.next())zt=Z(L,zt.value,X),zt!==null&&(O=d(zt,O,_t),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt);return Bt&&fa(L,_t),ct}for(ht=l(ht);!zt.done;_t++,zt=k.next())zt=q(ht,L,_t,zt.value,X),zt!==null&&(e&&zt.alternate!==null&&ht.delete(zt.key===null?_t:zt.key),O=d(zt,O,_t),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt);return e&&ht.forEach(function(WT){return n(L,WT)}),Bt&&fa(L,_t),ct}function Xt(L,O,k,X){if(typeof k=="object"&&k!==null&&k.type===M&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:t:{for(var ct=k.key;O!==null;){if(O.key===ct){if(ct=k.type,ct===M){if(O.tag===7){a(L,O.sibling),X=f(O,k.props.children),X.return=L,L=X;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&$g(ct)===O.type){a(L,O.sibling),X=f(O,k.props),Ol(X,k),X.return=L,L=X;break t}a(L,O);break}else n(L,O);O=O.sibling}k.type===M?(X=ua(k.props.children,L.mode,X,k.key),X.return=L,L=X):(X=su(k.type,k.key,k.props,null,L.mode,X),Ol(X,k),X.return=L,L=X)}return v(L);case I:t:{for(ct=k.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(L,O.sibling),X=f(O,k.children||[]),X.return=L,L=X;break t}else{a(L,O);break}else n(L,O);O=O.sibling}X=Sf(k,L.mode,X),X.return=L,L=X}return v(L);case w:return ct=k._init,k=ct(k._payload),Xt(L,O,k,X)}if(se(k))return Et(L,O,k,X);if(U(k)){if(ct=U(k),typeof ct!="function")throw Error(s(150));return k=ct.call(k),pt(L,O,k,X)}if(typeof k.then=="function")return Xt(L,O,Au(k),X);if(k.$$typeof===nt)return Xt(L,O,cu(L,k),X);bu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(L,O.sibling),X=f(O,k),X.return=L,L=X):(a(L,O),X=Tf(k,L.mode,X),X.return=L,L=X),v(L)):a(L,O)}return function(L,O,k,X){try{Vl=0;var ct=Xt(L,O,k,X);return us=null,ct}catch(ht){if(ht===Tl||ht===hu)throw ht;var Dt=hn(29,ht,null,L.mode);return Dt.lanes=X,Dt.return=L,Dt}finally{}}}var cs=Zg(!0),Jg=Zg(!1),In=tt(null),ii=null;function lr(e){var n=e.alternate;it(Re,Re.current&1),it(In,e),ii===null&&(n===null||as.current!==null||n.memoizedState!==null)&&(ii=e)}function Wg(e){if(e.tag===22){if(it(Re,Re.current),it(In,e),ii===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ii=e)}}else or()}function or(){it(Re,Re.current),it(In,In.current)}function Pi(e){st(In),ii===e&&(ii=null),st(Re)}var Re=tt(0);function wu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function eh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=pn(),f=rr(l);f.payload=n,a!=null&&(f.callback=a),n=ar(e,f,l),n!==null&&(yn(n,e,l),Al(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=pn(),f=rr(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=ar(e,f,l),n!==null&&(yn(n,e,l),Al(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=pn(),l=rr(a);l.tag=2,n!=null&&(l.callback=n),n=ar(e,l,a),n!==null&&(yn(n,e,a),Al(n,e,a))}};function tp(e,n,a,l,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!dl(a,l)||!dl(f,d):!0}function ep(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&nh.enqueueReplaceState(n,n.state,null)}function _a(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function np(e){Ru(e)}function ip(e){console.error(e)}function rp(e){Ru(e)}function Cu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ap(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ih(e,n,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(e,n)},a}function sp(e){return e=rr(e),e.tag=3,e}function lp(e,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){ap(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){ap(n,a,l),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function WE(e,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&_l(n,a,f,!0),a=In.current,a!==null){switch(a.tag){case 13:return ii===null?Ch():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ih(e,l,f)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ih(e,l,f)),!1}throw Error(s(435,a.tag))}return Ih(e,l,f),Ch(),!1}if(Bt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==wf&&(e=Error(s(422),{cause:l}),yl(wn(e,a)))):(l!==wf&&(n=Error(s(423),{cause:l}),yl(wn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=wn(l,a),f=ih(e.stateNode,l,f),Pf(e,f),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),zl===null?zl=[d]:zl.push(d),ue!==4&&(ue=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=ih(a.stateNode,l,e),Pf(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(mr===null||!mr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=sp(f),lp(f,e,a,l),Pf(a,f),!1}a=a.return}while(a!==null);return!1}var op=Error(s(461)),xe=!1;function ke(e,n,a,l){n.child=e===null?Jg(n,null,a,l):cs(n,e.child,a,l)}function up(e,n,a,l,f){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ga(n),l=Bf(e,n,a,v,d,f),T=jf(),e!==null&&!xe?(Hf(e,n,f),Li(e,n,f)):(Bt&&T&&Af(n),n.flags|=1,ke(e,n,l,f),n.child)}function cp(e,n,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,fp(e,n,d,l,f)):(e=su(a.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!fh(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,l)&&e.ref===n.ref)return Li(e,n,f)}return n.flags|=1,e=Ii(d,l),e.ref=n.ref,e.return=n,n.child=e}function fp(e,n,a,l,f){if(e!==null){var d=e.memoizedProps;if(dl(d,l)&&e.ref===n.ref)if(xe=!1,n.pendingProps=l=d,fh(e,f))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,Li(e,n,f)}return rh(e,n,a,l,f)}function hp(e,n,a){var l=n.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return dp(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fu(n,d!==null?d.cachePool:null),d!==null?fg(n,d):Uf(),Wg(n);else return n.lanes=n.childLanes=536870912,dp(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(fu(n,d.cachePool),fg(n,d),or(),n.memoizedState=null):(e!==null&&fu(n,null),Uf(),or());return ke(e,n,f,a),n.child}function dp(e,n,a,l){var f=Of();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&fu(n,null),Uf(),Wg(n),e!==null&&_l(e,n,l,!0),null}function Du(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function rh(e,n,a,l,f){return ga(n),a=Bf(e,n,a,l,void 0,f),l=jf(),e!==null&&!xe?(Hf(e,n,f),Li(e,n,f)):(Bt&&l&&Af(n),n.flags|=1,ke(e,n,a,f),n.child)}function mp(e,n,a,l,f,d){return ga(n),n.updateQueue=null,a=dg(n,l,a,f),hg(e),l=jf(),e!==null&&!xe?(Hf(e,n,d),Li(e,n,d)):(Bt&&l&&Af(n),n.flags|=1,ke(e,n,a,d),n.child)}function gp(e,n,a,l,f){if(ga(n),n.stateNode===null){var d=ts,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Nf(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):ts,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(eh(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nh.enqueueReplaceState(d,d.state,null),wl(n,l,d,f),bl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,C=_a(a,T);d.props=C;var B=d.context,K=a.contextType;v=ts,typeof K=="object"&&K!==null&&(v=Qe(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&ep(n,d,l,v),ir=!1;var H=n.memoizedState;d.state=H,wl(n,l,d,f),bl(),B=n.memoizedState,T||H!==B||ir?(typeof Z=="function"&&(eh(n,a,Z,l),B=n.memoizedState),(C=ir||tp(n,a,C,l,H,B,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),d.props=l,d.state=B,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Mf(e,n),v=n.memoizedProps,K=_a(a,v),d.props=K,Z=n.pendingProps,H=d.context,B=a.contextType,C=ts,typeof B=="object"&&B!==null&&(C=Qe(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&ep(n,d,l,C),ir=!1,H=n.memoizedState,d.state=H,wl(n,l,d,f),bl();var q=n.memoizedState;v!==Z||H!==q||ir||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof T=="function"&&(eh(n,a,T,l),q=n.memoizedState),(K=ir||tp(n,a,K,l,H,q,C)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Du(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=cs(n,e.child,null,f),n.child=cs(n,null,a,f)):ke(e,n,a,f),n.memoizedState=d.state,e=n.child):e=Li(e,n,f),e}function pp(e,n,a,l){return pl(),n.flags|=256,ke(e,n,a,l),n.child}var ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sh(e){return{baseLanes:e,cachePool:ig()}}function lh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Vn),e}function yp(e,n,a){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(f?lr(n):or(),Bt){var T=oe,C;if(C=T){t:{for(C=T,T=ni;C.nodeType!==8;){if(!T){T=null;break t}if(C=zn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ca!==null?{id:Vi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},C=hn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,nn=n,oe=null,C=!0):C=!1}C||da(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Gh(T)?n.lanes=32:n.lanes=536870912,null;Pi(n)}return T=l.children,l=l.fallback,f?(or(),f=n.mode,T=Iu({mode:"hidden",children:T},f),l=ua(l,f,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=sh(a),f.childLanes=lh(e,v,a),n.memoizedState=ah,l):(lr(n),oh(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(lr(n),n.flags&=-257,n=uh(e,n,a)):n.memoizedState!==null?(or(),n.child=e.child,n.flags|=128,n=null):(or(),f=l.fallback,T=n.mode,l=Iu({mode:"visible",children:l.children},T),f=ua(f,T,a,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,cs(n,e.child,null,a),l=n.child,l.memoizedState=sh(a),l.childLanes=lh(e,v,a),n.memoizedState=ah,n=f);else if(lr(n),Gh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,yl({value:l,source:null,stack:null}),n=uh(e,n,a)}else if(xe||_l(e,n,a,!1),v=(a&e.childLanes)!==0,xe||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Xi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Wa(e,l),yn(v,e,l),op;T.data==="$?"||Ch(),n=uh(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,oe=zn(T.nextSibling),nn=n,Bt=!0,ha=null,ni=!1,e!==null&&(Cn[Dn++]=Vi,Cn[Dn++]=Oi,Cn[Dn++]=ca,Vi=e.id,Oi=e.overflow,ca=n),n=oh(n,l.children),n.flags|=4096);return n}return f?(or(),f=l.fallback,T=n.mode,C=e.child,B=C.sibling,l=Ii(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?f=Ii(B,f):(f=ua(f,T,a,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=e.child.memoizedState,T===null?T=sh(a):(C=T.cachePool,C!==null?(B=we._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=ig(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=lh(e,v,a),n.memoizedState=ah,l):(lr(n),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function oh(e,n){return n=Iu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Iu(e,n){return e=hn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function uh(e,n,a){return cs(n,e.child,null,a),e=oh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _p(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Cf(e.return,n,a)}function ch(e,n,a,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function vp(e,n,a){var l=n.pendingProps,f=l.revealOrder,d=l.tail;if(ke(e,n,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_p(e,a,n);else if(e.tag===19)_p(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Re,l),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&wu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),ch(n,!1,f,a,d);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&wu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}ch(n,!0,a,null,d);break;case"together":ch(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Li(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),dr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_l(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ii(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function fh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function tT(e,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),nr(n,we,e.memoizedState.cache),pl();break;case 27:case 5:Ki(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yp(e,n,a):(lr(n),e=Li(e,n,a),e!==null?e.sibling:null);lr(n);break;case 19:var f=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(_l(e,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return vp(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,hp(e,n,a);case 24:nr(n,we,e.memoizedState.cache)}return Li(e,n,a)}function Ep(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!fh(e,a)&&(n.flags&128)===0)return xe=!1,tT(e,n,a);xe=(e.flags&131072)!==0}else xe=!1,Bt&&(n.flags&1048576)!==0&&$m(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")Ef(l)?(e=_a(l,e),n.tag=1,n=gp(null,n,l,e,a)):(n.tag=0,n=rh(null,n,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===lt){n.tag=11,n=up(null,n,l,e,a);break t}else if(f===N){n.tag=14,n=cp(null,n,l,e,a);break t}}throw n=Le(l)||l,Error(s(306,n,""))}}return n;case 0:return rh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=_a(l,n.pendingProps),gp(e,n,l,f,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,Mf(e,n),wl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,nr(n,we,l),l!==d.cache&&Df(n,[we],a,!0),bl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=pp(e,n,l,a);break t}else if(l!==f){f=wn(Error(s(424)),n),yl(f),n=pp(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=zn(e.firstChild),nn=n,Bt=!0,ha=null,ni=!0,a=Jg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pl(),l===f){n=Li(e,n,a);break t}ke(e,n,l,a)}n=n.child}return n;case 26:return Du(e,n),e===null?(a=by(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,l=qu(Tt.current).createElement(a),l[Se]=n,l[pe]=e,je(l,a,e),fe(l),n.stateNode=l):n.memoizedState=by(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ki(n),e===null&&Bt&&(l=n.stateNode=Ty(n.type,n.pendingProps,Tt.current),nn=n,ni=!0,f=oe,yr(n.type)?(Fh=f,oe=zn(l.firstChild)):oe=f),ke(e,n,n.pendingProps.children,a),Du(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((f=l=oe)&&(l=DT(l,n.type,n.pendingProps,ni),l!==null?(n.stateNode=l,nn=n,oe=zn(l.firstChild),ni=!1,f=!0):f=!1),f||da(n)),Ki(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,jh(f,d)?l=null:v!==null&&jh(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=Bf(e,n,QE,null,null,a),Yl._currentValue=f),Du(e,n),ke(e,n,l,a),n.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=IT(a,n.pendingProps,ni),a!==null?(n.stateNode=a,nn=n,oe=null,e=!0):e=!1),e||da(n)),null;case 13:return yp(e,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=cs(n,null,l,a):ke(e,n,l,a),n.child;case 11:return up(e,n,n.type,n.pendingProps,a);case 7:return ke(e,n,n.pendingProps,a),n.child;case 8:return ke(e,n,n.pendingProps.children,a),n.child;case 12:return ke(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),ke(e,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,ga(n),f=Qe(f),l=l(f),n.flags|=1,ke(e,n,l,a),n.child;case 14:return cp(e,n,n.type,n.pendingProps,a);case 15:return fp(e,n,n.type,n.pendingProps,a);case 19:return vp(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=Iu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ii(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return hp(e,n,a);case 24:return ga(n),l=Qe(we),e===null?(f=Of(),f===null&&(f=Jt,d=If(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:l,cache:f},Nf(n),nr(n,we,f)):((e.lanes&a)!==0&&(Mf(e,n),wl(n,null,null,a),bl()),f=e.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),nr(n,we,l)):(l=d.cache,nr(n,we,l),l!==f.cache&&Df(n,[we],a,!0))),ke(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(e){e.flags|=4}function Tp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Iy(n)){if(n=In.current,n!==null&&((Pt&4194048)===Pt?ii!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==ii))throw Sl=xf,rg;e.flags|=8192}}function Vu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xs():536870912,e.lanes|=n,ms|=n)}function xl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function eT(e,n,a){var l=n.pendingProps;switch(bf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(we),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gl(n)?Ui(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wm())),ie(n),null;case 26:return a=n.memoizedState,e===null?(Ui(n),a!==null?(ie(n),Tp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ui(n),ie(n),Tp(n,a)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ui(n),ie(n),n.flags&=-16777217),null;case 27:pi(n),a=Tt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=mt.current,gl(n)?Zm(n):(e=Ty(f,l,a),n.stateNode=e,Ui(n))}return ie(n),null;case 5:if(pi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(e=mt.current,gl(n))Zm(n);else{switch(f=qu(Tt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[Se]=n,e[pe]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Tt.current,gl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||my(e.nodeValue,a)),e||da(n)}else e=qu(e).createTextNode(l),e[Se]=n,n.stateNode=e}return ie(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=gl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Se]=n}else pl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),f=!1}else f=Wm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Pi(n),n):(Pi(n),null)}if(Pi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Vu(n,n.updateQueue),ie(n),null;case 4:return Gn(),e===null&&Lh(n.stateNode.containerInfo),ie(n),null;case 10:return Ni(n.type),ie(n),null;case 19:if(st(Re),f=n.memoizedState,f===null)return ie(n),null;if(l=(n.flags&128)!==0,d=f.rendering,d===null)if(l)xl(f,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=wu(e),d!==null){for(n.flags|=128,xl(f,!1),e=d.updateQueue,n.updateQueue=e,Vu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Xm(a,e),a=a.sibling;return it(Re,Re.current&1|2),n.child}e=e.sibling}f.tail!==null&&vn()>Nu&&(n.flags|=128,l=!0,xl(f,!1),n.lanes=4194304)}else{if(!l)if(e=wu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Vu(n,e),xl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Bt)return ie(n),null}else 2*vn()-f.renderingStartTime>Nu&&a!==536870912&&(n.flags|=128,l=!0,xl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=vn(),n.sibling=null,e=Re.current,it(Re,l?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Pi(n),zf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Vu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&st(pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(we),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function nT(e,n){switch(bf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ni(we),Gn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return pi(n),null;case 13:if(Pi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return st(Re),null;case 4:return Gn(),null;case 10:return Ni(n.type),null;case 22:case 23:return Pi(n),zf(),e!==null&&st(pa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ni(we),null;case 25:return null;default:return null}}function Sp(e,n){switch(bf(n),n.tag){case 3:Ni(we),Gn();break;case 26:case 27:case 5:pi(n);break;case 4:Gn();break;case 13:Pi(n);break;case 19:st(Re);break;case 10:Ni(n.type);break;case 22:case 23:Pi(n),zf(),e!==null&&st(pa);break;case 24:Ni(we)}}function Nl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){$t(n,n.return,T)}}function ur(e,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var C=a,B=T;try{B()}catch(K){$t(f,C,K)}}}l=l.next}while(l!==d)}}catch(K){$t(n,n.return,K)}}function Ap(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{cg(n,a)}catch(l){$t(e,e.return,l)}}}function bp(e,n,a){a.props=_a(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,n,l)}}function Ml(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){$t(e,n,f)}}function ri(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$t(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(e,n,f)}else a.current=null}function wp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$t(e,e.return,f)}}function hh(e,n,a){try{var l=e.stateNode;AT(l,e.type,a,n),l[pe]=n}catch(f){$t(e,e.return,f)}}function Rp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function dh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hu));else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(mh(e,n,a),e=e.sibling;e!==null;)mh(e,n,a),e=e.sibling}function Ou(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ou(e,n,a),e=e.sibling;e!==null;)Ou(e,n,a),e=e.sibling}function Cp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);je(n,l,a),n[Se]=e,n[pe]=a}catch(d){$t(e,e.return,d)}}var zi=!1,de=!1,gh=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function iT(e,n){if(e=e.containerInfo,kh=Xu,e=km(e),df(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,B=0,K=0,Z=e,H=null;e:for(;;){for(var q;Z!==a||f!==0&&Z.nodeType!==3||(T=v+f),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)H=Z,Z=q;for(;;){if(Z===e)break e;if(H===a&&++B===f&&(T=v),H===d&&++K===l&&(C=v),(q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bh={focusedElem:e,selectionRange:a},Xu=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=_a(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)qh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function Ip(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),l&4&&Nl(5,a);break;case 1:if(cr(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var f=_a(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&Ap(a),l&512&&Ml(a,a.return);break;case 3:if(cr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{cg(e,n)}catch(v){$t(a,a.return,v)}}break;case 27:n===null&&l&4&&Cp(a);case 26:case 5:cr(e,a),n===null&&l&4&&wp(a),l&512&&Ml(a,a.return);break;case 12:cr(e,a);break;case 13:cr(e,a),l&4&&xp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hT.bind(null,a),VT(e,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||de,f=zi;var d=de;zi=l,(de=n)&&!d?fr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),zi=f,de=d}break;case 30:break;default:cr(e,a)}}function Vp(e){var n=e.alternate;n!==null&&(e.alternate=null,Vp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ji(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,an=!1;function ki(e,n,a){for(a=a.child;a!==null;)Op(e,n,a),a=a.sibling}function Op(e,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:de||ri(a,n),ki(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ri(a,n);var l=ne,f=an;yr(a.type)&&(ne=a.stateNode,an=!1),ki(e,n,a),ql(a.stateNode),ne=l,an=f;break;case 5:de||ri(a,n);case 6:if(l=ne,f=an,ne=null,ki(e,n,a),ne=l,an=f,ne!==null)if(an)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){$t(a,n,d)}else try{ne.removeChild(a.stateNode)}catch(d){$t(a,n,d)}break;case 18:ne!==null&&(an?(e=ne,vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zl(e)):vy(ne,a.stateNode));break;case 4:l=ne,f=an,ne=a.stateNode.containerInfo,an=!0,ki(e,n,a),ne=l,an=f;break;case 0:case 11:case 14:case 15:de||ur(2,a,n),de||ur(4,a,n),ki(e,n,a);break;case 1:de||(ri(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&bp(a,n,l)),ki(e,n,a);break;case 21:ki(e,n,a);break;case 22:de=(l=de)||a.memoizedState!==null,ki(e,n,a),de=l;break;default:ki(e,n,a)}}function xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zl(e)}catch(a){$t(n,n.return,a)}}function rT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dp),n;default:throw Error(s(435,e.tag))}}function ph(e,n){var a=rT(e);n.forEach(function(l){var f=dT.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function dn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(yr(T.type)){ne=T.stateNode,an=!1;break t}break;case 5:ne=T.stateNode,an=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Op(d,v,f),ne=null,an=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Np(n,e),n=n.sibling}var Un=null;function Np(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),l&4&&(ur(3,e,e.return),Nl(3,e),ur(5,e,e.return));break;case 1:dn(n,e),mn(e),l&512&&(de||a===null||ri(a,a.return)),l&64&&zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Un;if(dn(n,e),mn(e),l&512&&(de||a===null||ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Yr]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),je(d,l,a),d[Se]=e,fe(d),l=d;break t;case"link":var v=Cy("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(l),je(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Cy("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=f.createElement(l),je(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,fe(d),l=d}e.stateNode=l}else Dy(f,e.type,e.stateNode);else e.stateNode=Ry(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Dy(f,e.type,e.stateNode):Ry(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hh(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(n,e),mn(e),l&512&&(de||a===null||ri(a,a.return)),a!==null&&l&4&&hh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,e),mn(e),l&512&&(de||a===null||ri(a,a.return)),e.flags&32){f=e.stateNode;try{Tn(f,"")}catch(q){$t(e,e.return,q)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,hh(e,f,a!==null?a.memoizedProps:f)),l&1024&&(gh=!0);break;case 6:if(dn(n,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){$t(e,e.return,q)}}break;case 3:if(Qu=null,f=Un,Un=Gu(n.containerInfo),dn(n,e),Un=f,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(n.containerInfo)}catch(q){$t(e,e.return,q)}gh&&(gh=!1,Mp(e));break;case 4:l=Un,Un=Gu(e.stateNode.containerInfo),dn(n,e),mn(e),Un=l;break;case 12:dn(n,e),mn(e);break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sh=vn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ph(e,l)));break;case 22:f=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=zi,K=de;if(zi=B||f,de=K||C,dn(n,e),de=K,zi=B,mn(e),l&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||C||zi||de||va(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){$t(C,C.return,q)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(q){$t(C,C.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ph(e,a))));break;case 19:dn(n,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ph(e,l)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Rp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=dh(e);Ou(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=dh(e);Ou(e,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,B=dh(e);mh(e,B,C);break;default:throw Error(s(161))}}catch(K){$t(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ip(e,n.alternate,n),n=n.sibling}function va(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ur(4,n,n.return),va(n);break;case 1:ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&bp(n,n.return,a),va(n);break;case 27:ql(n.stateNode);case 26:case 5:ri(n,n.return),va(n);break;case 22:n.memoizedState===null&&va(n);break;case 30:va(n);break;default:va(n)}e=e.sibling}}function fr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:fr(f,d,a),Nl(4,d);break;case 1:if(fr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){$t(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ug(C[f],T)}catch(B){$t(l,l.return,B)}}a&&v&64&&Ap(d),Ml(d,d.return);break;case 27:Cp(d);case 26:case 5:fr(f,d,a),a&&l===null&&v&4&&wp(d),Ml(d,d.return);break;case 12:fr(f,d,a);break;case 13:fr(f,d,a),a&&v&4&&xp(f,d);break;case 22:d.memoizedState===null&&fr(f,d,a),Ml(d,d.return);break;case 30:break;default:fr(f,d,a)}n=n.sibling}}function yh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vl(a))}function _h(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e))}function ai(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pp(e,n,a,l),n=n.sibling}function Pp(e,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n,a,l),f&2048&&Nl(9,n);break;case 1:ai(e,n,a,l);break;case 3:ai(e,n,a,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&vl(e)));break;case 12:if(f&2048){ai(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else ai(e,n,a,l);break;case 13:ai(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ai(e,n,a,l):Pl(e,n):d._visibility&2?ai(e,n,a,l):(d._visibility|=2,fs(e,n,a,l,(n.subtreeFlags&10256)!==0)),f&2048&&yh(v,n);break;case 24:ai(e,n,a,l),f&2048&&_h(n.alternate,n);break;default:ai(e,n,a,l)}}function fs(e,n,a,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=a,C=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:fs(d,v,T,C,f),Nl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?fs(d,v,T,C,f):Pl(d,v):(K._visibility|=2,fs(d,v,T,C,f)),f&&B&2048&&yh(v.alternate,v);break;case 24:fs(d,v,T,C,f),f&&B&2048&&_h(v.alternate,v);break;default:fs(d,v,T,C,f)}n=n.sibling}}function Pl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,f=l.flags;switch(l.tag){case 22:Pl(a,l),f&2048&&yh(l.alternate,l);break;case 24:Pl(a,l),f&2048&&_h(l.alternate,l);break;default:Pl(a,l)}n=n.sibling}}var Ll=8192;function hs(e){if(e.subtreeFlags&Ll)for(e=e.child;e!==null;)Lp(e),e=e.sibling}function Lp(e){switch(e.tag){case 26:hs(e),e.flags&Ll&&e.memoizedState!==null&&qT(Un,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var n=Un;Un=Gu(e.stateNode.containerInfo),hs(e),Un=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ll,Ll=16777216,hs(e),Ll=n):hs(e));break;default:hs(e)}}function Up(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,kp(l,e)}Up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zp(e),e=e.sibling}function zp(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&ur(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xu(e)):Ul(e);break;default:Ul(e)}}function xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,kp(l,e)}Up(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ur(8,n,n.return),xu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,xu(n));break;default:xu(n)}e=e.sibling}}function kp(e,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:ur(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var f=l.sibling,d=l.return;if(Vp(l),l===a){Ne=null;break t}if(f!==null){f.return=d,Ne=f;break t}Ne=d}}}var aT={getCacheForType:function(e){var n=Qe(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},sT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Vt=null,Pt=0,Ft=0,gn=null,hr=!1,ds=!1,vh=!1,Bi=0,ue=0,dr=0,Ea=0,Eh=0,Vn=0,ms=0,zl=null,sn=null,Th=!1,Sh=0,Nu=1/0,Mu=null,mr=null,Be=0,gr=null,gs=null,ps=0,Ah=0,bh=null,Bp=null,kl=0,wh=null;function pn(){if((Gt&2)!==0&&Pt!==0)return Pt&-Pt;if(Y.T!==null){var e=is;return e!==0?e:xh()}return $i()}function jp(){Vn===0&&(Vn=(Pt&536870912)===0||Bt?Ks():536870912);var e=In.current;return e!==null&&(e.flags|=32),Vn}function yn(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(ys(e,0),pr(e,Pt,Vn,!1)),_i(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(Ea|=a),ue===4&&pr(e,Pt,Vn,!1)),si(e))}function Hp(e,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Qr(e,n),f=l?uT(e,n):Dh(e,n,!0),d=l;do{if(f===0){ds&&!l&&pr(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!lT(a)){f=Dh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;f=zl;var C=T.current.memoizedState.isDehydrated;if(C&&(ys(T,v).flags|=256),v=Dh(T,v,!1),v!==2){if(vh&&!C){T.errorRecoveryDisabledLanes|=d,Ea|=d,f=4;break t}d=sn,sn=f,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){ys(e,0),pr(e,n,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pr(l,n,Vn,!hr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Sh+300-vn(),10<f)){if(pr(l,n,Vn,!hr),Ma(l,0,!0)!==0)break t;l.timeoutHandle=yy(qp.bind(null,l,a,sn,Mu,Th,n,Vn,Ea,ms,hr,d,2,-0,0),f);break t}qp(l,a,sn,Mu,Th,n,Vn,Ea,ms,hr,d,0,-0,0)}}break}while(!0);si(e)}function qp(e,n,a,l,f,d,v,T,C,B,K,Z,H,q){if(e.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:HT},Lp(n),Z=GT(),Z!==null)){e.cancelPendingCommit=Z($p.bind(null,e,n,d,a,l,f,v,T,C,K,1,H,q)),pr(e,d,v,!B);return}$p(e,n,d,a,l,f,v,T,C)}function lT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!fn(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pr(e,n,a,l){n&=~Eh,n&=~Ea,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var d=31-Fe(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Fn(e,a,n)}function Pu(){return(Gt&6)===0?(Bl(0),!1):!0}function Rh(){if(Vt!==null){if(Ft===0)var e=Vt.return;else e=Vt,xi=ma=null,qf(e),us=null,Vl=0,e=Vt;for(;e!==null;)Sp(e.alternate,e),e=e.return;Vt=null}}function ys(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,wT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Rh(),Jt=e,Vt=a=Ii(e.current,null),Pt=n,Ft=0,gn=null,hr=!1,ds=Qr(e,n),vh=!1,ms=Vn=Eh=Ea=dr=ue=0,sn=zl=null,Th=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-Fe(l),d=1<<f;n|=e[f],l&=~d}return Bi=n,iu(),a}function Gp(e,n){wt=null,Y.H=Su,n===Tl||n===hu?(n=lg(),Ft=3):n===rg?(n=lg(),Ft=4):Ft=n===op?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Vt===null&&(ue=1,Cu(e,wn(n,e.current)))}function Fp(){var e=Y.H;return Y.H=Su,e===null?Su:e}function Qp(){var e=Y.A;return Y.A=aT,e}function Ch(){ue=4,hr||(Pt&4194048)!==Pt&&In.current!==null||(ds=!0),(dr&134217727)===0&&(Ea&134217727)===0||Jt===null||pr(Jt,Pt,Vn,!1)}function Dh(e,n,a){var l=Gt;Gt|=2;var f=Fp(),d=Qp();(Jt!==e||Pt!==n)&&(Mu=null,ys(e,n)),n=!1;var v=ue;t:do try{if(Ft!==0&&Vt!==null){var T=Vt,C=gn;switch(Ft){case 8:Rh(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var B=Ft;if(Ft=0,gn=null,_s(e,T,C,B),a&&ds){v=0;break t}break;default:B=Ft,Ft=0,gn=null,_s(e,T,C,B)}}oT(),v=ue;break}catch(K){Gp(e,K)}while(!0);return n&&e.shellSuspendCounter++,xi=ma=null,Gt=l,Y.H=f,Y.A=d,Vt===null&&(Jt=null,Pt=0,iu()),v}function oT(){for(;Vt!==null;)Yp(Vt)}function uT(e,n){var a=Gt;Gt|=2;var l=Fp(),f=Qp();Jt!==e||Pt!==n?(Mu=null,Nu=vn()+500,ys(e,n)):ds=Qr(e,n);t:do try{if(Ft!==0&&Vt!==null){n=Vt;var d=gn;e:switch(Ft){case 1:Ft=0,gn=null,_s(e,n,d,1);break;case 2:case 9:if(ag(d)){Ft=0,gn=null,Kp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),si(e)},d.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:ag(d)?(Ft=0,gn=null,Kp(n)):(Ft=0,gn=null,_s(e,n,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var T=Vt;if(!v||Iy(v)){Ft=0,gn=null;var C=T.sibling;if(C!==null)Vt=C;else{var B=T.return;B!==null?(Vt=B,Lu(B)):Vt=null}break e}}Ft=0,gn=null,_s(e,n,d,5);break;case 6:Ft=0,gn=null,_s(e,n,d,6);break;case 8:Rh(),ue=6;break t;default:throw Error(s(462))}}cT();break}catch(K){Gp(e,K)}while(!0);return xi=ma=null,Y.H=l,Y.A=f,Gt=a,Vt!==null?0:(Jt=null,Pt=0,iu(),ue)}function cT(){for(;Vt!==null&&!Gs();)Yp(Vt)}function Yp(e){var n=Ep(e.alternate,e,Bi);e.memoizedProps=e.pendingProps,n===null?Lu(e):Vt=n}function Kp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=mp(a,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=mp(a,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:qf(n);default:Sp(a,n),n=Vt=Xm(n,Bi),n=Ep(a,n,Bi)}e.memoizedProps=e.pendingProps,n===null?Lu(e):Vt=n}function _s(e,n,a,l){xi=ma=null,qf(n),us=null,Vl=0;var f=n.return;try{if(WE(e,f,n,a,Pt)){ue=1,Cu(e,wn(a,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;ue=1,Cu(e,wn(a,e.current)),Vt=null;return}n.flags&32768?(Bt||l===1?e=!0:ds||(Pt&536870912)!==0?e=!1:(hr=e=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xp(n,e)):Lu(n)}function Lu(e){var n=e;do{if((n.flags&32768)!==0){Xp(n,hr);return}e=n.return;var a=eT(n.alternate,n,Bi);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);ue===0&&(ue=5)}function Xp(e,n){do{var a=nT(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);ue=6,Vt=null}function $p(e,n,a,l,f,d,v,T,C){e.cancelPendingCommit=null;do Uu();while(Be!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=_f,$s(e,a,d,v,T,C),e===Jt&&(Vt=Jt=null,Pt=0),gs=n,gr=e,ps=a,Ah=d,bh=f,Bp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mT(Hr,function(){return ey(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=at.p,at.p=2,v=Gt,Gt|=4;try{iT(e,n,a)}finally{Gt=v,at.p=f,Y.T=l}}Be=1,Zp(),Jp(),Wp()}}function Zp(){if(Be===1){Be=0;var e=gr,n=gs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=at.p;at.p=2;var f=Gt;Gt|=4;try{Np(n,e);var d=Bh,v=km(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&zm(T.ownerDocument.documentElement,T)){if(C!==null&&df(T)){var B=C.start,K=C.end;if(K===void 0&&(K=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(K,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var q=H.getSelection(),Et=T.textContent.length,pt=Math.min(C.start,Et),Xt=C.end===void 0?pt:Math.min(C.end,Et);!q.extend&&pt>Xt&&(v=Xt,Xt=pt,pt=v);var L=Um(T,pt),O=Um(T,Xt);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var k=Z.createRange();k.setStart(L.node,L.offset),q.removeAllRanges(),pt>Xt?(q.addRange(k),q.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),q.addRange(k))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Xu=!!kh,Bh=kh=null}finally{Gt=f,at.p=l,Y.T=a}}e.current=n,Be=2}}function Jp(){if(Be===2){Be=0;var e=gr,n=gs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=at.p;at.p=2;var f=Gt;Gt|=4;try{Ip(e,n.alternate,n)}finally{Gt=f,at.p=l,Y.T=a}}Be=3}}function Wp(){if(Be===4||Be===3){Be=0,xo();var e=gr,n=gs,a=ps,l=Bp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,gs=gr=null,ty(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(mr=null),Pa(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,f=at.p,at.p=2,Y.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=n,at.p=f}}(ps&3)!==0&&Uu(),si(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===wh?kl++:(kl=0,wh=e):kl=0,Bl(0)}}function ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,vl(n)))}function Uu(e){return Zp(),Jp(),Wp(),ey()}function ey(){if(Be!==5)return!1;var e=gr,n=Ah;Ah=0;var a=Pa(ps),l=Y.T,f=at.p;try{at.p=32>a?32:a,Y.T=null,a=bh,bh=null;var d=gr,v=ps;if(Be=0,gs=gr=null,ps=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,zp(d.current),Pp(d,d.current,v,a),Gt=T,Bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{at.p=f,Y.T=l,ty(e,n)}}function ny(e,n,a){n=wn(a,n),n=ih(e.stateNode,n,2),e=ar(e,n,2),e!==null&&(_i(e,2),si(e))}function $t(e,n,a){if(e.tag===3)ny(e,e,a);else for(;n!==null;){if(n.tag===3){ny(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){e=wn(a,e),a=sp(2),l=ar(n,a,2),l!==null&&(lp(a,l,n,e),_i(l,2),si(l));break}}n=n.return}}function Ih(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new sT;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(vh=!0,f.add(a),e=fT.bind(null,e,n,a),n.then(e,e))}function fT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Pt&a)===a&&(ue===4||ue===3&&(Pt&62914560)===Pt&&300>vn()-Sh?(Gt&2)===0&&ys(e,0):Eh|=a,ms===Pt&&(ms=0)),si(e)}function iy(e,n){n===0&&(n=Xs()),e=Wa(e,n),e!==null&&(_i(e,n),si(e))}function hT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),iy(e,a)}function dT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),iy(e,a)}function mT(e,n){return Br(e,n)}var zu=null,vs=null,Vh=!1,ku=!1,Oh=!1,Ta=0;function si(e){e!==vs&&e.next===null&&(vs===null?zu=vs=e:vs=vs.next=e),ku=!0,Vh||(Vh=!0,pT())}function Bl(e,n){if(!Oh&&ku){Oh=!0;do for(var a=!1,l=zu;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Fe(42|e)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ly(l,d))}else d=Pt,d=Ma(l,l===Jt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qr(l,d)||(a=!0,ly(l,d));l=l.next}while(a);Oh=!1}}function gT(){ry()}function ry(){ku=Vh=!1;var e=0;Ta!==0&&(bT()&&(e=Ta),Ta=0);for(var n=vn(),a=null,l=zu;l!==null;){var f=l.next,d=ay(l,n);d===0?(l.next=null,a===null?zu=f:a.next=f,f===null&&(vs=a)):(a=l,(e!==0||(d&3)!==0)&&(ku=!0)),l=f}Bl(e)}function ay(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Fe(d),T=1<<v,C=f[v];C===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Ys(T,n)):C<=n&&(e.expiredLanes|=T),d&=~T}if(n=Jt,a=Pt,a=Ma(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&jr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&jr(l),Pa(a)){case 2:case 8:a=xa;break;case 32:a=Hr;break;case 268435456:a=Na;break;default:a=Hr}return l=sy.bind(null,e),a=Br(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&jr(l),e.callbackPriority=2,e.callbackNode=null,2}function sy(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uu()&&e.callbackNode!==a)return null;var l=Pt;return l=Ma(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Hp(e,l,n),ay(e,vn()),e.callbackNode!=null&&e.callbackNode===a?sy.bind(null,e):null)}function ly(e,n){if(Uu())return null;Hp(e,n,!0)}function pT(){RT(function(){(Gt&6)!==0?Br(Fs,gT):ry()})}function xh(){return Ta===0&&(Ta=Ks()),Ta}function oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ja(""+e)}function uy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function yT(e,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var d=oy((f[pe]||null).action),v=l.submitter;v&&(n=(n=v[pe]||null)?oy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Ha("action","action",null,l,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var C=v?uy(f,v):new FormData(f);Jf(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?uy(f,v):new FormData(f),Jf(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Nh=0;Nh<yf.length;Nh++){var Mh=yf[Nh],_T=Mh.toLowerCase(),vT=Mh[0].toUpperCase()+Mh.slice(1);Ln(_T,"on"+vT)}Ln(Hm,"onAnimationEnd"),Ln(qm,"onAnimationIteration"),Ln(Gm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(LE,"onTransitionRun"),Ln(UE,"onTransitionStart"),Ln(zE,"onTransitionCancel"),Ln(Fm,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ET=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function cy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=B;try{d(f)}catch(K){Ru(K)}f.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=B;try{d(f)}catch(K){Ru(K)}f.currentTarget=null,d=C}}}}function Ot(e,n){var a=n[Js];a===void 0&&(a=n[Js]=new Set);var l=e+"__bubble";a.has(l)||(fy(n,e,2,!1),a.add(l))}function Ph(e,n,a){var l=0;n&&(l|=4),fy(a,e,l,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Lh(e){if(!e[Bu]){e[Bu]=!0,Ws.forEach(function(a){a!=="selectionchange"&&(ET.has(a)||Ph(a,!1,e),Ph(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,Ph("selectionchange",!1,n))}}function fy(e,n,a,l){switch(Py(n)){case 2:var f=YT;break;case 8:f=KT;break;default:f=$h}a=f.bind(null,n,a,e),f=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Uh(e,n,a,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=vi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Ho(function(){var B=d,K=Sn(a),Z=[];t:{var H=Qm.get(e);if(H!==void 0){var q=Ha,Et=e;switch(e){case"keypress":if(Zn(a)===0)break t;case"keydown":case"keyup":q=Ka;break;case"focusin":Et="focus",q=Fa;break;case"focusout":Et="blur",q=Fa;break;case"beforeblur":case"afterblur":q=Fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=$o;break;case Hm:case qm:case Gm:q=Qa;break;case Fm:q=Jo;break;case"scroll":case"scrollend":q=qo;break;case"wheel":q=Xa;break;case"copy":case"cut":case"paste":q=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=fl;break;case"toggle":case"beforetoggle":q=tu}var pt=(n&4)!==0,Xt=!pt&&(e==="scroll"||e==="scrollend"),L=pt?H!==null?H+"Capture":null:H;pt=[];for(var O=B,k;O!==null;){var X=O;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||L===null||(X=ta(O,L),X!=null&&pt.push(Hl(O,X,k))),Xt)break;O=O.return}0<pt.length&&(H=new q(H,Et,null,a,K),Z.push({event:H,listeners:pt}))}}if((n&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",H&&a!==Ai&&(Et=a.relatedTarget||a.fromElement)&&(vi(Et)||Et[En]))break t;if((q||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Et=a.relatedTarget||a.toElement,q=B,Et=Et?vi(Et):null,Et!==null&&(Xt=u(Et),pt=Et.tag,Et!==Xt||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(q=null,Et=B),q!==Et)){if(pt=bn,X="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=fl,X="onPointerLeave",L="onPointerEnter",O="pointer"),Xt=q==null?H:Yn(q),k=Et==null?H:Yn(Et),H=new pt(X,O+"leave",q,a,K),H.target=Xt,H.relatedTarget=k,X=null,vi(K)===B&&(pt=new pt(L,O+"enter",Et,a,K),pt.target=k,pt.relatedTarget=Xt,X=pt),Xt=X,q&&Et)e:{for(pt=q,L=Et,O=0,k=pt;k;k=Es(k))O++;for(k=0,X=L;X;X=Es(X))k++;for(;0<O-k;)pt=Es(pt),O--;for(;0<k-O;)L=Es(L),k--;for(;O--;){if(pt===L||L!==null&&pt===L.alternate)break e;pt=Es(pt),L=Es(L)}pt=null}else pt=null;q!==null&&hy(Z,H,q,pt,!1),Et!==null&&Xt!==null&&hy(Z,Xt,Et,pt,!0)}}t:{if(H=B?Yn(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ct=Om;else if(be(H))if(xm)ct=NE;else{ct=OE;var Dt=VE}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&rl(B.elementType)&&(ct=Om):ct=xE;if(ct&&(ct=ct(e,B))){Di(Z,ct,a,K);break t}Dt&&Dt(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&tr(H,"number",H.value)}switch(Dt=B?Yn(B):window,e){case"focusin":(be(Dt)||Dt.contentEditable==="true")&&($a=Dt,mf=B,ml=null);break;case"focusout":ml=mf=$a=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Bm(Z,a,K);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":Bm(Z,a,K)}var ht;if(ti)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Nt?Q(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Nt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Nt&&(ht=sl()):($n=K,er="value"in $n?$n.value:$n.textContent,Nt=!0)),Dt=ju(B,_t),0<Dt.length&&(_t=new ul(_t,e,null,a,K),Z.push({event:_t,listeners:Dt}),ht?_t.data=ht:(ht=rt(a),ht!==null&&(_t.data=ht)))),(ht=p?Ae(e,a):Mt(e,a))&&(_t=ju(B,"onBeforeInput"),0<_t.length&&(Dt=new ul("onBeforeInput","beforeinput",null,a,K),Z.push({event:Dt,listeners:_t}),Dt.data=ht)),yT(Z,e,B,a,K)}cy(Z,n)})}function Hl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ju(e,n){for(var a=n+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ta(e,a),f!=null&&l.unshift(Hl(e,f,d)),f=ta(e,n),f!=null&&l.push(Hl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hy(e,n,a,l,f){for(var d=n._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,f?(B=ta(a,d),B!=null&&v.unshift(Hl(a,B,C))):f||(B=ta(a,d),B!=null&&v.push(Hl(a,B,C)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var TT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function dy(e){return(typeof e=="string"?e:""+e).replace(TT,`
`).replace(ST,"")}function my(e,n){return n=dy(n),dy(e)===n}function Hu(){}function Kt(e,n,a,l,f,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(e,""+l);break;case"className":Kn(e,"class",l);break;case"tabIndex":Kn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,l);break;case"style":il(e,l,d);break;case"data":if(n!=="object"){Kn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ja(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Kt(e,n,"name",f.name,f,null),Kt(e,n,"formEncType",f.formEncType,f,null),Kt(e,n,"formMethod",f.formMethod,f,null),Kt(e,n,"formTarget",f.formTarget,f,null)):(Kt(e,n,"encType",f.encType,f,null),Kt(e,n,"method",f.method,f,null),Kt(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ja(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Hu);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ja(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Wi(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lf.get(a)||a,Wi(e,a,l))}}function zh(e,n,a,l,f,d){switch(a){case"style":il(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&Tn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Wi(e,a,l)}}}function je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,d,v,a,null)}}f&&Kt(e,n,"srcSet",a.srcSet,a,null),l&&Kt(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Kt(e,n,l,K,a,null)}}Zr(e,d,T,C,B,v,f,!1),Ba(e);return;case"select":Ot("invalid",e),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(e,n,f,T,a,null)}n=d,a=v,e.multiple=!!l,n!=null?Si(e,!!l,n,!1):a!=null&&Si(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(e,n,v,T,a,null)}Jr(e,l,f,d),Ba(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,n,C,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<jl.length;l++)Ot(jl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,B,l,a,null)}return;default:if(rl(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&zh(e,n,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(e,n,T,l,a,null))}function AT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,C=null,B=null,K=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(q)||Kt(e,n,q,null,l,Z)}}for(var H in l){var q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(q!=null||Z!=null))switch(H){case"type":d=q;break;case"name":f=q;break;case"checked":B=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Z&&Kt(e,n,H,q,l,Z)}}cn(e,v,T,C,B,K,d,f);return;case"select":q=v=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(d)||Kt(e,n,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Kt(e,n,f,d,l,C)}n=T,a=v,l=q,H!=null?Si(e,!!a,H,!1):!!l!=!!a&&(n!=null?Si(e,!!a,n,!0):Si(e,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,n,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Kt(e,n,v,f,l,d)}Qt(e,H,q);return;case"option":for(var Et in a)if(H=a[Et],a.hasOwnProperty(Et)&&H!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Kt(e,n,Et,null,l,H)}for(C in l)if(H=l[C],q=a[C],l.hasOwnProperty(C)&&H!==q&&(H!=null||q!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Kt(e,n,C,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)H=a[pt],a.hasOwnProperty(pt)&&H!=null&&!l.hasOwnProperty(pt)&&Kt(e,n,pt,null,l,H);for(B in l)if(H=l[B],q=a[B],l.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(e,n,B,H,l,q)}return;default:if(rl(n)){for(var Xt in a)H=a[Xt],a.hasOwnProperty(Xt)&&H!==void 0&&!l.hasOwnProperty(Xt)&&zh(e,n,Xt,void 0,l,H);for(K in l)H=l[K],q=a[K],!l.hasOwnProperty(K)||H===q||H===void 0&&q===void 0||zh(e,n,K,H,l,q);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Kt(e,n,L,null,l,H);for(Z in l)H=l[Z],q=a[Z],!l.hasOwnProperty(Z)||H===q||H==null&&q==null||Kt(e,n,Z,H,l,q)}var kh=null,Bh=null;function qu(e){return e.nodeType===9?e:e.ownerDocument}function gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function bT(){var e=window.event;return e&&e.type==="popstate"?e===Hh?!1:(Hh=e,!0):(Hh=null,!1)}var yy=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(CT)}:yy;function CT(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function vy(e,n){var a=n,l=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&ql(v.documentElement),a&2&&ql(v.body),a&4)for(a=v.head,ql(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[Yr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){e.removeChild(d),Zl(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Zl(n)}function qh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qh(a),Ji(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function DT(e,n,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Yr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function IT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function Gh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function VT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Fh=null;function Ey(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ty(e,n,a){switch(n=qu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ji(e)}var On=new Map,Sy=new Set;function Gu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=at.d;at.d={f:OT,r:xT,D:NT,C:MT,L:PT,m:LT,X:zT,S:UT,M:kT};function OT(){var e=ji.f(),n=Pu();return e||n}function xT(e){var n=Qn(e);n!==null&&n.tag===5&&n.type==="form"?Hg(n):ji.r(e)}var Ts=typeof document>"u"?null:document;function Ay(e,n,a){var l=Ts;if(l&&typeof n=="string"&&n){var f=ye(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Sy.has(f)||(Sy.add(f),e={rel:e,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),je(n,"link",e),fe(n),l.head.appendChild(n)))}}function NT(e){ji.D(e),Ay("dns-prefetch",e,null)}function MT(e,n){ji.C(e,n),Ay("preconnect",e,n)}function PT(e,n,a){ji.L(e,n,a);var l=Ts;if(l&&e&&n){var f='link[rel="preload"][as="'+ye(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ye(a.imageSizes)+'"]')):f+='[href="'+ye(e)+'"]';var d=f;switch(n){case"style":d=Ss(e);break;case"script":d=As(e)}On.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),On.set(d,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(Gl(d))||n==="script"&&l.querySelector(Fl(d))||(n=l.createElement("link"),je(n,"link",e),fe(n),l.head.appendChild(n)))}}function LT(e,n){ji.m(e,n);var a=Ts;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=As(e)}if(!On.has(d)&&(e=E({rel:"modulepreload",href:e},n),On.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),je(l,"link",e),fe(l),a.head.appendChild(l)}}}function UT(e,n,a){ji.S(e,n,a);var l=Ts;if(l&&e){var f=We(l).hoistableStyles,d=Ss(e);n=n||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Gl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=On.get(d))&&Qh(e,a);var C=v=l.createElement("link");fe(C),je(C,"link",e),C._p=new Promise(function(B,K){C.onload=B,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function zT(e,n){ji.X(e,n);var a=Ts;if(a&&e){var l=We(a).hoistableScripts,f=As(e),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(e=E({src:e,async:!0},n),(n=On.get(f))&&Yh(e,n),d=a.createElement("script"),fe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function kT(e,n){ji.M(e,n);var a=Ts;if(a&&e){var l=We(a).hoistableScripts,f=As(e),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=On.get(f))&&Yh(e,n),d=a.createElement("script"),fe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function by(e,n,a,l){var f=(f=Tt.current)?Gu(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ss(a.href),a=We(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ss(a.href);var d=We(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(Gl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),d||BT(f,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=We(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ss(e){return'href="'+ye(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function wy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function BT(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",a),fe(n),e.head.appendChild(n))}function As(e){return'[src="'+ye(e)+'"]'}function Fl(e){return"script[async]"+e}function Ry(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return n.instance=l,fe(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),je(l,"style",f),Fu(l,a.precedence,e),n.instance=l;case"stylesheet":f=Ss(a.href);var d=e.querySelector(Gl(f));if(d)return n.state.loading|=4,n.instance=d,fe(d),d;l=wy(a),(f=On.get(f))&&Qh(l,f),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",l),n.state.loading|=4,Fu(d,a.precedence,e),n.instance=d;case"script":return d=As(a.src),(f=e.querySelector(Fl(d)))?(n.instance=f,fe(f),f):(l=a,(f=On.get(d))&&(l=E({},a),Yh(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),fe(f),je(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Fu(l,a.precedence,e));return n.instance}function Fu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qu=null;function Cy(e,n,a){if(Qu===null){var l=new Map,f=Qu=new Map;f.set(a,l)}else f=Qu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Yr]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Dy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function jT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Iy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function HT(){}function qT(e,n,a){if(Ql===null)throw Error(s(475));var l=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ss(a.href),d=e.querySelector(Gl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Yu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,fe(d);return}d=e.ownerDocument||e,a=wy(a),(f=On.get(f))&&Qh(a,f),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),je(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Yu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function GT(){if(Ql===null)throw Error(s(475));var e=Ql;return e.stylesheets&&e.count===0&&Kh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ku=null;function Kh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ku=new Map,n.forEach(FT,e),Ku=null,Yu.call(e))}function FT(e,n){if(!(n.state.loading&4)){var a=Ku.get(e);if(a)var l=a.get(null);else{a=new Map,Ku.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=n.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Yu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Yl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function QT(e,n,a,l,f,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Vy(e,n,a,l,f,d,v,T,C,B,K,Z){return e=new QT(e,n,a,v,T,C,B,Z),n=1,d===!0&&(n|=24),d=hn(3,null,null,n),e.current=d,d.stateNode=e,n=If(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Nf(d),e}function Oy(e){return e?(e=ts,e):ts}function xy(e,n,a,l,f,d){f=Oy(f),l.context===null?l.context=f:l.pendingContext=f,l=rr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ar(e,l,n),a!==null&&(yn(a,e,n),Al(a,e,n))}function Ny(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Xh(e,n){Ny(e,n),(e=e.alternate)&&Ny(e,n)}function My(e){if(e.tag===13){var n=Wa(e,67108864);n!==null&&yn(n,e,67108864),Xh(e,67108864)}}var Xu=!0;function YT(e,n,a,l){var f=Y.T;Y.T=null;var d=at.p;try{at.p=2,$h(e,n,a,l)}finally{at.p=d,Y.T=f}}function KT(e,n,a,l){var f=Y.T;Y.T=null;var d=at.p;try{at.p=8,$h(e,n,a,l)}finally{at.p=d,Y.T=f}}function $h(e,n,a,l){if(Xu){var f=Zh(l);if(f===null)Uh(e,n,l,$u,a),Ly(e,l);else if($T(f,e,n,a,l))l.stopPropagation();else if(Ly(e,l),n&4&&-1<XT.indexOf(e)){for(;f!==null;){var d=Qn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Fe(v);T.entanglements[1]|=C,v&=~C}si(d),(Gt&6)===0&&(Nu=vn()+500,Bl(0))}}break;case 13:T=Wa(d,2),T!==null&&yn(T,d,2),Pu(),Xh(d,2)}if(d=Zh(l),d===null&&Uh(e,n,l,$u,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Uh(e,n,l,null,a)}}function Zh(e){return e=Sn(e),Jh(e)}var $u=null;function Jh(e){if($u=null,e=vi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return $u=e,null}function Py(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tf()){case Fs:return 2;case xa:return 8;case Hr:case ef:return 32;case Na:return 268435456;default:return 32}default:return 32}}var Wh=!1,_r=null,vr=null,Er=null,Kl=new Map,Xl=new Map,Tr=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(e,n){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(n.pointerId)}}function $l(e,n,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Qn(n),n!==null&&My(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function $T(e,n,a,l,f){switch(n){case"focusin":return _r=$l(_r,e,n,a,l,f),!0;case"dragenter":return vr=$l(vr,e,n,a,l,f),!0;case"mouseover":return Er=$l(Er,e,n,a,l,f),!0;case"pointerover":var d=f.pointerId;return Kl.set(d,$l(Kl.get(d)||null,e,n,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Xl.set(d,$l(Xl.get(d)||null,e,n,a,l,f)),!0}return!1}function Uy(e){var n=vi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Po(e.priority,function(){if(a.tag===13){var l=pn();l=Xi(l);var f=Wa(a,l);f!==null&&yn(f,a,l),Xh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Zh(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ai=l,a.target.dispatchEvent(l),Ai=null}else return n=Qn(a),n!==null&&My(n),e.blockedOn=a,!1;n.shift()}return!0}function zy(e,n,a){Zu(e)&&a.delete(n)}function ZT(){Wh=!1,_r!==null&&Zu(_r)&&(_r=null),vr!==null&&Zu(vr)&&(vr=null),Er!==null&&Zu(Er)&&(Er=null),Kl.forEach(zy),Xl.forEach(zy)}function Ju(e,n){e.blockedOn===n&&(e.blockedOn=null,Wh||(Wh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZT)))}var Wu=null;function ky(e){Wu!==e&&(Wu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wu===e&&(Wu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Jh(l||a)===null)continue;break}var d=Qn(a);d!==null&&(e.splice(n,3),n-=3,Jf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Zl(e){function n(C){return Ju(C,e)}_r!==null&&Ju(_r,e),vr!==null&&Ju(vr,e),Er!==null&&Ju(Er,e),Kl.forEach(n),Xl.forEach(n);for(var a=0;a<Tr.length;a++){var l=Tr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)Uy(a),a.blockedOn===null&&Tr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[pe]||null;if(typeof d=="function")v||ky(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[pe]||null)T=v.formAction;else if(Jh(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ky(a)}}}function td(e){this._internalRoot=e}tc.prototype.render=td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pn();xy(a,l,e,n,null,null)},tc.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xy(e.current,2,null,e,null,null),Pu(),n[En]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=$i();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Tr.length&&n!==0&&n<Tr[a].priority;a++);Tr.splice(a,0,e),a===0&&Uy(e)}};var By=t.version;if(By!=="19.1.0")throw Error(s(527,By,"19.1.0"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var JT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{le=ec.inject(JT),qt=ec}catch{}}return Wl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",f=np,d=ip,v=rp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Vy(e,1,!1,null,null,a,l,f,d,v,T,null),e[En]=n.current,Lh(e),new td(n)},Wl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=np,v=ip,T=rp,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=Vy(e,1,!0,n,a??null,l,f,d,v,T,C,B),n.context=Oy(null),a=n.current,l=pn(),l=Xi(l),f=rr(l),f.callback=null,ar(a,f,l),a=l,n.current.lanes=a,_i(n,a),si(n),e[En]=n.current,Lh(e),new tc(n)},Wl.version="19.1.0",Wl}var $y;function o1(){if($y)return id.exports;$y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),id.exports=l1(),id.exports}var u1=o1();const c1=vv(u1);var to={},Zy;function f1(){if(Zy)return to;Zy=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parse=h,to.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,I){const M=new u,G=b.length;if(G<2)return M;const j=I?.decode||E;let F=0;do{const et=b.indexOf("=",F);if(et===-1)break;const nt=b.indexOf(";",F),lt=nt===-1?G:nt;if(et>lt){F=b.lastIndexOf(";",et-1)+1;continue}const ut=m(b,F,et),yt=y(b,et,ut),N=b.slice(ut,yt);if(M[N]===void 0){let w=m(b,et+1,lt),R=y(b,lt,w);const x=j(b.slice(w,R));M[N]=x}F=lt+1}while(F<G);return M}function m(b,I,M){do{const G=b.charCodeAt(I);if(G!==32&&G!==9)return I}while(++I<M);return M}function y(b,I,M){for(;I>M;){const G=b.charCodeAt(--I);if(G!==32&&G!==9)return I+1}return M}function g(b,I,M){const G=M?.encode||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const j=G(I);if(!t.test(j))throw new TypeError(`argument val is invalid: ${I}`);let F=b+"="+j;if(!M)return F;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);F+="; Max-Age="+M.maxAge}if(M.domain){if(!i.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);F+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);F+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);F+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(F+="; HttpOnly"),M.secure&&(F+="; Secure"),M.partitioned&&(F+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return F}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return to}f1();var Jy="popstate";function h1(r={}){function t(o,u){let{pathname:h="/",search:m="",hash:y=""}=Da(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),_d("",{pathname:h,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof u=="string"?u:fo(u))}function s(o,u){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return m1(t,i,s,r)}function re(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d1(){return Math.random().toString(36).substring(2,10)}function Wy(r,t){return{usr:r.state,key:r.key,idx:t}}function _d(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Da(t):t,state:i,key:t&&t.key||s||d1()}}function fo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Da(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function m1(r,t,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",y=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let j=E(),F=j==null?null:j-g;g=j,y&&y({action:m,location:G.location,delta:F})}function b(j,F){m="PUSH";let et=_d(G.location,j,F);i&&i(et,j),g=E()+1;let nt=Wy(et,g),lt=G.createHref(et);try{h.pushState(nt,"",lt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(lt)}u&&y&&y({action:m,location:G.location,delta:1})}function I(j,F){m="REPLACE";let et=_d(G.location,j,F);i&&i(et,j),g=E();let nt=Wy(et,g),lt=G.createHref(et);h.replaceState(nt,"",lt),u&&y&&y({action:m,location:G.location,delta:0})}function M(j){return g1(j)}let G={get action(){return m},get location(){return r(o,h)},listen(j){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Jy,S),y=j,()=>{o.removeEventListener(Jy,S),y=null}},createHref(j){return t(o,j)},createURL:M,encodeLocation(j){let F=M(j);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:I,go(j){return h.go(j)}};return G}function g1(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:fo(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Ev(r,t,i="/"){return p1(r,t,i,!1)}function p1(r,t,i,s){let o=typeof t=="string"?Da(t):t,u=qi(o.pathname||"/",i);if(u==null)return null;let h=Tv(r);y1(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let g=D1(u);m=R1(h[y],g,s)}return m}function Tv(r,t=[],i=[],s=""){let o=(u,h,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};y.relativePath.startsWith("/")&&(re(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=Hi([s,y.relativePath]),E=i.concat(y);u.children&&u.children.length>0&&(re(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Tv(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:b1(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of Sv(u.path))o(u,h,m)}),t}function Sv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Sv(s.join("/")),m=[];return m.push(...h.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...h),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function y1(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:w1(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var _1=/^:[\w-]+$/,v1=3,E1=2,T1=1,S1=10,A1=-2,t_=r=>r==="*";function b1(r,t){let i=r.split("/"),s=i.length;return i.some(t_)&&(s+=A1),t&&(s+=E1),i.filter(o=>!t_(o)).reduce((o,u)=>o+(_1.test(u)?v1:u===""?T1:S1),s)}function w1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function R1(r,t,i=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),b=y.route;if(!S&&g&&i&&!s[s.length-1].route.index&&(S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Hi([u,S.pathname]),pathnameBase:x1(Hi([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Hi([u,S.pathnameBase]))}return h}function yc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=C1(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},b)=>{if(E==="*"){let M=m[b]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const I=m[b];return S&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function C1(r,t=!1,i=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function D1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function qi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function I1(r,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Da(r):r;return{pathname:i?i.startsWith("/")?i:V1(i,t):t,search:N1(s),hash:M1(o)}}function V1(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ld(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O1(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Av(r){let t=O1(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function bv(r,t,i,s=!1){let o;typeof r=="string"?o=Da(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=i;else{let S=t.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?t[S]:"/"}let y=I1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),x1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),N1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,M1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function P1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wv=["POST","PUT","PATCH","DELETE"];new Set(wv);var L1=["GET",...wv];new Set(L1);var Us=$.createContext(null);Us.displayName="DataRouter";var Mc=$.createContext(null);Mc.displayName="DataRouterState";var Rv=$.createContext({isTransitioning:!1});Rv.displayName="ViewTransition";var U1=$.createContext(new Map);U1.displayName="Fetchers";var z1=$.createContext(null);z1.displayName="Await";var mi=$.createContext(null);mi.displayName="Navigation";var So=$.createContext(null);So.displayName="Location";var gi=$.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Fd=$.createContext(null);Fd.displayName="RouteError";function k1(r,{relative:t}={}){re(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=$.useContext(mi),{hash:o,pathname:u,search:h}=bo(r,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Hi([i,u])),s.createHref({pathname:m,search:h,hash:o})}function Ao(){return $.useContext(So)!=null}function Ia(){return re(Ao(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(So).location}var Cv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dv(r){$.useContext(mi).static||$.useLayoutEffect(r)}function B1(){let{isDataRoute:r}=$.useContext(gi);return r?tS():j1()}function j1(){re(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(Us),{basename:t,navigator:i}=$.useContext(mi),{matches:s}=$.useContext(gi),{pathname:o}=Ia(),u=JSON.stringify(Av(s)),h=$.useRef(!1);return Dv(()=>{h.current=!0}),$.useCallback((y,g={})=>{if(qn(h.current,Cv),!h.current)return;if(typeof y=="number"){i.go(y);return}let E=bv(y,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Hi([t,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[t,i,u,o,r])}$.createContext(null);function H1(){let{matches:r}=$.useContext(gi),t=r[r.length-1];return t?t.params:{}}function bo(r,{relative:t}={}){let{matches:i}=$.useContext(gi),{pathname:s}=Ia(),o=JSON.stringify(Av(i));return $.useMemo(()=>bv(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function q1(r,t){return Iv(r,t)}function Iv(r,t,i,s){re(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(mi),{matches:u}=$.useContext(gi),h=u[u.length-1],m=h?h.params:{},y=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let F=E&&E.path||"";Vv(y,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let S=Ia(),b;if(t){let F=typeof t=="string"?Da(t):t;re(g==="/"||F.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),b=F}else b=S;let I=b.pathname||"/",M=I;if(g!=="/"){let F=g.replace(/^\//,"").split("/");M="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let G=Ev(r,{pathname:M});qn(E||G!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),qn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=K1(G&&G.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Hi([g,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Hi([g,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,i,s);return t&&j?$.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function G1(){let r=W1(),t=P1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),i?$.createElement("pre",{style:o},i):null,h)}var F1=$.createElement(G1,null),Q1=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?$.createElement(gi.Provider,{value:this.props.routeContext},$.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y1({routeContext:r,match:t,children:i}){let s=$.useContext(Us);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(gi.Provider,{value:r},i)}function K1(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,u=i?.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,m=-1;if(i)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:S}=i,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||b){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,g,E)=>{let S,b=!1,I=null,M=null;i&&(S=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||F1,h&&(m<0&&E===0?(Vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):m===E&&(b=!0,M=g.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,E+1)),j=()=>{let F;return S?F=I:b?F=M:g.route.Component?F=$.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=y,$.createElement(Y1,{match:g,routeContext:{outlet:y,matches:G,isDataRoute:i!=null},children:F})};return i&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?$.createElement(Q1,{location:i.location,revalidation:i.revalidation,component:I,error:S,children:j(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):j()},null)}function Qd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X1(r){let t=$.useContext(Us);return re(t,Qd(r)),t}function $1(r){let t=$.useContext(Mc);return re(t,Qd(r)),t}function Z1(r){let t=$.useContext(gi);return re(t,Qd(r)),t}function Yd(r){let t=Z1(r),i=t.matches[t.matches.length-1];return re(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function J1(){return Yd("useRouteId")}function W1(){let r=$.useContext(Fd),t=$1("useRouteError"),i=Yd("useRouteError");return r!==void 0?r:t.errors?.[i]}function tS(){let{router:r}=X1("useNavigate"),t=Yd("useNavigate"),i=$.useRef(!1);return Dv(()=>{i.current=!0}),$.useCallback(async(o,u={})=>{qn(i.current,Cv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var e_={};function Vv(r,t,i){!t&&!e_[r]&&(e_[r]=!0,qn(!1,i))}$.memo(eS);function eS({routes:r,future:t,state:i}){return Iv(r,void 0,i,t)}function oc(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nS({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:u=!1}){re(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof i=="string"&&(i=Da(i));let{pathname:y="/",search:g="",hash:E="",state:S=null,key:b="default"}=i,I=$.useMemo(()=>{let M=qi(y,h);return M==null?null:{location:{pathname:M,search:g,hash:E,state:S,key:b},navigationType:s}},[h,y,g,E,S,b,s]);return qn(I!=null,`<Router basename="${h}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:$.createElement(mi.Provider,{value:m},$.createElement(So.Provider,{children:t,value:I}))}function iS({children:r,location:t}){return q1(vd(r),t)}function vd(r,t=[]){let i=[];return $.Children.forEach(r,(s,o)=>{if(!$.isValidElement(s))return;let u=[...t,o];if(s.type===$.Fragment){i.push.apply(i,vd(s.props.children,u));return}re(s.type===oc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=vd(s.props.children,u)),i.push(h)}),i}var uc="get",cc="application/x-www-form-urlencoded";function Pc(r){return r!=null&&typeof r.tagName=="string"}function rS(r){return Pc(r)&&r.tagName.toLowerCase()==="button"}function aS(r){return Pc(r)&&r.tagName.toLowerCase()==="form"}function sS(r){return Pc(r)&&r.tagName.toLowerCase()==="input"}function lS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function oS(r,t){return r.button===0&&(!t||t==="_self")&&!lS(r)}var nc=null;function uS(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var cS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(r){return r!=null&&!cS.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function fS(r,t){let i,s,o,u,h;if(aS(r)){let m=r.getAttribute("action");s=m?qi(m,t):null,i=r.getAttribute("method")||uc,o=od(r.getAttribute("enctype"))||cc,u=new FormData(r)}else if(rS(r)||sS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?qi(y,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||uc,o=od(r.getAttribute("formenctype"))||od(m.getAttribute("enctype"))||cc,u=new FormData(m,r),!uS()){let{name:g,type:E,value:S}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,S)}}else{if(Pc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uc,s=null,o=cc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:h}}function Kd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function hS(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mS(r,t,i){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await hS(u,i);return h.links?h.links():[]}return[]}));return _S(s.flat(1).filter(dS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n_(r,t,i,s,o,u){let h=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,m=(y,g)=>i[g].pathname!==y.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,g)=>h(y,g)||m(y,g)):u==="data"?t.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(h(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function gS(r,t,{includeHydrateFallback:i}={}){return pS(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function pS(r){return[...new Set(r)]}function yS(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function _S(r,t){let i=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(yS(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vS=new Set([100,101,204,205]);function ES(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&qi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Ov(){let r=$.useContext(Us);return Kd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function TS(){let r=$.useContext(Mc);return Kd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xd=$.createContext(void 0);Xd.displayName="FrameworkContext";function xv(){let r=$.useContext(Xd);return Kd(r,"You must render this element inside a <HydratedRouter> element"),r}function SS(r,t){let i=$.useContext(Xd),[s,o]=$.useState(!1),[u,h]=$.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=t,b=$.useRef(null);$.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=F=>{F.forEach(et=>{h(et.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[r]),$.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let I=()=>{o(!0)},M=()=>{o(!1),h(!1)};return i?r!=="intent"?[u,b,{}]:[u,b,{onFocus:eo(m,I),onBlur:eo(y,M),onMouseEnter:eo(g,I),onMouseLeave:eo(E,M),onTouchStart:eo(S,I)}]:[!1,b,{}]}function eo(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function AS({page:r,...t}){let{router:i}=Ov(),s=$.useMemo(()=>Ev(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?$.createElement(wS,{page:r,matches:s,...t}):null}function bS(r){let{manifest:t,routeModules:i}=xv(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return mS(r,t,i).then(h=>{u||o(h)}),()=>{u=!0}},[r,t,i]),s}function wS({page:r,matches:t,...i}){let s=Ia(),{manifest:o,routeModules:u}=xv(),{basename:h}=Ov(),{loaderData:m,matches:y}=TS(),g=$.useMemo(()=>n_(r,t,y,o,s,"data"),[r,t,y,o,s]),E=$.useMemo(()=>n_(r,t,y,o,s,"assets"),[r,t,y,o,s]),S=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,G=!1;if(t.forEach(F=>{let et=o.routes[F.route.id];!et||!et.hasLoader||(!g.some(nt=>nt.route.id===F.route.id)&&F.route.id in m&&u[F.route.id]?.shouldRevalidate||et.hasClientLoader?G=!0:M.add(F.route.id))}),M.size===0)return[];let j=ES(r,h);return G&&M.size>0&&j.searchParams.set("_routes",t.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[h,m,s,o,g,t,r,u]),b=$.useMemo(()=>gS(E,o),[E,o]),I=bS(E);return $.createElement($.Fragment,null,S.map(M=>$.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...i})),b.map(M=>$.createElement("link",{key:M,rel:"modulepreload",href:M,...i})),I.map(({key:M,link:G})=>$.createElement("link",{key:M,...G})))}function RS(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nv&&(window.__reactRouterVersion="7.6.3")}catch{}function CS({basename:r,children:t,window:i}){let s=$.useRef();s.current==null&&(s.current=h1({window:i,v5Compat:!0}));let o=s.current,[u,h]=$.useState({action:o.action,location:o.location}),m=$.useCallback(y=>{$.startTransition(()=>h(y))},[h]);return $.useLayoutEffect(()=>o.listen(m),[o,m]),$.createElement(nS,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$d=$.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:y,to:g,preventScrollReset:E,viewTransition:S,...b},I){let{basename:M}=$.useContext(mi),G=typeof g=="string"&&Mv.test(g),j,F=!1;if(typeof g=="string"&&G&&(j=g,Nv))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=qi(x.pathname,M);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:F=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=k1(g,{relative:o}),[nt,lt,ut]=SS(s,b),yt=OS(g,{replace:h,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:S});function N(R){t&&t(R),R.defaultPrevented||yt(R)}let w=$.createElement("a",{...b,...ut,href:j||et,onClick:F||u?t:N,ref:RS(I,lt),target:y,"data-discover":!G&&i==="render"?"true":void 0});return nt&&!G?$.createElement($.Fragment,null,w,$.createElement(AS,{page:et})):w});$d.displayName="Link";var DS=$.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:y,...g},E){let S=bo(h,{relative:g.relative}),b=Ia(),I=$.useContext(Mc),{navigator:M,basename:G}=$.useContext(mi),j=I!=null&&LS(S)&&m===!0,F=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,et=b.pathname,nt=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(et=et.toLowerCase(),nt=nt?nt.toLowerCase():null,F=F.toLowerCase()),nt&&G&&(nt=qi(nt,G)||nt);const lt=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ut=et===F||!o&&et.startsWith(F)&&et.charAt(lt)==="/",yt=nt!=null&&(nt===F||!o&&nt.startsWith(F)&&nt.charAt(F.length)==="/"),N={isActive:ut,isPending:yt,isTransitioning:j},w=ut?t:void 0,R;typeof s=="function"?R=s(N):R=[s,ut?"active":null,yt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(N):u;return $.createElement($d,{...g,"aria-current":w,className:R,ref:E,style:x,to:h,viewTransition:m},typeof y=="function"?y(N):y)});DS.displayName="NavLink";var IS=$.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:u,method:h=uc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:S,...b},I)=>{let M=MS(),G=PS(m,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&Mv.test(m),et=nt=>{if(y&&y(nt),nt.defaultPrevented)return;nt.preventDefault();let lt=nt.nativeEvent.submitter,ut=lt?.getAttribute("formmethod")||h;M(lt||nt.currentTarget,{fetcherKey:t,method:ut,navigate:i,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return $.createElement("form",{ref:I,method:j,action:G,onSubmit:s?y:et,...b,"data-discover":!F&&r==="render"?"true":void 0})});IS.displayName="Form";function VS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pv(r){let t=$.useContext(Us);return re(t,VS(r)),t}function OS(r,{target:t,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=B1(),y=Ia(),g=bo(r,{relative:u});return $.useCallback(E=>{if(oS(E,t)){E.preventDefault();let S=i!==void 0?i:fo(y)===fo(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[y,m,g,i,s,t,r,o,u,h])}var xS=0,NS=()=>`__${String(++xS)}__`;function MS(){let{router:r}=Pv("useSubmit"),{basename:t}=$.useContext(mi),i=J1();return $.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:y,body:g}=fS(s,t);if(o.navigate===!1){let E=o.fetcherKey||NS();await r.fetch(E,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function PS(r,{relative:t}={}){let{basename:i}=$.useContext(mi),s=$.useContext(gi);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bo(r||".",{relative:t})},h=Ia();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Hi([i,u.pathname])),fo(u)}function LS(r,t={}){let i=$.useContext(Rv);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pv("useViewTransitionState"),o=bo(r,{relative:t.relative});if(!i.isTransitioning)return!1;let u=qi(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=qi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return yc(o.pathname,h)!=null||yc(o.pathname,u)!=null}[...vS];/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),i_=r=>{const t=zS(r);return t.charAt(0).toUpperCase()+t.slice(1)},Lv=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),kS=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=$.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},y)=>$.createElement("svg",{ref:y,...BS,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:Lv("lucide",o),...!u&&!kS(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>$.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=(r,t)=>{const i=$.forwardRef(({className:s,...o},u)=>$.createElement(jS,{ref:u,iconNode:t,className:Lv(`lucide-${US(i_(r))}`,`lucide-${r}`,s),...o}));return i.displayName=i_(r),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qS=Uv("arrow-right",HS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],FS=Uv("gamepad-2",GS),QS=({gameId:r,name:t,description:i})=>It.jsxs($d,{to:`/game/${r}`,className:"group bg-slate-800 rounded-xl shadow-lg p-6 flex flex-col justify-between text-left transition-all duration-300 hover:bg-slate-700/80 hover:shadow-cyan-500/20 hover:ring-2 hover:ring-cyan-500",children:[It.jsxs("div",{children:[It.jsx("h3",{className:"text-2xl font-bold text-slate-100",children:t}),It.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:i})]}),It.jsxs("div",{className:"mt-6 flex items-center justify-end",children:[It.jsx("span",{className:"text-sm font-semibold text-cyan-400 group-hover:underline",children:"Play Now"}),It.jsx(qS,{className:"ml-2 h-4 w-4 text-cyan-400 transform transition-transform group-hover:translate-x-1"})]})]}),YS="modulepreload",KS=function(r){return"/boardgames/"+r},r_={},zs=function(t,i,s){let o=Promise.resolve();if(i&&i.length>0){let y=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=y(i.map(g=>{if(g=KS(g),g in r_)return;r_[g]=!0;const E=g.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const b=document.createElement("link");if(b.rel=E?"stylesheet":YS,E||(b.as="script"),b.crossOrigin="",b.href=g,m&&b.setAttribute("nonce",m),document.head.appendChild(b),E)return new Promise((I,M)=>{b.addEventListener("load",I),b.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};function br(r,t){return Math.floor(Math.random()*(t-r+1))+r}const XS={easy:{rows:8,columns:10,trackCount:4,trainCount:8,carsRange:[2,4]},medium:{rows:8,columns:12,trackCount:br(4,5),trainCount:10,carsRange:[2,4]},hard:{rows:8,columns:14,trackCount:5,trainCount:12,carsRange:[2,4]}};function $S(r){const{rows:t,columns:i,trackCount:s,trainCount:o,carsRange:u}=XS[r];let h=null,m=null,y=null,g=0;const E=100;for(;g<E;){if(g++,h=eA(s,t,i),!h||h.length<s){console.warn(`Attempt ${g}: Failed to generate tracks, retrying...`);continue}if(m=nA(o,u,h),m&&m.length>0){y=cA(m,t,i);break}else console.warn(`Attempt ${g}: No trains found, regenerating...`)}if(g===E||!h||!m||!y)throw new Error(`Failed to generate a valid puzzle after ${E} attempts.`);return{difficulty:r,grid:{rows:t,columns:i,gridSize:t*i},tracks:h,trains:m,clues:y}}function ZS(r,t,i,s,o=!1){const u=r.get(`${t},${i}`);return u?u.isCorner||o?!0:u.isHorizontal===s:!1}function JS(r,t,i){let s;if(r.row===0)s="top";else if(r.row===t-1)s="bottom";else if(r.col===0)s="left";else if(r.col===i-1)s="right";else throw new Error("Start position is not on the edge");const o=2;let u;s==="top"?u=["bottom","left","right"]:s==="bottom"?u=["top","left","right"]:s==="left"?u=["right","top","bottom"]:u=["left","top","bottom"];const h=u[br(0,u.length-1)];let m;if(h==="top"||h==="bottom"){const y=h==="top"?0:t-1;let g;do g=br(0,i-1);while(g>=r.col-o&&g<=r.col+o);m={row:y,col:g}}else{const y=h==="left"?0:i-1;let g;do g=br(0,t-1);while(g>=r.row-o&&g<=r.row+o);m={row:g,col:y}}return m}function WS(r,t){const i=Math.random()<.5,s=Math.random()<.5;if(i){const o=s?0:r-1,u=br(0,t-1);return{row:o,col:u}}else{const o=br(0,r-1),u=s?0:t-1;return{row:o,col:u}}}function tA(r,t,i,s){const o=[];let u={...r};const h=et=>et.row<0||et.row>=i||et.col<0||et.col>=s,m=r.row===0||r.row===i-1?"vertical":"horizontal",y=t.row===0||t.row===i-1?"vertical":"horizontal",g={...r},E={...t},S={...r},b={...t};m==="vertical"?S.row+=r.row===0?1:-1:S.col+=r.col===0?1:-1,y==="vertical"?b.row+=t.row===0?1:-1:b.col+=t.col===0?1:-1,u={...S},o.push({...u,isHorizontal:m==="horizontal",isCorner:!1});let I=m,M=0;const G=i*s;for(;u.row!==b.row||u.col!==b.col;){if(M++>G)return[];const et=Math.sign(b.row-u.row),nt=Math.sign(b.col-u.col);let lt;const ut=et!==0,yt=nt!==0;ut&&!yt?lt="vertical":!ut&&yt?lt="horizontal":(lt=Math.random()>.5?"vertical":"horizontal",lt===I&&(lt==="vertical"?!ut:!yt)&&(lt=lt==="vertical"?"horizontal":"vertical"));const N=lt!==I;if(lt==="vertical"?u.row+=et:u.col+=nt,h(u))return[];o.push({...u,isHorizontal:lt==="horizontal",isCorner:N}),I=lt}const j=[{...g,isHorizontal:m==="horizontal",isCorner:!1},...o,{...E,isHorizontal:y==="horizontal",isCorner:!1}];return j.filter((et,nt)=>nt===0||et.row!==j[nt-1].row||et.col!==j[nt-1].col)}function eA(r,t,i){let o=0;const u=()=>{const m=["#ef4444","#3b82f6","#22c55e","#ec4899","#a855f7","#f97316"];if(r>m.length)throw new Error("Not enough unique colors for the number of tracks!");const y=[],g=new Map,E=new Set;for(let S=0;S<r;S++){let b=!1,I=null;const M=50;let G=0;for(;!b;){if(G++,G>M)return o++,null;let j=0,F,et,nt,lt;for(;j<M;){if(j++,F=WS(t,i),et=JS(F,t,i),nt=`${F.row},${F.col}`,lt=`${et.row},${et.col}`,nt===lt||E.has(nt)||E.has(lt))continue;I=tA(F,et,t,i);let w=!0;if(I&&I.length>10){for(const R of I)if(ZS(g,R.row,R.col,R.isHorizontal,R.isCorner)){w=!1;break}if(w){b=!0;break}}}if(!b||!I)continue;E.add(nt),E.add(lt),I.forEach(w=>g.set(`${w.row},${w.col}`,{isHorizontal:w.isHorizontal,isCorner:w.isCorner}));const ut=br(0,m.length-1),yt=m[ut];m.splice(ut,1);const N=I.map(w=>({row:w.row,col:w.col}));y.push({trackId:S+1,color:yt,path:N})}}return y};let h;for(;o<50;)if(h=u(),h!==null&&h.length===r)return h;return null}function nA(r,t,i){let o=0,u=!1,h=[];for(;o<100&&!u;)try{h=iA(r,t,i),u=!0}catch{if(o++,o===100)return null}return h}function iA(r,t,i){const s=new Set,o=new Set,u=[];let h=r,m=1,y=JSON.parse(JSON.stringify(oA(i)));const g=E=>{const S=uA(E.path);let b=[];for(let I of S){const M=rA(I,s,o);for(let G of M)G.length>=t[0]&&b.push(G)}if(b.length===0)return!1;b.sort((I,M)=>M.length-I.length);for(let I of b){const M=Math.min(I.length,t[1]);if(M<t[0])continue;const G=br(t[0],M),j=I.slice(0,G);if(j.some(nt=>{const lt=`${nt.row},${nt.col}`;if(s.has(lt)||o.has(lt))return!0;const ut=a_(nt);for(const yt of ut)if(s.has(`${yt.row},${yt.col}`))return!0;return!1}))continue;const et={trainId:m,trackId:E.trackId,carPositions:j,carsCount:G};u.push(et);for(const nt of j){const lt=`${nt.row},${nt.col}`;s.add(lt);const ut=a_(nt);for(const yt of ut)o.add(`${yt.row},${yt.col}`)}return lA(y,et,s),E.path=E.path.filter(nt=>!s.has(`${nt.row},${nt.col}`)),m++,h--,!0}return!1};for(const E of y){if(h<=0)break;g(E)}for(;h>0&&y.length>0&&(y=y.filter(E=>E.path.length>=t[0]),y.sort((E,S)=>S.path.length-E.path.length),y.length!==0);)g(y[0])||y.shift();if(h>0)throw new Error("Failed to place all trains");return u}function rA(r,t,i){const s=[];let o=[];for(let u=0;u<r.length;u++){const h=r[u],m=`${h.row},${h.col}`;if(t.has(m)||i.has(m)){o.length>0&&(s.push(o),o=[]);continue}o.push(h)}return o.length>0&&s.push(o),s}function a_(r){return[{row:r.row-1,col:r.col},{row:r.row+1,col:r.col},{row:r.row,col:r.col-1},{row:r.row,col:r.col+1}]}function aA(r,t){return t==="horizontal"?[{row:r.row-1,col:r.col},{row:r.row+1,col:r.col}]:[{row:r.row,col:r.col-1},{row:r.row,col:r.col+1}]}function sA(r){if(r.length<2)return null;const[t,i]=r;return t.row===i.row?"horizontal":t.col===i.col?"vertical":null}function lA(r,t,i){const{carPositions:s,trackId:o}=t,u=sA(s);if(u)for(let h of r){if(h.trackId===o)continue;let m=new Set;for(let y of h.path)for(let g of s)y.row===g.row&&y.col===g.col&&aA(y,u).forEach(S=>m.add(`${S.row},${S.col}`));h.path=h.path.filter(y=>{const g=`${y.row},${y.col}`;return!m.has(g)&&!i.has(g)})}}function oA(r){return r.map(t=>{const i=t.path.filter((s,o)=>{if(o===0||o===t.path.length-1)return!0;const u=t.path[o-1],h=t.path[o+1];return!(u.row!==h.row&&u.col!==h.col)});return{...t,path:i}})}function uA(r){const t=[];if(r.length===0)return t;let i=[];for(let s=0;s<r.length;s++){const o=r[s];if(s>0){const u=r[s-1];Math.abs(o.row-u.row)+Math.abs(o.col-u.col)!==1&&(i.length>0&&t.push(i),i=[])}i.push(o)}return i.length>0&&t.push(i),t}function cA(r,t,i){const s=new Array(t).fill(0),o=new Array(i).fill(0);for(const u of r)for(const h of u.carPositions)s[h.row]++,o[h.col]++;return{rowClues:s,columnClues:o}}function fA(r,t){const{grid:i,clues:s}=t,{rows:o,columns:u}=i,{rowClues:h,columnClues:m}=s;let y=!1;const g=Array(o).fill(0),E=Array(u).fill(0);for(let S=0;S<o;S++){for(let b=0;b<u;b++){const I=r[S]?.[b];if(I&&I.some(G=>G.isUserPlacedTrain||G.isFixedTrain)){if(!I.some(j=>j.connections)){y=!0;break}g[S]++,E[b]++}}if(y)break}if(y)return!1;for(let S=0;S<o;S++)if(g[S]!==h[S])return!1;for(let S=0;S<u;S++)if(E[S]!==m[S])return!1;return!0}const zv=(r,t,i)=>{const s=i?.difficulty||"easy",o=$S(s),u=o.trains[0],h={};return r.forEach((m,y)=>{h[m]={id:m,fixedTrainId:u?.trainId??null,gridState:null,submitted:!1}}),{puzzle:o,playerStates:h,winner:null,options:{difficulty:s}}},hA=(r,t)=>{if(t.type==="RETURN_TO_LOBBY"){const h=Object.keys(r.playerStates);return zv(h,r,r.options)}if(t.type!=="SUBMIT_SOLUTION"||r.winner||r.playerStates[t.playerId]?.submitted)return r;const i=t.payload,s=fA(i,r.puzzle),o=JSON.parse(JSON.stringify(r.playerStates));o[t.playerId]={...o[t.playerId],submitted:!0};let u=r.winner;if(s)u=t.playerId;else{const h=Object.keys(r.playerStates);h.length<=2?u=h.find(m=>m!==t.playerId):u="incorrect"}return{...r,playerStates:o,winner:u}},dA=r=>r.winner!==null,mA=(r,t)=>!r.playerStates[t]?.submitted&&!r.winner,gA=(r,t)=>r.winner?r.winner==="incorrect"?"Incorrect Submission! Game Over.":`${t.find(s=>s.id===r.winner)?.username||"A player"} wins!`:"Solve the puzzle!",pA=Hn.lazy(()=>zs(()=>import("./BrainTrainBoard-Dbbi6ZfC.js"),__vite__mapDeps([0,1,2]))),yA=Hn.lazy(()=>zs(()=>import("./BrainTrainLobbyPage-fKJ-p3ma.js"),__vite__mapDeps([3,4]))),_A=Hn.lazy(()=>zs(()=>import("./BrainTrainGamePage-D75034V-.js"),__vite__mapDeps([5,2,0,1,6,7]))),vA={id:"brain-train",displayName:"Brain Train",description:"A logic puzzle where you must correctly place trains on tracks based on clues.",minPlayers:1,maxPlayers:4,gameOptions:[{id:"difficulty",label:"Difficulty",type:"select",defaultValue:"easy",choices:[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}]}],getInitialState:zv,handleAction:hA,getGameStatus:gA,isGameOver:dA,isTurnOf:mA,BoardComponent:pA,LobbyPageComponent:yA,GamePageComponent:_A},EA=Object.freeze(Object.defineProperty({__proto__:null,default:vA},Symbol.toStringTag,{value:"Module"})),TA=(r,t,i)=>{const[s,o]=r,u=Math.random()<.5,h=t?.scores||{[s]:0,[o]:0},m={turnTimer:i?.turnTimer??t?.options?.turnTimer??0};return{board:Array(9).fill(null),isNext:"X",winner:null,playerMap:{[s]:u?"X":"O",[o]:u?"O":"X"},scores:h,options:m}},SA=(r,t)=>{if(t.type!=="MAKE_MOVE")return r;const i=t.payload,s=r.playerMap[t.playerId];if(!s||r.board[i]||r.winner||r.isNext!==s)return r;const o=[...r.board];o[i]=s;const u=s==="X"?"O":"X",h=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let m=null;for(const g of h){const[E,S,b]=g;if(o[E]&&o[E]===o[S]&&o[E]===o[b]){m=o[E];break}}!m&&o.every(Boolean)&&(m="draw");const y={...r.scores};if(m&&m!=="draw"){const g=Object.keys(r.playerMap).find(E=>r.playerMap[E]===m);g&&(y[g]=(y[g]||0)+1)}return{...r,board:o,isNext:u,winner:m,scores:y}},AA=r=>r.winner!==null,bA=(r,t)=>r.playerMap[t]===r.isNext,wA=(r,t)=>{const i=h=>{const m=Object.keys(r.playerMap).find(y=>r.playerMap[y]===h);return t.find(y=>y.id===m)};if(r.winner)return r.winner==="draw"?"It's a Draw!":`${i(r.winner)?.username||`Player ${r.winner}`} wins!`;const s=i(r.isNext)?.username||`Player ${r.isNext}`,o=r.options?.turnTimer,u=o&&o>0?` (${o}s)`:"";return`${s}'s Turn${u}`},RA=Hn.lazy(()=>zs(()=>import("./TicTacToeBoard-CA-FVc79.js"),__vite__mapDeps([8,7,1]))),CA=Hn.lazy(()=>zs(()=>import("./TicTacToeLobbyPage-micskEdJ.js"),__vite__mapDeps([9,4,10,1]))),DA=Hn.lazy(()=>zs(()=>import("./TicTacToeGamePage-C5lNTOvW.js"),__vite__mapDeps([11,8,7,1,2,6,10]))),IA={id:"tic-tac-toe",displayName:"Tic Tac Toe",description:"The classic game of X's and O's. First to get three in a row wins.",minPlayers:2,maxPlayers:2,gameOptions:[{id:"turnTimer",label:"Turn Timer",type:"select",defaultValue:0,choices:[{label:"Unlimited",value:0},{label:"2 Seconds",value:2},{label:"5 Seconds",value:5},{label:"10 Seconds",value:10}]}],getInitialState:TA,handleAction:SA,getGameStatus:wA,isGameOver:AA,isTurnOf:bA,BoardComponent:RA,LobbyPageComponent:CA,GamePageComponent:DA},VA=Object.freeze(Object.defineProperty({__proto__:null,default:IA},Symbol.toStringTag,{value:"Module"})),OA=Object.assign({"./brain-train/registry.ts":EA,"./tic-tac-toe/registry.ts":VA}),kv=Object.values(OA).map(r=>r.default),Ed=r=>{if(r)return kv.find(t=>t.id===r)},xA=()=>It.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-2xl border border-slate-700/50",children:[It.jsx("h2",{className:"text-2xl font-bold text-slate-200 mb-6 px-2",children:"Select a Game"}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:kv.map(r=>It.jsx(QS,{gameId:r.id,name:r.displayName,description:r.description},r.id))})]}),NA=()=>It.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 py-8 md:py-16",children:[It.jsxs("header",{className:"text-center mb-12 md:mb-16",children:[It.jsx("div",{className:"inline-block bg-slate-800 p-4 rounded-full mb-4",children:It.jsx(FS,{className:"h-12 w-12 text-cyan-400"})}),It.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight bg-gradient-to-r from-cyan-400 via-teal-400 to-emerald-500 text-transparent bg-clip-text",children:"GameHub"}),It.jsx("p",{className:"text-slate-400 mt-4 text-lg md:text-xl max-w-2xl mx-auto",children:"Your destination for classic board games, reimagined for the modern web. Peer-to-peer, no sign-ups, just play."})]}),It.jsx(xA,{})]}),s_=r=>{let t;const i=new Set,s=(g,E)=>{const S=typeof g=="function"?g(t):g;if(!Object.is(S,t)){const b=t;t=E??(typeof S!="object"||S===null)?S:Object.assign({},t,S),i.forEach(I=>I(t,b))}},o=()=>t,m={setState:s,getState:o,getInitialState:()=>y,subscribe:g=>(i.add(g),()=>i.delete(g))},y=t=r(s,o,m);return m},MA=r=>r?s_(r):s_,PA=r=>r;function LA(r,t=PA){const i=Hn.useSyncExternalStore(r.subscribe,()=>t(r.getState()),()=>t(r.getInitialState()));return Hn.useDebugValue(i),i}const l_=r=>{const t=MA(r),i=s=>LA(t,s);return Object.assign(i,t),i},Bv=r=>r?l_(r):l_,UA=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},zA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],h=r[i++],m=r[i++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[i++],h=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,I=g&63;y||(I=64,h||(b=64)),s.push(i[E],i[S],i[b],i[I])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(jv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const g=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new kA;const b=u<<2|m>>4;if(s.push(b),g!==64){const I=m<<4&240|g>>2;if(s.push(I),S!==64){const M=g<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(r){const t=jv(r);return Hv.encodeByteArray(t,!0)},_c=function(r){return BA(r).replace(/\./g,"")},jA=function(r){try{return Hv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof o_>"u")return;const r=o_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&jA(r[1]);return t&&JSON.parse(t)},Zd=()=>{try{return UA()||qA()||GA()||FA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QA=r=>{var t,i;return(i=(t=Zd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},YA=r=>{const t=QA(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},qv=()=>{var r;return(r=Zd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_c(JSON.stringify(i)),_c(JSON.stringify(h)),""].join(".")}const so={};function ZA(){const r={prod:[],emulator:[]};for(const t of Object.keys(so))so[t]?r.emulator.push(t):r.prod.push(t);return r}function JA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let u_=!1;function WA(r,t){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||so[r]===t||so[r]||u_)return;so[r]=t;function i(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=ZA().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,I){b.setAttribute("width","24"),b.setAttribute("id",I),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{u_=!0,h()},b}function E(b,I){b.setAttribute("id",I),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=JA(s),I=i("text"),M=document.getElementById(I)||document.createElement("span"),G=i("learnmore"),j=document.getElementById(G)||document.createElement("a"),F=i("preprendIcon"),et=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const nt=b.element;m(nt),E(j,G);const lt=g();y(et,F),nt.append(et,M,j,lt),document.body.appendChild(nt)}u?(M.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eb(){var r;const t=(r=Zd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nb(){return!eb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ib(){try{return typeof indexedDB=="object"}catch{return!1}}function rb(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="FirebaseError";class ks extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=ab,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gv.prototype.create)}}class Gv{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?sb(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ks(o,m,s)}}function sb(r,t){return r.replace(lb,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const lb=/\{\$([^}]+)}/g;function ho(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const u=r[o],h=t[o];if(c_(u)&&c_(h)){if(!ho(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function c_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r){return r&&r._delegate?r._delegate:r}class mo{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new KA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cb(t))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sa){return this.instances.has(t)}getOptions(t=Sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ub(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Sa){return this.component?this.component.multipleInstances?t:Sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ub(r){return r===Sa?void 0:r}function cb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ob(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const hb={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},db=Ut.INFO,mb={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},gb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=mb[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fv{constructor(t){this.name=t,this._logLevel=db,this._logHandler=gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const pb=(r,t)=>t.some(i=>r instanceof i);let f_,h_;function yb(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _b(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qv=new WeakMap,Td=new WeakMap,Yv=new WeakMap,ud=new WeakMap,Wd=new WeakMap;function vb(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{i(wr(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Qv.set(i,r)}).catch(()=>{}),Wd.set(t,r),t}function Eb(r){if(Td.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Td.set(r,t)}let Sd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Td.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Yv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Tb(r){Sd=r(Sd)}function Sb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(cd(this),t,...i);return Yv.set(s,t.sort?t.sort():[t]),wr(s)}:_b().includes(r)?function(...t){return r.apply(cd(this),t),wr(Qv.get(this))}:function(...t){return wr(r.apply(cd(this),t))}}function Ab(r){return typeof r=="function"?Sb(r):(r instanceof IDBTransaction&&Eb(r),pb(r,yb())?new Proxy(r,Sd):r)}function wr(r){if(r instanceof IDBRequest)return vb(r);if(ud.has(r))return ud.get(r);const t=Ab(r);return t!==r&&(ud.set(r,t),Wd.set(t,r)),t}const cd=r=>Wd.get(r);function bb(r,t,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,t),m=wr(h);return s&&h.addEventListener("upgradeneeded",y=>{s(wr(h.result),y.oldVersion,y.newVersion,wr(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wb=["get","getKey","getAll","getAllKeys","count"],Rb=["put","add","delete","clear"],fd=new Map;function d_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(fd.get(t))return fd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=Rb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wb.includes(i)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&y.done]))[0]};return fd.set(t,u),u}Tb(r=>({...r,get:(t,i,s)=>d_(t,i)||r.get(t,i,s),has:(t,i)=>!!d_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Db(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Db(r){const t=r.getComponent();return t?.type==="VERSION"}const Ad="@firebase/app",m_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Fv("@firebase/app"),Ib="@firebase/app-compat",Vb="@firebase/analytics-compat",Ob="@firebase/analytics",xb="@firebase/app-check-compat",Nb="@firebase/app-check",Mb="@firebase/auth",Pb="@firebase/auth-compat",Lb="@firebase/database",Ub="@firebase/data-connect",zb="@firebase/database-compat",kb="@firebase/functions",Bb="@firebase/functions-compat",jb="@firebase/installations",Hb="@firebase/installations-compat",qb="@firebase/messaging",Gb="@firebase/messaging-compat",Fb="@firebase/performance",Qb="@firebase/performance-compat",Yb="@firebase/remote-config",Kb="@firebase/remote-config-compat",Xb="@firebase/storage",$b="@firebase/storage-compat",Zb="@firebase/firestore",Jb="@firebase/ai",Wb="@firebase/firestore-compat",tw="firebase",ew="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",nw={[Ad]:"fire-core",[Ib]:"fire-core-compat",[Ob]:"fire-analytics",[Vb]:"fire-analytics-compat",[Nb]:"fire-app-check",[xb]:"fire-app-check-compat",[Mb]:"fire-auth",[Pb]:"fire-auth-compat",[Lb]:"fire-rtdb",[Ub]:"fire-data-connect",[zb]:"fire-rtdb-compat",[kb]:"fire-fn",[Bb]:"fire-fn-compat",[jb]:"fire-iid",[Hb]:"fire-iid-compat",[qb]:"fire-fcm",[Gb]:"fire-fcm-compat",[Fb]:"fire-perf",[Qb]:"fire-perf-compat",[Yb]:"fire-rc",[Kb]:"fire-rc-compat",[Xb]:"fire-gcs",[$b]:"fire-gcs-compat",[Zb]:"fire-fst",[Wb]:"fire-fst-compat",[Jb]:"fire-vertex","fire-js":"fire-js",[tw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,iw=new Map,wd=new Map;function g_(r,t){try{r.container.addComponent(t)}catch(i){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ec(r){const t=r.name;if(wd.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;wd.set(t,r);for(const i of vc.values())g_(i,r);for(const i of iw.values())g_(i,r);return!0}function rw(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function aw(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Gv("app","Firebase",sw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=ew;function Kv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:bd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(i||(i=qv()),!i)throw Rr.create("no-options");const u=vc.get(o);if(u){if(ho(i,u.options)&&ho(s,u.config))return u;throw Rr.create("duplicate-app",{appName:o})}const h=new fb(o);for(const y of wd.values())h.addComponent(y);const m=new lw(i,s,h);return vc.set(o,m),m}function uw(r=bd){const t=vc.get(r);if(!t&&r===bd&&qv())return Kv();if(!t)throw Rr.create("no-app",{appName:r});return t}function Ds(r,t,i){var s;let o=(s=nw[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(m.join(" "));return}Ec(new mo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firebase-heartbeat-database",fw=1,go="firebase-heartbeat-store";let hd=null;function Xv(){return hd||(hd=bb(cw,fw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),hd}async function hw(r){try{const i=(await Xv()).transaction(go),s=await i.objectStore(go).get($v(r));return await i.done,s}catch(t){if(t instanceof ks)Fi.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t?.message});Fi.warn(i.message)}}}async function p_(r,t){try{const s=(await Xv()).transaction(go,"readwrite");await s.objectStore(go).put(t,$v(r)),await s.done}catch(i){if(i instanceof ks)Fi.warn(i.message);else{const s=Rr.create("idb-set",{originalErrorMessage:i?.message});Fi.warn(s.message)}}}function $v(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=1024,mw=30;class gw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>mw){const h=_w(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=y_(),{heartbeatsToSend:s,unsentEntries:o}=pw(this._heartbeatsCache.heartbeats),u=_c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Fi.warn(i),""}}}function y_(){return new Date().toISOString().substring(0,10)}function pw(r,t=dw){const i=[];let s=r.slice();for(const o of r){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),__(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),__(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class yw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ib()?rb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return p_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return p_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function __(r){return _c(JSON.stringify({version:2,heartbeats:r})).length}function _w(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r){Ec(new mo("platform-logger",t=>new Cb(t),"PRIVATE")),Ec(new mo("heartbeat",t=>new gw(t),"PRIVATE")),Ds(Ad,m_,r),Ds(Ad,m_,"esm2017"),Ds("fire-js","")}vw("");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,Zv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function R(){}R.prototype=w.prototype,N.D=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(x,P,U){for(var D=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)D[Le-2]=arguments[Le];return w.prototype[P].apply(x,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)x[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],P=N.g[2];var U=N.g[3],D=w+(U^R&(P^U))+x[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[2]+606105819&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+x[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[6]+2821735955&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+x[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[10]+4294925233&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+x[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[14]+2792965006&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(P^U&(R^P))+x[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[11]+643717713&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+x[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[15]+3634488961&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+x[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[3]+4107603335&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+x[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[7]+1735328473&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(R^P^U)+x[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[11]+1839030562&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+x[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[7]+4139469664&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+x[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[3]+3572445317&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+x[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[15]+530742520&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(P^(R|~U))+x[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[14]+2878612391&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+x[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[10]+4293915773&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+x[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[6]+2734768916&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+x[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[2]+718787259&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var R=w-this.blockSize,x=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(x[P++]=N.charCodeAt(U++),P==this.blockSize){o(this,x),P=0;break}}else for(;U<w;)if(x[P++]=N[U++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var R=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=R&255,R/=256;for(this.u(N),N=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)N[R++]=this.g[w]>>>x&255;return N};function u(N,w){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function h(N,w){this.h=w;for(var R=[],x=!0,P=N.length-1;0<=P;P--){var U=N[P]|0;x&&U==w||(R[P]=U,x=!1)}this.g=R}var m={};function y(N){return-128<=N&&128>N?u(N,function(w){return new h([w|0],0>w?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return j(g(-N));for(var w=[],R=1,x=0;N>=R;x++)w[x]=N/R|0,R*=4294967296;return new h(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return j(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=S,P=0;P<N.length;P+=8){var U=Math.min(8,N.length-P),D=parseInt(N.substring(P,P+U),w);8>U?(U=g(Math.pow(w,U)),x=x.j(U).add(g(D))):(x=x.j(R),x=x.add(g(D)))}return x}var S=y(0),b=y(1),I=y(16777216);r=h.prototype,r.m=function(){if(G(this))return-j(this).m();for(var N=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);N+=(0<=x?x:4294967296+x)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(G(this))return"-"+j(this).toString(N);for(var w=g(Math.pow(N,6)),R=this,x="";;){var P=lt(R,w).g;R=F(R,P.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=P,M(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function G(N){return N.h==-1}r.l=function(N){return N=F(this,N),G(N)?-1:M(N)?0:1};function j(N){for(var w=N.g.length,R=[],x=0;x<w;x++)R[x]=~N.g[x];return new h(R,~N.h).add(b)}r.abs=function(){return G(this)?j(this):this},r.add=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],x=0,P=0;P<=w;P++){var U=x+(this.i(P)&65535)+(N.i(P)&65535),D=(U>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);x=D>>>16,U&=65535,D&=65535,R[P]=D<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function F(N,w){return N.add(j(w))}r.j=function(N){if(M(this)||M(N))return S;if(G(this))return G(N)?j(this).j(j(N)):j(j(this).j(N));if(G(N))return j(this.j(j(N)));if(0>this.l(I)&&0>N.l(I))return g(this.m()*N.m());for(var w=this.g.length+N.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<N.g.length;P++){var U=this.i(x)>>>16,D=this.i(x)&65535,Le=N.i(P)>>>16,se=N.i(P)&65535;R[2*x+2*P]+=D*se,et(R,2*x+2*P),R[2*x+2*P+1]+=U*se,et(R,2*x+2*P+1),R[2*x+2*P+1]+=D*Le,et(R,2*x+2*P+1),R[2*x+2*P+2]+=U*Le,et(R,2*x+2*P+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new h(R,0)};function et(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function nt(N,w){this.g=N,this.h=w}function lt(N,w){if(M(w))throw Error("division by zero");if(M(N))return new nt(S,S);if(G(N))return w=lt(j(N),w),new nt(j(w.g),j(w.h));if(G(w))return w=lt(N,j(w)),new nt(j(w.g),w.h);if(30<N.g.length){if(G(N)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=w;0>=x.l(N);)R=ut(R),x=ut(x);var P=yt(R,1),U=yt(x,1);for(x=yt(x,2),R=yt(R,2);!M(x);){var D=U.add(x);0>=D.l(N)&&(P=P.add(R),U=D),x=yt(x,1),R=yt(R,1)}return w=F(N,P.j(w)),new nt(P,w)}for(P=S;0<=N.l(w);){for(R=Math.max(1,Math.floor(N.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(R),D=U.j(w);G(D)||0<D.l(N);)R-=x,U=g(R),D=U.j(w);M(U)&&(U=b),P=P.add(U),N=F(N,D)}return new nt(P,N)}r.A=function(N){return lt(this,N).h},r.and=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&N.i(x);return new h(R,this.h&N.h)},r.or=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|N.i(x);return new h(R,this.h|N.h)},r.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^N.i(x);return new h(R,this.h^N.h)};function ut(N){for(var w=N.g.length+1,R=[],x=0;x<w;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new h(R,N.h)}function yt(N,w){var R=w>>5;w%=32;for(var x=N.g.length-R,P=[],U=0;U<x;U++)P[U]=0<w?N.i(U+R)>>>w|N.i(U+R+1)<<32-w:N.i(U+R);return new h(P,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Zv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Cr=h}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jv,no,Wv,fc,Rd,t0,e0,n0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ic=="object"&&ic];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break t;_=_[z]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var Q=_++;return{value:p(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function S(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(p,z)}}return function(){return c.apply(p,arguments)}}function b(c,p,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function I(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function M(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,Q){for(var rt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)rt[Nt-2]=arguments[Nt];return p.prototype[z].apply(A,rt)}}function G(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function j(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const z=c.length||0,Q=A.length||0;c.length=z+Q;for(let rt=0;rt<Q;rt++)c[z+rt]=A[rt]}else c.push(A)}}class F{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function et(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function lt(c){return lt[" "](c),c}lt[" "]=function(){};var ut=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function yt(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function N(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,p){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function P(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=kt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Le{constructor(){this.h=this.g=null}add(p,_){const A=se.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new F(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,kt=new Le,V=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(tt)}};var tt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var p=se;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}dt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ct(c,p){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ut){t:{try{lt(p.nodeName);var z=!0;break t}catch{}z=!1}z||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}M(Ct,it);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Gn(c,p,_,A,z){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Ki(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pi(c){this.src=c,this.g={},this.h=0}pi.prototype.add=function(c,p,_,A,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var rt=Br(c,p,A,z);return-1<rt?(p=c[rt],_||(p.fa=!1)):(p=new Gn(p,this.src,Q,!!A,z),p.fa=_,c.push(p)),p};function kr(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,p,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(A,z,1),Q&&(Ki(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Br(c,p,_,A){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==A)return z}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),Gs={};function xo(c,p,_,A,z){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)xo(c,p[Q],_,A,z);return null}return _=No(_),c&&c[Ie]?c.K(p,_,g(A)?!!A.capture:!1,z):vn(c,p,_,!1,A,z)}function vn(c,p,_,A,z,Q){if(!p)throw Error("Invalid event type");var rt=g(z)?!!z.capture:!!z,Nt=Na(c);if(Nt||(c[jr]=Nt=new pi(c)),_=Nt.add(p,_,A,rt,Q),_.proxy)return _;if(A=tf(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)mt||(z=rt),z===void 0&&(z=!1),c.addEventListener(p.toString(),A,z);else if(c.attachEvent)c.attachEvent(Hr(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tf(){function c(_){return p.call(c.src,c.listener,_)}const p=ef;return c}function Fs(c,p,_,A,z){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)Fs(c,p[Q],_,A,z);else A=g(A)?!!A.capture:!!A,_=No(_),c&&c[Ie]?(c=c.i,p=String(p).toString(),p in c.g&&(Q=c.g[p],_=Br(Q,_,A,z),-1<_&&(Ki(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[p],c.h--)))):c&&(c=Na(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Br(p,_,A,z)),(_=-1<c?p[c]:null)&&xa(_))}function xa(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])kr(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(Hr(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Na(p))?(kr(_,c),_.h==0&&(_.src=null,p[jr]=null)):Ki(c)}}}function Hr(c){return c in Gs?Gs[c]:Gs[c]="on"+c}function ef(c,p){if(c.da)c=!0;else{p=new Ct(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&xa(c),c=_.call(A,p)}return c}function Na(c){return c=c[jr],c instanceof pi?c:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function No(c){return typeof c=="function"?c:(c[Qs]||(c[Qs]=function(p){return c.handleEvent(p)}),c[Qs])}function le(){st.call(this),this.i=new pi(this),this.M=this,this.F=null}M(le,st),le.prototype[Ie]=!0,le.prototype.removeEventListener=function(c,p,_,A){Fs(this,c,p,_,A)};function qt(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new it(p,c);else if(p instanceof it)p.target=p.target||c;else{var z=p;p=new it(A,c),x(p,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var rt=p.g=_[Q];z=un(rt,A,!0,p)&&z}if(rt=p.g=c,z=un(rt,A,!0,p)&&z,z=un(rt,A,!1,p)&&z,_)for(Q=0;Q<_.length;Q++)rt=p.g=_[Q],z=un(rt,A,!1,p)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)Ki(_[A]);delete c.g[p],c.h--}}this.F=null},le.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},le.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function un(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,Q=0;Q<p.length;++Q){var rt=p[Q];if(rt&&!rt.da&&rt.capture==_){var Nt=rt.listener,Ae=rt.ha||rt.src;rt.fa&&kr(c.i,rt),z=Nt.call(Ae,A)!==!1&&z}}return z&&!A.defaultPrevented}function Fe(c,p,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Mo(c){c.g=Fe(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class nf extends st{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){st.call(this),this.h=c,this.g={}}M(qr,st);var Gr=[];function Fr(c){yt(c.g,function(p,_){this.g.hasOwnProperty(_)&&xa(p)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Fr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=m.JSON.stringify,Ma=m.JSON.parse,Qr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ys(){}Ys.prototype.h=null;function Ks(c){return c.h||(c.h=c.i())}function Xs(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){it.call(this,"d")}M(_i,it);function $s(){it.call(this,"c")}M($s,it);var Fn={},Zs=null;function Xi(){return Zs=Zs||new le}Fn.La="serverreachability";function Pa(c){it.call(this,Fn.La,c)}M(Pa,it);function $i(c){const p=Xi();qt(p,new Pa(p))}Fn.STAT_EVENT="statevent";function Po(c,p){it.call(this,Fn.STAT_EVENT,c),this.stat=p}M(Po,it);function ee(c){const p=Xi();qt(p,new Po(p,c))}Fn.Ma="timingevent";function Se(c,p){it.call(this,Fn.Ma,c),this.size=p}M(Se,it);function pe(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Js(c,p,_,A,z,Q){c.info(function(){if(c.g)if(Q)for(var rt="",Nt=Q.split("&"),Ae=0;Ae<Nt.length;Ae++){var Mt=Nt[Ae].split("=");if(1<Mt.length){var Oe=Mt[0];Mt=Mt[1];var be=Oe.split("_");rt=2<=be.length&&be[1]=="type"?rt+(Oe+"="+Mt+"&"):rt+(Oe+"=redacted&")}}else rt=null;else rt=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+_+`
`+rt})}function rf(c,p,_,A,z,Q,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+_+`
`+Q+" "+rt})}function Zi(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Yr(c,_)+(A?" "+A:"")})}function Lo(c,p){c.info(function(){return"TIMEOUT: "+p})}En.prototype.info=function(){};function Yr(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var rt=1;rt<z.length;rt++)z[rt]=""}}}}return Nn(_)}catch{return p}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}M(Yn,Ys),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function We(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Ws={},La={};function Mn(c,p,_){c.L=1,c.v=Jr(cn(p)),c.m=_,c.P=!0,Ei(c,null)}function Ei(c,p){c.F=Date.now(),Kr(c),c.A=cn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),al(_.i,"t",A),c.C=0,_=c.j.J,c.h=new fe,c.g=Jo(c.j,_?p:null,!c.m),0<c.O&&(c.M=new nf(b(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Gr[0]=z.toString()),z=Gr);for(var Q=0;Q<z.length;Q++){var rt=xo(_,z[Q],A||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),$i(),Js(c.i,c.u,c.A,c.l,c.R,c.m)}We.prototype.ca=function(c){c=c.target;const p=this.M;p&&bn(c)==3?p.j():this.Y(c)},We.prototype.Y=function(c){try{if(c==this.g)t:{const be=bn(this.g);var p=this.g.Ba();const Di=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||be!=4||p==7||(p==8||0>=Di?$i(3):$i(2)),Wi(this);var _=this.g.Z();this.X=_;e:if(Uo(this)){var A=Go(this.g);c="";var z=A.length,Q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Kn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(Q&&p==z-1)});A.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,rf(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,Ae=this.g;if((Nt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Nt)){var Mt=Nt;break e}}Mt=null}if(_=Mt)Zi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xr(this,_);else{this.o=!1,this.s=3,ee(12),Ue(this),Kn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<rt.length;)if(ze=zo(this,rt),ze==La){be==4&&(this.s=4,ee(14),_=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==Ws){this.s=4,ee(15),Zi(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else Zi(this.i,this.l,ze,null),Xr(this,ze);if(Uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||rt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)Zi(this.i,this.l,rt,"[Invalid Chunked Response]"),Ue(this),Kn(this);else if(0<rt.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),sa(Oe),Oe.M=!0,ee(11))}}else Zi(this.i,this.l,rt,null),Xr(this,rt);be==4&&Ue(this),this.o&&!this.J&&(be==4?Xo(this.j,this):(this.o=!1,Kr(this)))}else uf(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),Kn(this)}}}catch{}finally{}};function Uo(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zo(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?La:(_=Number(p.substring(_,A)),isNaN(_)?Ws:(A+=1,A+_>p.length?La:(p=p.slice(A,A+_),c.C=A+_,p)))}We.prototype.cancel=function(){this.J=!0,Ue(this)};function Kr(c){c.S=Date.now()+c.I,ko(c,c.I)}function ko(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(b(c.ba,c),p)}function Wi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}We.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Lo(this.i,this.A),this.L!=2&&($i(),ee(17)),Ue(this),this.s=2,Kn(this)):ko(this,this.S-c)};function Kn(c){c.j.G==0||c.J||Xo(c.j,c)}function Ue(c){Wi(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Fr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Xr(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||tl(_.h,c))){if(!c.K&&tl(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ka(_),Qa(_);else break t;cl(_),ee(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(b(_.Za,_),6e3));if(1>=za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&Ka(_),!et(p))for(z=_.Da.g.parse(p),p=0;p<z.length;p++){let Mt=z[p];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Oe=Mt[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const be=Mt[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const Di=Mt[5];Di!=null&&typeof Di=="number"&&0<Di&&(A=1.5*Di,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ze=c.g;if(ze){const ei=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var Q=A.h;Q.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ka(Q,Q.h),Q.h=null))}if(A.D){const hl=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(A.ya=hl,Qt(A.I,A.D,hl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=c;if(A.qa=Zo(A,A.J?A.ia:null,A.W),rt.K){tn(A.h,rt);var Nt=rt,Ae=A.L;Ae&&(Nt.I=Ae),Nt.B&&(Wi(Nt),Kr(Nt)),A.g=rt}else Yo(A);0<_.i.length&&Ya(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ci(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ci(_,7):ol(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}$i(4)}catch{}}var Bo=class{constructor(c,p){this.g=c,this.map=p}};function Ti(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function za(c){return c.h?1:c.g?c.g.size:0}function tl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ka(c,p){c.g?c.g.add(p):c.h=p}function tn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ti.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function el(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return G(c.i)}function af(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function Ba(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function nl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Ba(c),A=af(c),z=A.length,Q=0;Q<z;Q++)p.call(void 0,A[Q],_&&_[Q],c)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var Q=c[_].substring(0,A);z=c[_].substring(A+1)}else Q=c[_];p(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,Zr(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.s),this.l=c.l;var p=c.i,_=new Ai;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Si(this,_),this.m=c.m}else c&&(p=String(c).match($r))?(this.h=!1,Zr(this,p[1]||"",!0),this.o=Tn(p[2]||""),this.g=Tn(p[3]||"",!0),tr(this,p[4]),this.l=Tn(p[5]||"",!0),Si(this,p[6]||"",!0),this.m=Tn(p[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}ye.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Wr(p,il,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Wr(p,il,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Wr(_,_.charAt(0)=="/"?lf:rl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Wr(_,ja)),c.join("")};function cn(c){return new ye(c)}function Zr(c,p,_){c.j=_?Tn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Si(c,p,_){p instanceof Ai?(c.i=p,Ho(c.i,c.h)):(_||(p=Wr(p,of)),c.i=new Ai(p,c.h))}function Qt(c,p,_){c.i.set(p,_)}function Jr(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wr(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,jo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,rl=/[#\?:]/g,lf=/[#\?]/g,of=/[#\?@]/g,ja=/#/g;function Ai(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&sf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ai.prototype,r.add=function(c,p){Sn(this),this.i=null,c=Xn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function bi(c,p){Sn(c),p=Xn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function wi(c,p){return Sn(c),p=Xn(c,p),c.g.has(p)}r.forEach=function(c,p){Sn(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(p,z,A,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const z=c[A];for(let Q=0;Q<z.length;Q++)_.push(p[A])}return _},r.V=function(c){Sn(this);let p=[];if(typeof c=="string")wi(this,c)&&(p=p.concat(this.g.get(Xn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return Sn(this),this.i=null,c=Xn(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function al(c,p,_){bi(c,p),0<_.length&&(c.i=null,c.g.set(Xn(c,p),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const Q=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var z=Q;rt[A]!==""&&(z+="="+encodeURIComponent(String(rt[A]))),c.push(z)}}return this.i=c.join("&")};function Xn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ho(c,p){p&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(bi(this,A),al(this,z,_))},c)),c.j=p}function ta(c,p){const _=new En;if(m.Image){const A=new Image;A.onload=I(An,_,"TestLoadImage: loaded",!0,p,A),A.onerror=I(An,_,"TestLoadImage: error",!1,p,A),A.onabort=I(An,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=I(An,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Pn(c,p){const _=new En,A=new AbortController,z=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?An(_,"TestPingServer: ok",!0,p):An(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),An(_,"TestPingServer: error",!1,p)})}function An(c,p,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function ea(){this.g=new Qr}function $n(c,p,_){const A=_||"";try{nl(c,function(z,Q){let rt=z;g(z)&&(rt=Nn(z)),p.push(A+Q+"="+encodeURIComponent(rt))})}catch(z){throw p.push(A+"type="+encodeURIComponent("_badmap")),z}}function er(c){this.l=c.Ub||null,this.j=c.eb||!1}M(er,Ys),er.prototype.g=function(){return new Ri(this.l,this.j)},er.prototype.i=function(c){return function(){return c}}({});function Ri(c,p){le.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ri,le),r=Ri.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Zn(this):Jn(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let p="";return yt(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Ve(c,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ll(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,p,_))}function jt(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(jt,le);var Ha=/^https?$/i,na=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?Ks(this.o):Ks(Qn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){qo(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(na,p,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,rt]of _)this.g.setRequestHeader(Q,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){qo(this,Q)}};function qo(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,qa(c),Wn(c)}function qa(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},r.bb=function(){Ga(this)};function Ga(c){if(c.h&&typeof h<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Fe(c.Ea,0,c);else if(qt(c,"readystatechange"),bn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=rt===0){var z=String(c.D).match($r)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!Ha.test(z?z.toLowerCase():"")}_=A}if(_)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var Q=2<bn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",qa(c)}}finally{Wn(c)}}}}function Wn(c,p){if(c.g){ia(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||qt(c,"ready");try{_.onreadystatechange=A}catch{}}}function ia(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ma(p)}};function Go(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const p={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(et(c[A]))continue;var _=P(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[z]||[];p[z]=Q,Q.push(_)}N(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Fa(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,c),this.cb=ra("retryDelaySeedMs",1e4,c),this.Wa=ra("forwardChannelMaxRetries",2,c),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(c&&c.concurrentRequestLimit),this.Da=new ea,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){ee(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Zo(this,null,this.W),Ya(this)};function ol(c){if(Fo(c),c.G==3){var p=c.U++,_=cn(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",p),Qt(_,"TYPE","terminate"),aa(c,_),p=new We(c,c.j,p),p.L=2,p.v=Jr(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Jo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Kr(p)}$o(c)}function Qa(c){c.g&&(sa(c),c.g.cancel(),c.g=null)}function Fo(c){Qa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ya(c){if(!Ua(c.h)&&!c.s){c.s=!0;var p=c.Ga;at||V(),dt||(at(),dt=!0),kt.add(p,c),c.B=0}}function cf(c,p){return za(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(b(c.Ga,c,p),fl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new We(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Qo(this,z,p),_=cn(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),aa(this,_),Q&&(this.O?p="headers="+encodeURIComponent(String(ll(Q)))+"&"+p:this.m&&Ve(_,this.m,Q)),ka(this.h,z),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",p),Qt(_,"SID","null"),z.T=!0,Mn(z,_,null)):Mn(z,_,p),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||Ua(this.h)||ul(this))};function ul(c,p){var _;p?_=p.l:_=c.U++;const A=cn(c.I);Qt(A,"SID",c.K),Qt(A,"RID",_),Qt(A,"AID",c.T),aa(c,A),c.m&&c.o&&Ve(A,c.m,c.o),_=new We(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Qo(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,_),Mn(_,A,p)}function aa(c,p){c.H&&yt(c.H,function(_,A){Qt(p,A,_)}),c.l&&nl({},function(_,A){Qt(p,A,_)})}function Qo(c,p,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;t:{var z=c.i;let Q=-1;for(;;){const rt=["count="+_];Q==-1?0<_?(Q=z[0].g,rt.push("ofs="+Q)):Q=0:rt.push("ofs="+Q);let Nt=!0;for(let Ae=0;Ae<_;Ae++){let Mt=z[Ae].g;const Oe=z[Ae].map;if(Mt-=Q,0>Mt)Q=Math.max(0,z[Ae].g-100),Nt=!1;else try{$n(Oe,rt,"req"+Mt+"_")}catch{A&&A(Oe)}}if(Nt){A=rt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,A}function Yo(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;at||V(),dt||(at(),dt=!0),kt.add(p,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(b(c.Fa,c),fl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Qa(this),Ko(this))};function sa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ko(c){c.g=new We(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=cn(c.qa);Qt(p,"RID","rpc"),Qt(p,"SID",c.K),Qt(p,"AID",c.T),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(p,"TO",c.ja),Qt(p,"TYPE","xmlhttp"),aa(c,p),c.m&&c.o&&Ve(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Jr(cn(p)),_.m=null,_.P=!0,Ei(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Qa(this),cl(this),ee(19))};function Ka(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Xo(c,p){var _=null;if(c.g==p){Ka(c),sa(c),c.g=null;var A=2}else if(tl(c.h,p))_=p.D,tn(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var z=c.B;A=Xi(),qt(A,new Se(A,_)),Ya(c)}else Yo(c);else if(z=p.s,z==3||z==0&&0<p.X||!(A==1&&cf(c,p)||A==2&&cl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),z){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function fl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ci(c,p){if(c.j.info("Error code "+p),p==2){var _=b(c.fb,c),A=c.Xa;const z=!A;A=new ye(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zr(A,"https"),Jr(A),z?ta(A.toString(),_):Pn(A.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(p),$o(c),Fo(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function $o(c){if(c.G=0,c.ka=[],c.l){const p=el(c.h);(p.length!=0||c.i.length!=0)&&(j(c.ka,p),j(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Zo(c,p,_){var A=_ instanceof ye?cn(_):new ye(_);if(A.g!="")p&&(A.g=p+"."+A.g),tr(A,A.s);else{var z=m.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var Q=new ye(null);A&&Zr(Q,A),p&&(Q.g=p),z&&tr(Q,z),_&&(Q.l=_),A=Q}return _=c.D,p=c.ya,_&&p&&Qt(A,_,p),Qt(A,"VER",c.la),aa(c,A),A}function Jo(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new jt(new er({eb:_})):new jt(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xa(){}Xa.prototype.g=function(c,p){return new en(c,p)};function en(c,p){le.call(this),this.g=new Fa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!et(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!et(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ti(this)}M(en,le),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ol(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Nn(c),c=_);p.i.push(new Bo(p.Ya++,c)),p.G==3&&Ya(p)},en.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,en.aa.N.call(this)};function tu(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}M(tu,_i);function eu(){$s.call(this),this.status=1}M(eu,$s);function ti(c){this.g=c}M(ti,Wo),ti.prototype.ua=function(){qt(this.g,"a")},ti.prototype.ta=function(c){qt(this.g,new tu(c))},ti.prototype.sa=function(c){qt(this.g,new eu)},ti.prototype.ra=function(){qt(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,n0=function(){return new Xa},e0=function(){return Xi()},t0=Fn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,fc=Ji,vi.COMPLETE="complete",Wv=vi,Xs.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",le.prototype.listen=le.prototype.K,no=Xs,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Jv=jt}).apply(typeof ic<"u"?ic:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",T_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Fv("@firebase/firestore");function bs(){return wa.logLevel}function ot(r,...t){if(wa.logLevel<=Ut.DEBUG){const i=t.map(tm);wa.debug(`Firestore (${Bs}): ${r}`,...i)}}function Qi(r,...t){if(wa.logLevel<=Ut.ERROR){const i=t.map(tm);wa.error(`Firestore (${Bs}): ${r}`,...i)}}function Vr(r,...t){if(wa.logLevel<=Ut.WARN){const i=t.map(tm);wa.warn(`Firestore (${Bs}): ${r}`,...i)}}function tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,i0(r,s,i)}function i0(r,t,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Qi(s),new Error(s)}function Ht(r,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||i0(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ks{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ew{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class Tw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Sw{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new r0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class Aw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Aw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ww{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,aw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Rw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=t.charAt(o[u]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function Cd(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),o=t.codePointAt(i);if(s!==o){if(s<128&&o<128)return Rt(s,o);{const u=a0(),h=Cw(u.encode(A_(r,i)),u.encode(A_(t,i)));return h!==0?h:Rt(s,o)}}i+=s>65535?2:1}return Rt(r.length,t.length)}function A_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Cw(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Rt(r[i],t[i]);return Rt(r.length,t.length)}function Os(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class li{constructor(t,i,s){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&vt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const u=li.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Rt(t.length,i.length)}static compareSegments(t,i){const s=li.isNumericId(t),o=li.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(t).compare(li.extractNumericId(i)):Cd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class Wt extends li{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Dw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends li{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return Dw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new qe([b_])}static fromServerFormat(t){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ft(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(Wt.fromString(t))}static fromName(t){return new gt(Wt.fromString(t).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,t,i){if(!i)throw new ft(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Iw(r,t,i,s){if(t===!0&&s===!0)throw new ft(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function w_(r){if(!gt.isDocumentKey(r))throw new ft(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function R_(r){if(gt.isDocumentKey(r))throw new ft(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function l0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=nm(r);throw new ft(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,t){const i={typeString:r};return t&&(i.value=t),i}function wo(r,t){if(!l0(r))throw new ft(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ft(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,D_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*D_);return new te(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<C_)throw new ft(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wo(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-C_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Te("string",te._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new te(0,0))}static max(){return new St(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function Vw(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Or(o,gt.empty(),t)}function Ow(r){return new Or(r.readTime,r.key,po)}class Or{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Or(St.min(),gt.empty(),po)}static max(){return new Or(St.max(),gt.empty(),po)}}function xw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==Nw)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,s)=>{i(t)})}static reject(t){return new J((i,s)=>{s(t)})}static waitFor(t){return new J((i,s)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&i()},y=>s(y))}),h=!0,u===o&&i()})}static or(t){let i=J.resolve(!1);for(const s of t)i=i.next(o=>o?J.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,u)=>{s.push(i.call(this,o,u))}),this.waitFor(s)}static mapArray(t,i){return new J((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;i(t[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(t,i){return new J((s,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):s()};u()})}}function Pw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Lc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function Uc(r){return r==null}function Tc(r){return r===0&&1/r==-1/0}function Lw(r){return typeof r=="number"&&Number.isInteger(r)&&!Tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="";function Uw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=I_(t)),t=zw(r.get(i),t);return I_(t)}function zw(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case o0:i+="";break;default:i+=u}}return i}function I_(r){return r+o0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function u0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rc(this.root,t,this.comparator,!0)}}class rc{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,s,o,u){this.key=t,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,u){return new He(t??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,s,o,u){return this}insert(t,i,s){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(t){return new O_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new De(this.comparator);return i.data=t,i}}class O_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new _n([])}unionWith(t){let i=new De(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new _n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Os(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new c0("Invalid base64 string: "+u):u}}(t);return new Ge(i)}static fromUint8Array(t){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=kw.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Nr(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="server_timestamp",h0="__type__",d0="__previous_value__",m0="__local_write_time__";function rm(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[h0])===null||i===void 0?void 0:i.stringValue)===f0}function zc(r){const t=r.mapValue.fields[d0];return rm(t)?zc(t):t}function yo(r){const t=xr(r.mapValue.fields[m0].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,i,s,o,u,h,m,y,g,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Sc="(default)";class _o{constructor(t,i){this.projectId=t,this.database=i||Sc}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(t){return t instanceof _o&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__type__",jw="__max__",ac={mapValue:{}},p0="__vector__",Ac="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rm(r)?4:qw(r)?9007199254740991:Hw(r)?10:11:vt(28295,{value:r})}function hi(r,t){if(r===t)return!0;const i=Mr(r);if(i!==Mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return yo(r).isEqual(yo(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=xr(o.timestampValue),m=xr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Nr(o.bytesValue).isEqual(Nr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return me(o.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return me(o.integerValue)===me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=me(o.doubleValue),m=me(u.doubleValue);return h===m?Tc(h)===Tc(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return Os(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(V_(h)!==V_(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!hi(h[y],m[y])))return!1;return!0}(r,t);default:return vt(52216,{left:r})}}function vo(r,t){return(r.values||[]).find(i=>hi(i,t))!==void 0}function xs(r,t){if(r===t)return 0;const i=Mr(r),s=Mr(t);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(u,h){const m=me(u.integerValue||u.doubleValue),y=me(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,t);case 3:return x_(r.timestampValue,t.timestampValue);case 4:return x_(yo(r),yo(t));case 5:return Cd(r.stringValue,t.stringValue);case 6:return function(u,h){const m=Nr(u),y=Nr(h);return m.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),y=h.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Rt(m[g],y[g]);if(E!==0)return E}return Rt(m.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Rt(me(u.latitude),me(h.latitude));return m!==0?m:Rt(me(u.longitude),me(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return N_(r.arrayValue,t.arrayValue);case 10:return function(u,h){var m,y,g,E;const S=u.fields||{},b=h.fields||{},I=(m=S[Ac])===null||m===void 0?void 0:m.arrayValue,M=(y=b[Ac])===null||y===void 0?void 0:y.arrayValue,G=Rt(((g=I?.values)===null||g===void 0?void 0:g.length)||0,((E=M?.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:N_(I,M)}(r.mapValue,t.mapValue);case 11:return function(u,h){if(u===ac.mapValue&&h===ac.mapValue)return 0;if(u===ac.mapValue)return 1;if(h===ac.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=h.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const b=Cd(y[S],E[S]);if(b!==0)return b;const I=xs(m[y[S]],g[E[S]]);if(I!==0)return I}return Rt(y.length,E.length)}(r.mapValue,t.mapValue);default:throw vt(23264,{le:i})}}function x_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const i=xr(r),s=xr(t),o=Rt(i.seconds,s.seconds);return o!==0?o:Rt(i.nanos,s.nanos)}function N_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=xs(i[o],s[o]);if(u)return u}return Rt(i.length,s.length)}function Ns(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=xr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Nr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=Dd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Dd(i.fields[h])}`;return o+"}"}(r.mapValue):vt(61005,{value:r})}function hc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zc(r);return t?16+hc(t):16;case 5:return 2*r.stringValue.length;case 6:return Nr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ur(s.fields,(u,h)=>{o+=u.length+hc(h)}),o}(r.mapValue);default:throw vt(13486,{value:r})}}function Id(r){return!!r&&"integerValue"in r}function am(r){return!!r&&"arrayValue"in r}function M_(r){return!!r&&"nullValue"in r}function P_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dc(r){return!!r&&"mapValue"in r}function Hw(r){var t,i;return((i=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[g0])===null||i===void 0?void 0:i.stringValue)===p0}function lo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ur(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=lo(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=lo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function qw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=lo(i)}setAll(t){let i=qe.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=m.popLast()}h?s[m.lastSegment()]=lo(h):o.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(t){const i=this.field(t.popLast());dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Ur(i,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new on(lo(this.value))}}function y0(r){const t=[];return Ur(r.fields,(i,s)=>{const o=new qe([i]);if(dc(s)){const u=y0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,i,s,o,u,h,m){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(t,i,s,o){return new Je(t,1,i,St.min(),s,o,0)}static newNoDocument(t,i){return new Je(t,2,i,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i){this.position=t,this.inclusive=i}}function L_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],h=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(h.referenceValue),i.key):s=xs(h,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function U_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Gw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{}class Ce extends _0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Qw(t,i,s):i==="array-contains"?new Xw(t,s):i==="in"?new $w(t,s):i==="not-in"?new Zw(t,s):i==="array-contains-any"?new Jw(t,s):new Ce(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Yw(t,s):new Kw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xs(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(xs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends _0{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new di(t,i)}matches(t){return v0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function v0(r){return r.op==="and"}function E0(r){return Fw(r)&&v0(r)}function Fw(r){for(const t of r.filters)if(t instanceof di)return!1;return!0}function Vd(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(E0(r))return r.filters.map(t=>Vd(t)).join(",");{const t=r.filters.map(i=>Vd(i)).join(",");return`${r.op}(${t})`}}function T0(r,t){return r instanceof Ce?function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,t):r instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&T0(h,o.filters[m]),!0):!1}(r,t):void vt(19439)}function S0(r){return r instanceof Ce?function(i){return`${i.field.canonicalString()} ${i.op} ${Ns(i.value)}`}(r):r instanceof di?function(i){return i.op.toString()+" {"+i.getFilters().map(S0).join(" ,")+"}"}(r):"Filter"}class Qw extends Ce{constructor(t,i,s){super(t,i,s),this.key=gt.fromName(s.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Yw extends Ce{constructor(t,i){super(t,"in",i),this.keys=A0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Kw extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=A0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function A0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class Xw extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return am(i)&&vo(i.arrayValue,this.value)}}class $w extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class Zw extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class Jw extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!am(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>vo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function z_(r,t=null,i=[],s=[],o=null,u=null,h=null){return new Ww(r,t,i,s,o,u,h)}function sm(r){const t=At(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Vd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ns(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ns(s)).join(",")),t.Pe=i}return t.Pe}function lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Gw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!T0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!U_(r.startAt,t.startAt)&&U_(r.endAt,t.endAt)}function Od(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i=null,s=[],o=[],u=null,h="F",m=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function tR(r,t,i,s,o,u,h,m){return new kc(r,t,i,s,o,u,h,m)}function Bc(r){return new kc(r)}function k_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eR(r){return r.collectionGroup!==null}function oo(r){const t=At(r);if(t.Te===null){t.Te=[];const i=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new De(qe.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Te.push(new wc(u,s))}),i.has(qe.keyField().canonicalString())||t.Te.push(new wc(qe.keyField(),s))}return t.Te}function oi(r){const t=At(r);return t.Ie||(t.Ie=nR(t,oo(r))),t.Ie}function nR(r,t){if(r.limitType==="F")return z_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wc(o.field,u)});const i=r.endAt?new bc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bc(r.startAt.position,r.startAt.inclusive):null;return z_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function xd(r,t,i){return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function jc(r,t){return lm(oi(r),oi(t))&&r.limitType===t.limitType}function b0(r){return`${sm(oi(r))}|lt:${r.limitType}`}function ws(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>S0(o)).join(", ")}]`),Uc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ns(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ns(o)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Hc(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of oo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(h,m,y){const g=L_(h,m,y);return h.inclusive?g<=0:g<0}(s.startAt,oo(s),o)||s.endAt&&!function(h,m,y){const g=L_(h,m,y);return h.inclusive?g>=0:g>0}(s.endAt,oo(s),o))}(r,t)}function iR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function w0(r){return(t,i)=>{let s=!1;for(const o of oo(r)){const u=rR(o,t,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rR(r,t,i){const s=r.field.isKeyField()?gt.comparator(t.key,i.key):function(u,h,m){const y=h.data.field(u),g=m.data.field(u);return y!==null&&g!==null?xs(y,g):vt(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ur(this.inner,(i,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new ae(gt.comparator);function Yi(){return aR}const R0=new ae(gt.comparator);function io(...r){let t=R0;for(const i of r)t=t.insert(i.key,i);return t}function C0(r){let t=R0;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Aa(){return uo()}function D0(){return uo()}function uo(){return new Va(r=>r.toString(),(r,t)=>r.isEqual(t))}const sR=new ae(gt.comparator),lR=new De(gt.comparator);function xt(...r){let t=lR;for(const i of r)t=t.add(i);return t}const oR=new De(Rt);function uR(){return oR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(t)?"-0":t}}function I0(r){return{integerValue:""+r}}function cR(r,t){return Lw(t)?I0(t):om(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function fR(r,t,i){return r instanceof Rc?function(o,u){const h={fields:{[h0]:{stringValue:f0},[m0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rm(u)&&(u=zc(u)),u&&(h.fields[d0]=u),{mapValue:h}}(i,t):r instanceof Ms?O0(r,t):r instanceof Eo?x0(r,t):function(o,u){const h=V0(o,u),m=B_(h)+B_(o.Ee);return Id(h)&&Id(o.Ee)?I0(m):om(o.serializer,m)}(r,t)}function hR(r,t,i){return r instanceof Ms?O0(r,t):r instanceof Eo?x0(r,t):i}function V0(r,t){return r instanceof Cc?function(s){return Id(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Rc extends qc{}class Ms extends qc{constructor(t){super(),this.elements=t}}function O0(r,t){const i=N0(t);for(const s of r.elements)i.some(o=>hi(o,s))||i.push(s);return{arrayValue:{values:i}}}class Eo extends qc{constructor(t){super(),this.elements=t}}function x0(r,t){let i=N0(t);for(const s of r.elements)i=i.filter(o=>!hi(o,s));return{arrayValue:{values:i}}}class Cc extends qc{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function B_(r){return me(r.integerValue||r.doubleValue)}function N0(r){return am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,i){this.field=t,this.transform=i}}function mR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Ms&&o instanceof Ms||s instanceof Eo&&o instanceof Eo?Os(s.elements,o.elements,hi):s instanceof Cc&&o instanceof Cc?hi(s.Ee,o.Ee):s instanceof Rc&&o instanceof Rc}(r.transform,t.transform)}class gR{constructor(t,i){this.version=t,this.transformResults=i}}class jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Gc{}function M0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new um(r.key,jn.none()):new Ro(r.key,r.data,jn.none());{const i=r.data,s=on.empty();let o=new De(qe.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new zr(r.key,s,new _n(o.toArray()),jn.none())}}function pR(r,t,i){r instanceof Ro?function(o,u,h){const m=o.value.clone(),y=H_(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,i):r instanceof zr?function(o,u,h){if(!mc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=H_(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(P0(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(r,t,i):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function co(r,t,i,s){return r instanceof Ro?function(u,h,m,y){if(!mc(u.precondition,h))return m;const g=u.value.clone(),E=q_(u.fieldTransforms,y,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,t,i,s):r instanceof zr?function(u,h,m,y){if(!mc(u.precondition,h))return m;const g=q_(u.fieldTransforms,y,h),E=h.data;return E.setAll(P0(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,i,s):function(u,h,m){return mc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,i)}function yR(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=V0(s.transform,o||null);u!=null&&(i===null&&(i=on.empty()),i.set(s.field,u))}return i||null}function j_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Os(s,o,(u,h)=>mR(u,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ro extends Gc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zr extends Gc{constructor(t,i,s,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function H_(r,t,i){const s=new Map;Ht(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let o=0;o<i.length;o++){const u=r[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,hR(h,m,i[o]))}return s}function q_(r,t,i){const s=new Map;for(const o of r){const u=o.transform,h=i.data.field(o.field);s.set(o.field,fR(u,h,t))}return s}class um extends Gc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _R extends Gc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&pR(u,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=co(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=co(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=D0();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=i.has(o.key)?null:m;const y=M0(h,m);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),xt())}isEqual(t){return this.batchId===t.batchId&&Os(this.mutations,t.mutations,(i,s)=>j_(i,s))&&Os(this.baseMutations,t.baseMutations,(i,s)=>j_(i,s))}}class cm{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return sR}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new cm(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Lt;function SR(r){switch(r){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function L0(r){if(r===void 0)return Qi("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ee.OK:return W.OK;case Ee.CANCELLED:return W.CANCELLED;case Ee.UNKNOWN:return W.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return W.INTERNAL;case Ee.UNAVAILABLE:return W.UNAVAILABLE;case Ee.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ee.NOT_FOUND:return W.NOT_FOUND;case Ee.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ee.ABORTED:return W.ABORTED;case Ee.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ee.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:r})}}(Lt=Ee||(Ee={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new Cr([4294967295,4294967295],0);function G_(r){const t=a0().encode(r),i=new Zv;return i.update(t),new Uint8Array(i.digest())}function F_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Cr([i,s],0),new Cr([o,u],0)]}class fm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Cr.fromNumber(this.fe)}pe(t,i,s){let o=t.add(i.multiply(Cr.fromNumber(s)));return o.compare(AR)===1&&(o=new Cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=G_(t),[s,o]=F_(i);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new fm(u,o,i);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.fe===0)return;const i=G_(t),[s,o]=F_(i);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i,s,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Co.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Fc(St.min(),o,new ae(Rt),Yi(),xt())}}class Co{constructor(t,i,s,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Co(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,i,s,o){this.Se=t,this.removedTargetIds=i,this.key=s,this.be=o}}class U0{constructor(t,i){this.targetId=t,this.De=i}}class z0{constructor(t,i,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Q_{constructor(){this.ve=0,this.Ce=Y_(),this.Fe=Ge.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=xt(),i=xt(),s=xt();return this.Ce.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}}),new Co(this.Fe,this.Me,t,i,s)}ke(){this.xe=!1,this.Ce=Y_()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class bR{constructor(t){this.We=t,this.Ge=new Map,this.ze=Yi(),this.je=sc(),this.Je=sc(),this.He=new ae(Rt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,i=>{const s=this.tt(i);switch(t.state){case 0:this.nt(i)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(t.resumeToken));break;default:vt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(t){const i=t.targetId,s=t.De.count,o=this.st(i);if(o){const u=o.target;if(Od(u))if(s===0){const h=new gt(u.path);this.Xe(i,h,Je.newNoDocument(h,St.min()))}else Ht(s===1,20013,{expectedCount:s});else{const h=this.ot(i);if(h!==s){const m=this._t(t),y=m?this.ut(m,t,h):1;if(y!==0){this.rt(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,g)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let h,m;try{h=Nr(s).toUint8Array()}catch(y){if(y instanceof c0)return Vr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new fm(h,o,u)}catch(y){return Vr(y instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.fe===0?null:m}ut(t,i,s){return i.De.count===s-this.ht(t,i.targetId)?0:2}ht(t,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(i,u,null),o++)}),o}Pt(t){const i=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Od(m.target)){const y=new gt(m.target.path);this.Tt(y).has(h)||this.It(h,y)||this.Xe(h,y,Je.newNoDocument(y,t))}u.Ne&&(i.set(h,u.Le()),u.ke())}});let s=xt();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(y=>{const g=this.st(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(t));const o=new Fc(t,i,this.He,this.ze,s);return this.ze=Yi(),this.je=sc(),this.Je=sc(),this.He=new ae(Rt),o}Ze(t,i){if(!this.nt(t))return;const s=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new Q_,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new De(Rt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new De(Rt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Q_),this.We.getRemoteKeysForTarget(t).forEach(i=>{this.Xe(t,i,null)})}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function sc(){return new ae(gt.comparator)}function Y_(){return new ae(gt.comparator)}const wR={asc:"ASCENDING",desc:"DESCENDING"},RR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Nd(r,t){return r.useProto3Json||Uc(t)?t:{value:t}}function Dc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function k0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function IR(r,t){return Dc(r,t.toTimestamp())}function ui(r){return Ht(!!r,49232),St.fromTimestamp(function(i){const s=xr(i);return new te(s.seconds,s.nanos)}(r))}function hm(r,t){return Md(r,t).canonicalString()}function Md(r,t){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function B0(r){const t=Wt.fromString(r);return Ht(F0(t),10190,{key:t.toString()}),t}function Pd(r,t){return hm(r.databaseId,t.path)}function dd(r,t){const i=B0(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(H0(i))}function j0(r,t){return hm(r.databaseId,t)}function VR(r){const t=B0(r);return t.length===4?Wt.emptyPath():H0(t)}function Ld(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function H0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function K_(r,t,i){return{name:Pd(r,t),fields:i.value.mapValue.fields}}function OR(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Ge.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ge.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const E=g.code===void 0?W.UNKNOWN:L0(g.code);return new ft(E,g.message||"")}(h);i=new z0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=dd(r,s.document.name),u=ui(s.document.updateTime),h=s.document.createTime?ui(s.document.createTime):St.min(),m=new on({mapValue:{fields:s.document.fields}}),y=Je.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];i=new gc(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=dd(r,s.document),u=s.readTime?ui(s.readTime):St.min(),h=Je.newNoDocument(o,u),m=s.removedTargetIds||[];i=new gc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=dd(r,s.document),u=s.removedTargetIds||[];i=new gc([],u,o,null)}else{if(!("filter"in t))return vt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new TR(o,u),m=s.targetId;i=new U0(m,h)}}return i}function xR(r,t){let i;if(t instanceof Ro)i={update:K_(r,t.key,t.value)};else if(t instanceof um)i={delete:Pd(r,t.key)};else if(t instanceof zr)i={update:K_(r,t.key,t.data),updateMask:jR(t.fieldMask)};else{if(!(t instanceof _R))return vt(16599,{Rt:t.type});i={verify:Pd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Rc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ms)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Cc)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw vt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:IR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)}(r,t.precondition)),i}function NR(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(i=>function(o,u){let h=o.updateTime?ui(o.updateTime):ui(u);return h.isEqual(St.min())&&(h=ui(u)),new gR(h,o.transformResults||[])}(i,t))):[]}function MR(r,t){return{documents:[j0(r,t.path)]}}function PR(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=j0(r,o);const u=function(g){if(g.length!==0)return G0(di.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:Rs(b.field),direction:zR(b.dir)}}(E))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const m=Nd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:i,parent:o}}function LR(r){let t=VR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];i.where&&(u=function(S){const b=q0(S);return b instanceof di&&E0(b)?b.getFilters():[b]}(i.where));let h=[];i.orderBy&&(h=function(S){return S.map(b=>function(M){return new wc(Cs(M.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(b))}(i.orderBy));let m=null;i.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,Uc(b)?null:b}(i.limit));let y=null;i.startAt&&(y=function(S){const b=!!S.before,I=S.values||[];return new bc(I,b)}(i.startAt));let g=null;return i.endAt&&(g=function(S){const b=!S.before,I=S.values||[];return new bc(I,b)}(i.endAt)),tR(t,o,h,u,m,"F",y,g)}function UR(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function q0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Cs(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Cs(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Cs(i.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Cs(i.unaryFilter.field);return Ce.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ce.create(Cs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return di.create(i.compositeFilter.filters.map(s=>q0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(r):vt(30097,{filter:r})}function zR(r){return wR[r]}function kR(r){return RR[r]}function BR(r){return CR[r]}function Rs(r){return{fieldPath:r.canonicalString()}}function Cs(r){return qe.fromServerFormat(r.fieldPath)}function G0(r){return r instanceof Ce?function(i){if(i.op==="=="){if(P_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NAN"}};if(M_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NAN"}};if(M_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(i.field),op:kR(i.op),value:i.value}}}(r):r instanceof di?function(i){const s=i.getFilters().map(o=>G0(o));return s.length===1?s[0]:{compositeFilter:{op:BR(i.op),filters:s}}}(r):vt(54877,{filter:r})}function jR(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function F0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,i,s,o,u=St.min(),h=St.min(),m=Ge.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.gt=t}}function qR(r){const t=LR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Dn=new FR}addToCollectionParentIndex(t,i){return this.Dn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Or.min())}updateCollectionGroup(t,i,s){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class FR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new De(Wt.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Q0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ps(0)}static ur(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",QR=1048576;function Z_([r,t],[i,s]){const o=Rt(r,i);return o===0?Rt(t,s):o}class YR{constructor(t){this.Tr=t,this.buffer=new De(Z_),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Z_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ot($_,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hs(i)?ot($_,"Ignoring IndexedDB error during garbage collection: ",i):await js(i)}await this.Rr(3e5)})}}class XR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Lc.ue);const s=new YR(i);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(X_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.pr(t,i))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let s,o,u,h,m,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,i))).next(S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(g=Date.now(),bs()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function $R(r,t){return new XR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.changes=new Va(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&co(s.mutation,o,_n.empty(),te.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=xt()){const o=Aa();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(u=>{let h=io();return u.forEach((m,y)=>{h=h.insert(m,y.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const s=Aa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,xt()))}populateOverlays(t,i,s){const o=[];return s.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{i.set(h,m)})})}computeViews(t,i,s,o){let u=Yi();const h=uo(),m=function(){return uo()}();return i.forEach((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof zr)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),co(E.mutation,g,E.mutation.getFieldMask(),te.now())):h.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((g,E)=>h.set(g,E)),i.forEach((g,E)=>{var S;return m.set(g,new JR(E,(S=h.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,i){const s=uo();let o=new ae((h,m)=>h-m),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const m of h)m.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let E=s.get(y)||_n.empty();E=m.applyToLocalView(g,E),s.set(y,E);const S=(o.get(m.batchId)||xt()).add(y);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,S=D0();E.forEach(b=>{if(!u.has(b)){const I=M0(i.get(b),s.get(b));I!==null&&S.set(b,I),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,S))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-u.size):J.resolve(Aa());let m=po,y=u;return h.next(g=>J.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{y=y.insert(E,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,y,g,xt())).next(E=>({batchId:m,changes:C0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next(s=>{let o=io();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const u=i.collectionGroup;let h=io();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,y=>{const g=function(S,b){return new kc(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((S,b)=>{h=h.insert(S,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,o))).next(h=>{u.forEach((y,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Je.newInvalidDocument(E)))});let m=io();return h.forEach((y,g)=>{const E=u.get(y);E!==void 0&&co(E.mutation,g,_n.empty(),te.now()),Hc(i,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return J.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:qR(o.bundledQuery),readTime:ui(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.overlays=new ae(gt.comparator),this.kr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Aa();return J.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,u)=>{this.wt(t,i,u)}),J.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(t,i,s){const o=Aa(),u=i.length+1,h=new gt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let u=new ae((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Aa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Aa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}wt(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ER(i,s));let u=this.kr.get(i);u===void 0&&(u=xt(),this.kr.set(i,u)),this.kr.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.qr=new De(Pe.Qr),this.$r=new De(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Wr(new Pe(t,i))}Gr(t,i){t.forEach(s=>this.removeReference(s,i))}zr(t){const i=new gt(new Wt([])),s=new Pe(i,t),o=new Pe(i,t+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new gt(new Wt([])),s=new Pe(i,t),o=new Pe(i,t+1);let u=xt();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new Pe(t,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return gt.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new De(Pe.Qr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vR(u,i,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(h)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Xr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?im:this.er-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new De(Rt);return i.forEach(o=>{const u=new Pe(o,0),h=new Pe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const h=new Pe(new gt(u),0);let m=new De(Rt);return this.Yr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)},h),J.resolve(this.ei(m))}ei(t){const i=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Ht(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(i.mutations,o=>{const u=new Pe(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,i){const s=new Pe(i,0),o=this.Yr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.ni=t,this.docs=function(){return new ae(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let s=Yi();return i.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let u=Yi();const h=i.path,m=new gt(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||xw(Ow(E),s)<=0||(o.has(E.key)||Hc(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,i,s,o){vt(9500)}ri(t,i){return J.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new a2(this)}getSize(t){return J.resolve(this.size)}}class a2 extends ZR{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),J.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.persistence=t,this.ii=new Va(i=>sm(i),lm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new dm,this.targetCount=0,this._i=Ps.ar()}forEachTarget(t,i){return this.ii.forEach((s,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),J.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new Ps(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.hr(i),J.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const s=this.ii.get(i)||null;return J.resolve(s)}addMatchingKeys(t,i,s){return this.oi.Kr(i,s),J.resolve()}removeMatchingKeys(t,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const s=this.oi.Jr(i);return J.resolve(s)}containsKey(t,i){return J.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,i){this.ai={},this.overlays={},this.ui=new Lc(0),this.ci=!1,this.ci=!0,this.li=new n2,this.referenceDelegate=t(this),this.hi=new s2(this),this.indexManager=new GR,this.remoteDocumentCache=function(o){return new r2(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new HR(i),this.Ti=new t2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new e2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ai[t.toKey()];return s||(s=new i2(i,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,s){ot("MemoryPersistence","Starting transaction:",t);const o=new l2(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(t,i){return J.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,i)))}}class l2 extends Mw{constructor(t){super(),this.currentSequenceNumber=t}}class mm{constructor(t){this.persistence=t,this.Ai=new dm,this.Ri=null}static Vi(t){return new mm(t)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(t,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),J.resolve()}removeReference(t,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(t,i))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,s=>{const o=gt.fromPath(s);return this.fi(t,o).next(u=>{u||i.removeEntry(o,St.min())})}).next(()=>(this.Ri=null,i.apply(t)))}updateLimboDocument(t,i){return this.fi(t,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(t){return 0}fi(t,i){return J.or([()=>J.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Ic{constructor(t,i){this.persistence=t,this.gi=new Va(s=>Uw(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$R(this,i)}static Vi(t,i){return new Ic(t,i)}Ii(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}yr(t){let i=0;return this.gr(t,s=>{i++}).next(()=>i)}gr(t,i){return J.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(u=>u?J.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,h=>this.Sr(t,h,i).next(m=>{m||(s++,u.removeEntry(h,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),J.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=hc(t.data.value)),i}Sr(t,i,s){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.gi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Is=s,this.ds=o}static Es(t,i){let s=xt(),o=xt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gm(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return nb()?8:Pw(tb())>0?6:4}()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,s,o){const u={result:null};return this.ps(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(t,i,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new o2;return this.ws(t,i,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(t,i,h,m.size)})}).next(()=>u.result)}Ss(t,i,s,o){return s.documentReadCount<this.Vs?(bs()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ws(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(bs()<=Ut.DEBUG&&ot("QueryEngine","Query:",ws(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(bs()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ws(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):J.resolve())}ps(t,i){if(k_(i))return J.resolve(null);let s=oi(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=xd(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const h=xt(...u);return this.gs.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(y=>{const g=this.bs(i,m);return this.Ds(i,g,h,y.readTime)?this.ps(t,xd(i,null,"F")):this.vs(t,g,i,y)}))})))}ys(t,i,s,o){return k_(i)||o.isEqual(St.min())?J.resolve(null):this.gs.getDocuments(t,s).next(u=>{const h=this.bs(i,u);return this.Ds(i,h,s,o)?J.resolve(null):(bs()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ws(i)),this.vs(t,h,i,Vw(o,po)).next(m=>m))})}bs(t,i){let s=new De(w0(t));return i.forEach((o,u)=>{Hc(t,u)&&(s=s.add(u))}),s}Ds(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,i,s){return bs()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ws(i)),this.gs.getDocumentsMatchingQuery(t,i,Or.min(),s)}vs(t,i,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="LocalStore",c2=3e8;class f2{constructor(t,i,s,o){this.persistence=t,this.Cs=i,this.serializer=o,this.Fs=new ae(Rt),this.Ms=new Va(u=>sm(u),lm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Fs))}}function h2(r,t,i,s){return new f2(r,t,i,s)}async function K0(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,i.Ns(t),i.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let y=xt();for(const g of o){h.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function d2(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=i.Os.newChangeBuffer({trackRemovals:!0});return function(m,y,g,E){const S=g.batch,b=S.keys();let I=J.resolve();return b.forEach(M=>{I=I.next(()=>E.getEntry(y,M)).next(G=>{const j=g.docVersions.get(M);Ht(j!==null,48541),G.version.compareTo(j)<0&&(S.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(y,S))}(i,s,t,u).next(()=>u.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=xt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function X0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.hi.getLastRemoteSnapshotVersion(i))}function m2(r,t){const i=At(r),s=t.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const m=[];t.targetChanges.forEach((E,S)=>{const b=o.get(S);if(!b)return;m.push(i.hi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>i.hi.addMatchingKeys(u,E.addedDocuments,S)));let I=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?I=I.withResumeToken(Ge.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),o=o.insert(S,I),function(G,j,F){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=c2?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(b,I,E)&&m.push(i.hi.updateTargetData(u,I))});let y=Yi(),g=xt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(g2(u,h,t.documentUpdates).next(E=>{y=E.Ls,g=E.ks})),!s.isEqual(St.min())){const E=i.hi.getLastRemoteSnapshotVersion(u).next(S=>i.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(i.Fs=o,u))}function g2(r,t,i){let s=xt(),o=xt();return i.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let h=Yi();return i.forEach((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(m,y.readTime),h=h.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),h=h.insert(m,y)):ot(pm,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{Ls:h,ks:o}})}function p2(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function y2(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,t).next(u=>u?(o=u,J.resolve(o)):i.hi.allocateTargetId(s).next(h=>(o=new Ar(t,h,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(t,s.targetId)),s})}async function Ud(r,t,i){const s=At(r),o=s.Fs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Hs(h))throw h;ot(pm,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function J_(r,t,i){const s=At(r);let o=St.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(y,g,E){const S=At(y),b=S.Ms.get(E);return b!==void 0?J.resolve(S.Fs.get(b)):S.hi.getTargetData(g,E)}(s,h,oi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(y=>{u=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,t,i?o:St.min(),i?u:xt())).next(m=>(_2(s,iR(t),m),{documents:m,qs:u})))}function _2(r,t,i){let s=r.xs.get(t)||St.min();i.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(t,s)}class W_{constructor(){this.activeTargetIds=uR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class v2{constructor(){this.Fo=new W_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,s){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new W_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class ev{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ot(tv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ot(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function zd(){return lc===null?lc=function(){return 268435456+Math.round(2147483648*Math.random())}():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",T2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Sc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,i,s,o,u){const h=zd(),m=this.Go(t,i.toUriEncodedString());ot(md,`Sending RPC '${t}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,u);const{host:g}=new URL(m),E=Jd(g);return this.jo(t,m,y,s,E).then(S=>(ot(md,`Received RPC '${t}' ${h}: `,S),S),S=>{throw Vr(md,`RPC '${t}' ${h} failed with error: `,S,"url: ",m,"request:",s),S})}Jo(t,i,s,o,u,h){return this.Wo(t,i,s,o,u)}zo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}Go(t,i){const s=T2[t];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class b2 extends S2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,s,o,u){const h=zd();return new Promise((m,y)=>{const g=new Jv;g.setWithCredentials(!0),g.listenOnce(Wv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fc.NO_ERROR:const S=g.getResponseJson();ot(Ke,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(S)),m(S);break;case fc.TIMEOUT:ot(Ke,`RPC '${t}' ${h} timed out`),y(new ft(W.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const b=g.getStatus();if(ot(Ke,`RPC '${t}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I?.error;if(M&&M.status&&M.message){const G=function(F){const et=F.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(et)>=0?et:W.UNKNOWN}(M.status);y(new ft(G,M.message))}else y(new ft(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ft(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ot(Ke,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(o);ot(Ke,`RPC '${t}' ${h} sending request:`,o),g.send(i,"POST",E,s,15)})}P_(t,i,s){const o=zd(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=n0(),m=e0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ke,`Creating RPC '${t}' stream ${o}: ${E}`,y);const S=h.createWebChannel(E,y);this.T_(S);let b=!1,I=!1;const M=new A2({Ho:j=>{I?ot(Ke,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(b||(ot(Ke,`Opening RPC '${t}' stream ${o} transport.`),S.open(),b=!0),ot(Ke,`RPC '${t}' stream ${o} sending:`,j),S.send(j))},Yo:()=>S.close()}),G=(j,F,et)=>{j.listen(F,nt=>{try{et(nt)}catch(lt){setTimeout(()=>{throw lt},0)}})};return G(S,no.EventType.OPEN,()=>{I||(ot(Ke,`RPC '${t}' stream ${o} transport opened.`),M.s_())}),G(S,no.EventType.CLOSE,()=>{I||(I=!0,ot(Ke,`RPC '${t}' stream ${o} transport closed`),M.__(),this.I_(S))}),G(S,no.EventType.ERROR,j=>{I||(I=!0,Vr(Ke,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),M.__(new ft(W.UNAVAILABLE,"The operation could not be completed")))}),G(S,no.EventType.MESSAGE,j=>{var F;if(!I){const et=j.data[0];Ht(!!et,16349);const nt=et,lt=nt?.error||((F=nt[0])===null||F===void 0?void 0:F.error);if(lt){ot(Ke,`RPC '${t}' stream ${o} received error:`,lt);const ut=lt.status;let yt=function(R){const x=Ee[R];if(x!==void 0)return L0(x)}(ut),N=lt.message;yt===void 0&&(yt=W.INTERNAL,N="Unknown error status: "+ut+" with message "+lt.message),I=!0,M.__(new ft(yt,N)),S.close()}else ot(Ke,`RPC '${t}' stream ${o} received:`,et),M.a_(et)}}),G(m,t0.STAT_EVENT,j=>{j.stat===Rd.PROXY?ot(Ke,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===Rd.NOPROXY&&ot(Ke,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(i=>i===t)}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){return new DR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,i,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=i,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class Z0{constructor(t,i,s,o,u,h,m,y){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $0(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{t(()=>{const o=new ft(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,i){const s=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ot(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget(()=>this.b_===t?i():(ot(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w2 extends Z0{constructor(t,i,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,h),this.serializer=u}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=OR(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?ui(h.readTime):St.min()}(t);return this.listener.J_(i,s)}H_(t){const i={};i.database=Ld(this.serializer),i.addTarget=function(u,h){let m;const y=h.target;if(m=Od(y)?{documents:MR(u,y)}:{query:PR(u,y).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=k0(u,h.resumeToken);const g=Nd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=Dc(u,h.snapshotVersion.toTimestamp());const g=Nd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=UR(this.serializer,t);s&&(i.labels=s),this.k_(i)}Y_(t){const i={};i.database=Ld(this.serializer),i.removeTarget=t,this.k_(i)}}class R2 extends Z0{constructor(t,i,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=NR(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.ta(s,i)}na(){const t={};t.database=Ld(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>xR(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{}class D2 extends C2{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ft(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,Md(i,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(W.UNKNOWN,u.toString())})}Jo(t,i,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(t,Md(i,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(W.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class I2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qi(i),this._a=!1):ot("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class V2{constructor(t,i,s,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Oa(this)&&(ot(Ra,"Restarting streams for network reachability change."),await async function(y){const g=At(y);g.Ia.add(4),await Do(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Yc(g)}(this))})}),this.Aa=new I2(s,o)}}async function Yc(r){if(Oa(r))for(const t of r.da)await t(!0)}async function Do(r){for(const t of r.da)await t(!1)}function J0(r,t){const i=At(r);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Em(i)?vm(i):qs(i).x_()&&_m(i,t))}function ym(r,t){const i=At(r),s=qs(i);i.Ta.delete(t),s.x_()&&W0(i,t),i.Ta.size===0&&(s.x_()?s.B_():Oa(i)&&i.Aa.set("Unknown"))}function _m(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}qs(r).H_(t)}function W0(r,t){r.Ra.$e(t),qs(r).Y_(t)}function vm(r){r.Ra=new bR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),qs(r).start(),r.Aa.aa()}function Em(r){return Oa(r)&&!qs(r).M_()&&r.Ta.size>0}function Oa(r){return At(r).Ia.size===0}function tE(r){r.Ra=void 0}async function O2(r){r.Aa.set("Online")}async function x2(r){r.Ta.forEach((t,i)=>{_m(r,t)})}async function N2(r,t){tE(r),Em(r)?(r.Aa.la(t),vm(r)):r.Aa.set("Unknown")}async function M2(r,t,i){if(r.Aa.set("Online"),t instanceof z0&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,t)}catch(s){ot(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Vc(r,s)}else if(t instanceof gc?r.Ra.Ye(t):t instanceof U0?r.Ra.it(t):r.Ra.et(t),!i.isEqual(St.min()))try{const s=await X0(r.localStore);i.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(y.resumeToken,h))}}),m.targetMismatches.forEach((y,g)=>{const E=u.Ta.get(y);if(!E)return;u.Ta.set(y,E.withResumeToken(Ge.EMPTY_BYTE_STRING,E.snapshotVersion)),W0(u,y);const S=new Ar(E.target,y,g,E.sequenceNumber);_m(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){ot(Ra,"Failed to raise snapshot:",s),await Vc(r,s)}}async function Vc(r,t,i){if(!Hs(t))throw t;r.Ia.add(1),await Do(r),r.Aa.set("Offline"),i||(i=()=>X0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Ra,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await Yc(r)})}function eE(r,t){return t().catch(i=>Vc(r,i,t))}async function Kc(r){const t=At(r),i=Pr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:im;for(;P2(t);)try{const o=await p2(t.localStore,s);if(o===null){t.Pa.length===0&&i.B_();break}s=o.batchId,L2(t,o)}catch(o){await Vc(t,o)}nE(t)&&iE(t)}function P2(r){return Oa(r)&&r.Pa.length<10}function L2(r,t){r.Pa.push(t);const i=Pr(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function nE(r){return Oa(r)&&!Pr(r).M_()&&r.Pa.length>0}function iE(r){Pr(r).start()}async function U2(r){Pr(r).na()}async function z2(r){const t=Pr(r);for(const i of r.Pa)t.X_(i.mutations)}async function k2(r,t,i){const s=r.Pa.shift(),o=cm.from(s,t,i);await eE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Kc(r)}async function B2(r,t){t&&Pr(r).Z_&&await async function(s,o){if(function(h){return SR(h)&&h!==W.ABORTED}(o.code)){const u=s.Pa.shift();Pr(s).N_(),await eE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kc(s)}}(r,t),nE(r)&&iE(r)}async function iv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ot(Ra,"RemoteStore received new credentials");const s=Oa(i);i.Ia.add(3),await Do(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Yc(i)}async function j2(r,t){const i=At(r);t?(i.Ia.delete(2),await Yc(i)):t||(i.Ia.add(2),await Do(i),i.Aa.set("Unknown"))}function qs(r){return r.Va||(r.Va=function(i,s,o){const u=At(i);return u.ia(),new w2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:O2.bind(null,r),e_:x2.bind(null,r),n_:N2.bind(null,r),J_:M2.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Em(r)?vm(r):r.Aa.set("Unknown")):(await r.Va.stop(),tE(r))})),r.Va}function Pr(r){return r.ma||(r.ma=function(i,s,o){const u=At(i);return u.ia(),new R2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:U2.bind(null,r),n_:B2.bind(null,r),ea:z2.bind(null,r),ta:k2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await Kc(r)):(await r.ma.stop(),r.Pa.length>0&&(ot(Ra,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,i,s,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,u){const h=Date.now()+s,m=new Tm(t,i,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),Hs(r))return new ft(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(t){return new Is(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=io(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Is)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Is;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.fa=new ae(gt.comparator)}track(t){const i=t.doc.key,s=this.fa.get(i);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(i,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(i):t.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):vt(63341,{At:t,ga:s}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal((i,s)=>{t.push(s)}),t}}class Ls{constructor(t,i,s,o,u,h,m,y,g){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,i,s,o,u){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new Ls(t,i,Is.emptySet(i),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class q2{constructor(){this.queries=av(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=At(i),u=o.queries;o.queries=av(),u.forEach((h,m)=>{for(const y of m.wa)y.onError(s)})})(this,new ft(W.ABORTED,"Firestore shutting down"))}}function av(){return new Va(r=>b0(r),jc)}async function rE(r,t){const i=At(r);let s=3;const o=t.query;let u=i.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new H2,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await i.onListen(o,!0);break;case 1:u.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const m=Sm(h,`Initialization of query '${ws(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.wa.push(t),t.va(i.onlineState),u.ya&&t.Ca(u.ya)&&Am(i)}async function aE(r,t){const i=At(r),s=t.query;let o=3;const u=i.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function G2(r,t){const i=At(r);let s=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Am(i)}function F2(r,t,i){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(i);s.queries.delete(t)}function Am(r){r.Da.forEach(t=>{t.next()})}var kd,sv;(sv=kd||(kd={})).Fa="default",sv.Cache="cache";class sE{constructor(t,i,s){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ls(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=Ls.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t){this.key=t}}class oE{constructor(t){this.key=t}}class Q2{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xt(),this.mutatedKeys=xt(),this.Xa=w0(t),this.eu=new Is(this.Xa)}get tu(){return this.Ha}nu(t,i){const s=i?i.ru:new rv,o=i?i.eu:this.eu;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const b=o.get(E),I=Hc(this.query,S)?S:null,M=!!b&&this.mutatedKeys.has(b.key),G=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;b&&I?b.data.isEqual(I.data)?M!==G&&(s.track({type:3,doc:I}),j=!0):this.iu(b,I)||(s.track({type:2,doc:I}),j=!0,(y&&this.Xa(I,y)>0||g&&this.Xa(I,g)<0)&&(m=!0)):!b&&I?(s.track({type:0,doc:I}),j=!0):b&&!I&&(s.track({type:1,doc:b}),j=!0,(y||g)&&(m=!0)),j&&(I?(h=h.add(I),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort((E,S)=>function(I,M){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:j})}};return G(I)-G(M)}(E.type,S.type)||this.Xa(E.doc,S.doc)),this.su(s),o=o!=null&&o;const m=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,g=y!==this.Ya;return this.Ya=y,h.length!==0||g?{snapshot:new Ls(this.query,t.eu,u,h,t.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new rv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=xt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return t.forEach(s=>{this.Za.has(s)||i.push(new oE(s))}),this.Za.forEach(s=>{t.has(s)||i.push(new lE(s))}),i}uu(t){this.Ha=t.qs,this.Za=xt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return Ls.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const bm="SyncEngine";class Y2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class K2{constructor(t){this.key=t,this.lu=!1}}class X2{constructor(t,i,s,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Va(m=>b0(m),jc),this.Tu=new Map,this.Iu=new Set,this.du=new ae(gt.comparator),this.Eu=new Map,this.Au=new dm,this.Ru={},this.Vu=new Map,this.mu=Ps.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function $2(r,t,i=!0){const s=mE(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await uE(s,t,i,!0),o}async function Z2(r,t){const i=mE(r);await uE(i,t,!0,!1)}async function uE(r,t,i,s){const o=await y2(r.localStore,oi(t)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,i);let m;return s&&(m=await J2(r,t,u,h==="current",o.resumeToken)),r.isPrimaryClient&&i&&J0(r.remoteStore,o),m}async function J2(r,t,i,s,o){r.gu=(S,b,I)=>async function(G,j,F,et){let nt=j.view.nu(F);nt.Ds&&(nt=await J_(G.localStore,j.query,!1).then(({documents:N})=>j.view.nu(N,nt)));const lt=et&&et.targetChanges.get(j.targetId),ut=et&&et.targetMismatches.get(j.targetId)!=null,yt=j.view.applyChanges(nt,G.isPrimaryClient,lt,ut);return ov(G,j.targetId,yt._u),yt.snapshot}(r,S,b,I);const u=await J_(r.localStore,t,!0),h=new Q2(t,u.qs),m=h.nu(u.documents),y=Co.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,y);ov(r,i,g._u);const E=new Y2(t,i,h);return r.Pu.set(t,E),r.Tu.has(i)?r.Tu.get(i).push(t):r.Tu.set(i,[t]),g.snapshot}async function W2(r,t,i){const s=At(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!jc(h,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&ym(s.remoteStore,o.targetId),Bd(s,o.targetId)}).catch(js)):(Bd(s,o.targetId),await Ud(s.localStore,o.targetId,!0))}async function tC(r,t){const i=At(r),s=i.Pu.get(t),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ym(i.remoteStore,s.targetId))}async function eC(r,t,i){const s=oC(r);try{const o=await function(h,m){const y=At(h),g=te.now(),E=m.reduce((I,M)=>I.add(M.key),xt());let S,b;return y.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=Yi(),G=xt();return y.Os.getEntries(I,E).next(j=>{M=j,M.forEach((F,et)=>{et.isValidDocument()||(G=G.add(F))})}).next(()=>y.localDocuments.getOverlayedDocuments(I,M)).next(j=>{S=j;const F=[];for(const et of m){const nt=yR(et,S.get(et.key).overlayedDocument);nt!=null&&F.push(new zr(et.key,nt,y0(nt.value.mapValue),jn.exists(!0)))}return y.mutationQueue.addMutationBatch(I,g,F,m)}).next(j=>{b=j;const F=j.applyToLocalDocumentSet(S,G);return y.documentOverlayCache.saveOverlays(I,j.batchId,F)})}).then(()=>({batchId:b.batchId,changes:C0(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,y){let g=h.Ru[h.currentUser.toKey()];g||(g=new ae(Rt)),g=g.insert(m,y),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,i),await Io(s,o.changes),await Kc(s.remoteStore)}catch(o){const u=Sm(o,"Failed to persist write");i.reject(u)}}async function cE(r,t){const i=At(r);try{const s=await m2(i.localStore,t);t.targetChanges.forEach((o,u)=>{const h=i.Eu.get(u);h&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ht(h.lu,14607):o.removedDocuments.size>0&&(Ht(h.lu,42227),h.lu=!1))}),await Io(i,s,t)}catch(s){await js(s)}}function lv(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const y=At(h);y.onlineState=m;let g=!1;y.queries.forEach((E,S)=>{for(const b of S.wa)b.va(m)&&(g=!0)}),g&&Am(y)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function nC(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ae(gt.comparator);h=h.insert(u,Je.newNoDocument(u,St.min()));const m=xt().add(u),y=new Fc(St.min(),new Map,new ae(Rt),h,m);await cE(s,y),s.du=s.du.remove(u),s.Eu.delete(t),wm(s)}else await Ud(s.localStore,t,!1).then(()=>Bd(s,t,i)).catch(js)}async function iC(r,t){const i=At(r),s=t.batch.batchId;try{const o=await d2(i.localStore,t);hE(i,s,null),fE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Io(i,o)}catch(o){await js(o)}}async function rC(r,t,i){const s=At(r);try{const o=await function(h,m){const y=At(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ht(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(g,S))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(s.localStore,t);hE(s,t,i),fE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Io(s,o)}catch(o){await js(o)}}function fE(r,t){(r.Vu.get(t)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(t)}function hE(r,t,i){const s=At(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Bd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),i&&r.hu.pu(s,i);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||dE(r,s)})}function dE(r,t){r.Iu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(ym(r.remoteStore,i),r.du=r.du.remove(t),r.Eu.delete(i),wm(r))}function ov(r,t,i){for(const s of i)s instanceof lE?(r.Au.addReference(s.key,t),aC(r,s)):s instanceof oE?(ot(bm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||dE(r,s.key)):vt(19791,{yu:s})}function aC(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Iu.has(s)||(ot(bm,"New document in limbo: "+i),r.Iu.add(s),wm(r))}function wm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const i=new gt(Wt.fromString(t)),s=r.mu.next();r.Eu.set(s,new K2(i)),r.du=r.du.insert(i,s),J0(r.remoteStore,new Ar(oi(Bc(i.path)),s,"TargetPurposeLimboResolution",Lc.ue))}}async function Io(r,t,i){const s=At(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,y)=>{h.push(s.gu(y,t,i).then(g=>{var E;if((g||i)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=i?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(g){o.push(g);const S=gm.Es(y.targetId,g);u.push(S)}}))}),await Promise.all(h),s.hu.J_(o),await async function(y,g){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(g,b=>J.forEach(b.Is,I=>E.persistence.referenceDelegate.addReference(S,b.targetId,I)).next(()=>J.forEach(b.ds,I=>E.persistence.referenceDelegate.removeReference(S,b.targetId,I)))))}catch(S){if(!Hs(S))throw S;ot(pm,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const I=E.Fs.get(b),M=I.snapshotVersion,G=I.withLastLimboFreeSnapshotVersion(M);E.Fs=E.Fs.insert(b,G)}}}(s.localStore,u))}async function sC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){ot(bm,"User change. New user:",t.toKey());const s=await K0(i.localStore,t);i.currentUser=t,function(u,h){u.Vu.forEach(m=>{m.forEach(y=>{y.reject(new ft(W.CANCELLED,h))})}),u.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Io(i,s.Bs)}}function lC(r,t){const i=At(r),s=i.Eu.get(t);if(s&&s.lu)return xt().add(s.key);{let o=xt();const u=i.Tu.get(t);if(!u)return o;for(const h of u){const m=i.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function mE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=cE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nC.bind(null,t),t.hu.J_=G2.bind(null,t.eventManager),t.hu.pu=F2.bind(null,t.eventManager),t}function oC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,t),t}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return h2(this.persistence,new u2,t.initialUser,this.serializer)}Du(t){return new Y0(mm.Vi,this.serializer)}bu(t){return new v2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class uC extends Oc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Ht(this.persistence.referenceDelegate instanceof Ic,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KR(s,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Y0(s=>Ic.Vi(s,i),this.serializer)}}class jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sC.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new q2}()}createDatastore(t){const i=Qc(t.databaseInfo.databaseId),s=function(u){return new b2(u)}(t.databaseInfo);return function(u,h,m,y){return new D2(u,h,m,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,u,h,m){return new V2(s,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,i=>lv(this.syncEngine,i,0),function(){return ev.C()?new ev:new E2}())}createSyncEngine(t,i){return function(o,u,h,m,y,g,E){const S=new X2(o,u,h,m,y,g);return E&&(S.fu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=At(o);ot(Ra,"RemoteStore shutting down."),u.Ia.add(5),await Do(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class cC{constructor(t,i,s,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ot(Lr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ot(Lr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Sm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function pd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Lr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await K0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{Vr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ot("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Vr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function uv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await fC(r);ot(Lr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>iv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>iv(t.remoteStore,o)),r._onlineComponents=t}async function fC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Lr,"Using user provided OfflineComponentProvider");try{await pd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Vr("Error using user provided cache. Falling back to memory cache: "+i),await pd(r,new Oc)}}else ot(Lr,"Using default OfflineComponentProvider"),await pd(r,new uC(void 0));return r._offlineComponents}async function pE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Lr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(ot(Lr,"Using default OnlineComponentProvider"),await uv(r,new jd))),r._onlineComponents}function hC(r){return pE(r).then(t=>t.syncEngine)}async function Hd(r){const t=await pE(r),i=t.eventManager;return i.onListen=$2.bind(null,t.syncEngine),i.onUnlisten=W2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Z2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=tC.bind(null,t.syncEngine),i}function dC(r,t,i={}){const s=new Dr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,y,g){const E=new gE({next:b=>{E.Ou(),h.enqueueAndForget(()=>aE(u,S));const I=b.docs.has(m);!I&&b.fromCache?g.reject(new ft(W.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&y&&y.source==="server"?g.reject(new ft(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new sE(Bc(m.path),E,{includeMetadataChanges:!0,ka:!0});return rE(u,S)}(await Hd(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firestore.googleapis.com",fv=!0;class hv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=fv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QR)throw new ft(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Iw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ew;switch(s.type){case"firstParty":return new bw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=cv.get(i);s&&(ot("ComponentProvider","Removing Datastore"),cv.delete(i),s.terminate())}(this),Promise.resolve()}}function mC(r,t,i,s={}){var o;r=Bn(r,Xc);const u=Jd(t),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${i}`;u&&(XA(`https://${y}`),WA("Firestore",!0)),h.host!==_E&&h.host!==y&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:y,ssl:u,emulatorOptions:s});if(!ho(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=Ze.MOCK_USER;else{E=$A(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ft(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(b)}r._authCredentials=new Tw(new r0(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new $c(this.firestore,t,this._query)}}class ge{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ge(this.firestore,t,this._key)}toJSON(){return{type:ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(wo(i,ge._jsonSchema))return new ge(t,s||null,new gt(Wt.fromString(i.referencePath)))}}ge._jsonSchemaVersion="firestore/documentReference/1.0",ge._jsonSchema={type:Te("string",ge._jsonSchemaVersion),referencePath:Te("string")};class Ir extends $c{constructor(t,i,s){super(t,i,Bc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ge(this.firestore,null,new gt(t))}withConverter(t){return new Ir(this.firestore,t,this._path)}}function gC(r,t,...i){if(r=Gi(r),s0("collection","path",t),r instanceof Xc){const s=Wt.fromString(t,...i);return R_(s),new Ir(r,null,s)}{if(!(r instanceof ge||r instanceof Ir))throw new ft(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return R_(s),new Ir(r.firestore,null,s)}}function Xe(r,t,...i){if(r=Gi(r),arguments.length===1&&(t=em.newId()),s0("doc","path",t),r instanceof Xc){const s=Wt.fromString(t,...i);return w_(s),new ge(r,null,new gt(s))}{if(!(r instanceof ge||r instanceof Ir))throw new ft(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return w_(s),new ge(r.firestore,r instanceof Ir?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="AsyncQueue";class mv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $0(this,"async_queue_retry"),this.oc=()=>{const s=gd();s&&ot(dv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const i=gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Dr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Hs(t))throw t;ot(dv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const i=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,Qi("INTERNAL UNHANDLED ERROR: ",gv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(t,i,s){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const o=Tm.createAndSchedule(this,t,i,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&vt(47125,{hc:gv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function gv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ca extends Xc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mv(t),this._firestoreClient=void 0,await t}}}function pC(r,t){const i=typeof r=="object"?r:uw(),s=typeof r=="string"?r:Sc,o=rw(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=YA("firestore");u&&mC(o,...u)}return o}function Rm(r){if(r._terminated)throw new ft(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yC(r),r._firestoreClient}function yC(r){var t,i,s;const o=r._freezeSettings(),u=function(m,y,g,E){return new Bw(m,y,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,yE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new cC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const y=m?._online.build();return{_offline:m?._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Ge.fromBase64String(t))}catch(i){throw new ft(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wo(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Te("string",xn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(wo(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Te("string",ci._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wo(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new fi(t.vectorValues);throw new ft(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Te("string",fi._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^__.*__$/;class vC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new zr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(t,this.data,i,this.fieldTransforms)}}class vE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new zr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function EE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:r})}}class Wc{constructor(t,i,s,o,u,h){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Wc(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return xc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(EE(this.Ec)&&_C.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class EC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Qc(t)}Dc(t,i,s,o=!1){return new Wc({Ec:t,methodName:i,bc:s,path:qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TE(r){const t=r._freezeSettings(),i=Qc(r._databaseId);return new EC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function TC(r,t,i,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,t,i,o);Dm("Data must be an object, but it was:",h,s);const m=SE(s,h);let y,g;if(u.merge)y=new _n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=qd(t,S,i);if(!h.contains(b))throw new ft(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);bE(E,b)||E.push(b)}y=new _n(E),g=h.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,g=h.fieldTransforms;return new vC(new on(m),y,g)}class Vo extends Jc{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vo}}function SC(r,t,i){return new Wc({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cm extends Jc{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=SC(this,t,!0),s=this.vc.map(u=>Oo(u,i)),o=new Ms(s);return new dR(t.path,o)}isEqual(t){return t instanceof Cm&&ho(this.vc,t.vc)}}function AC(r,t,i,s){const o=r.Dc(1,t,i);Dm("Data must be an object, but it was:",o,s);const u=[],h=on.empty();Ur(s,(y,g)=>{const E=Im(t,y,i);g=Gi(g);const S=o.gc(E);if(g instanceof Vo)u.push(E);else{const b=Oo(g,S);b!=null&&(u.push(E),h.set(E,b))}});const m=new _n(u);return new vE(h,m,o.fieldTransforms)}function bC(r,t,i,s,o,u){const h=r.Dc(1,t,i),m=[qd(t,s,i)],y=[o];if(u.length%2!=0)throw new ft(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(qd(t,u[b])),y.push(u[b+1]);const g=[],E=on.empty();for(let b=m.length-1;b>=0;--b)if(!bE(g,m[b])){const I=m[b];let M=y[b];M=Gi(M);const G=h.gc(I);if(M instanceof Vo)g.push(I);else{const j=Oo(M,G);j!=null&&(g.push(I),E.set(I,j))}}const S=new _n(g);return new vE(E,S,h.fieldTransforms)}function Oo(r,t){if(AE(r=Gi(r)))return Dm("Unsupported field value:",t,r),SE(r,t);if(r instanceof Jc)return function(s,o){if(!EE(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let y=Oo(m,o.yc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Gi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=te.fromDate(s);return{timestampValue:Dc(o.serializer,u)}}if(s instanceof te){const u=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dc(o.serializer,u)}}if(s instanceof ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:k0(o.serializer,s._byteString)};if(s instanceof ge){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(h,m){return{mapValue:{fields:{[g0]:{stringValue:p0},[Ac]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return om(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${nm(s)}`)}(r,t)}function SE(r,t){const i={};return u0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ur(r,(s,o)=>{const u=Oo(o,t.Vc(s));u!=null&&(i[s]=u)}),{mapValue:{fields:i}}}function AE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof ci||r instanceof xn||r instanceof ge||r instanceof Jc||r instanceof fi)}function Dm(r,t,i){if(!AE(i)||!l0(i)){const s=nm(i);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function qd(r,t,i){if((t=Gi(t))instanceof Zc)return t._internalPath;if(typeof t=="string")return Im(r,t);throw xc("Field path arguments must be of type string or ",r,!1,void 0,i)}const wC=new RegExp("[~\\*/\\[\\]]");function Im(r,t,i){if(t.search(wC)>=0)throw xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zc(...t.split("."))._internalPath}catch{throw xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function xc(r,t,i,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new ft(W.INVALID_ARGUMENT,m+r+y)}function bE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,i,s,o,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(RE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RC extends wE{data(){return super.data()}}function RE(r,t){return typeof t=="string"?Im(r,t):t instanceof Zc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DC{convertValue(t,i="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ur(t,(o,u)=>{s[o]=this.convertValue(u,i)}),s}convertVectorValue(t){var i,s,o;const u=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[Ac].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>me(h.doubleValue));return new fi(u)}convertGeoPoint(t){return new ci(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=zc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(t));default:return null}}convertTimestamp(t){const i=xr(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);Ht(F0(s),9688,{name:t});const o=new _o(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(i)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ba extends wE{constructor(t,i,s,o,u,h){super(t,i,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(RE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Te("string",ba._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class pc extends ba{data(t={}){return super.data(t)}}class Vs{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new pc(this._firestore,this._userDataWriter,s.key,s,new ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const y=new pc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new pc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:VC(m.type),doc:y,oldIndex:g,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Vs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){r=Bn(r,ge);const t=Bn(r.firestore,Ca);return dC(Rm(t),r._key).then(i=>DE(t,r,i))}Vs._jsonSchemaVersion="firestore/querySnapshot/1.0",Vs._jsonSchema={type:Te("string",Vs._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class CE extends DC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ge(this.firestore,null,i)}}function xC(r,t,i){r=Bn(r,ge);const s=Bn(r.firestore,Ca),o=IC(r.converter,t);return Vm(s,[TC(TE(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,jn.none())])}function kn(r,t,i,...s){r=Bn(r,ge);const o=Bn(r.firestore,Ca),u=TE(o);let h;return h=typeof(t=Gi(t))=="string"||t instanceof Zc?bC(u,"updateDoc",r._key,t,i,s):AC(u,"updateDoc",r._key,t),Vm(o,[h.toMutation(r._key,jn.exists(!0))])}function NC(r){return Vm(Bn(r.firestore,Ca),[new um(r._key,jn.none())])}function Nc(r,...t){var i,s,o;r=Gi(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||pv(t[h])||(u=t[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(pv(t[h])){const S=t[h];t[h]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[h+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let y,g,E;if(r instanceof ge)g=Bn(r.firestore,Ca),E=Bc(r._key.path),y={next:S=>{t[h]&&t[h](DE(g,r,S))},error:t[h+1],complete:t[h+2]};else{const S=Bn(r,$c);g=Bn(S.firestore,Ca),E=S._query;const b=new CE(g);y={next:I=>{t[h]&&t[h](new Vs(g,b,S,I))},error:t[h+1],complete:t[h+2]},CC(r._query)}return function(b,I,M,G){const j=new gE(G),F=new sE(I,j,M);return b.asyncQueue.enqueueAndForget(async()=>rE(await Hd(b),F)),()=>{j.Ou(),b.asyncQueue.enqueueAndForget(async()=>aE(await Hd(b),F))}}(Rm(g),E,m,y)}function Vm(r,t){return function(s,o){const u=new Dr;return s.asyncQueue.enqueueAndForget(async()=>eC(await hC(s),o,u)),u.promise}(Rm(r),t)}function DE(r,t,i){const s=i.docs.get(t._key),o=new CE(r);return new ba(r,o,t._key,s,new ao(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return new Vo("deleteField")}function IE(...r){return new Cm("arrayUnion",r)}(function(t,i=!0){(function(o){Bs=o})(ow),Ec(new mo("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ca(new Sw(s.getProvider("auth-internal")),new ww(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:i},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ds(E_,T_,t),Ds(E_,T_,"esm2017")})();var PC="firebase",LC="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(PC,LC,"app");const UC={apiKey:"AIzaSyBaY5uq9kIEFjfr9cIEYOzTT4TykRdui-c",authDomain:"boardgames-cf5a1.firebaseapp.com",projectId:"boardgames-cf5a1",storageBucket:"boardgames-cf5a1.firebasestorage.app",messagingSenderId:"764257197121",appId:"1:764257197121:web:b80d24917356f51ab47ac0",measurementId:"G-9PS0XW6GQ3"},zC=Kv(UC),$e=pC(zC),kC={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},yv=(r,t,i,s,o)=>{const u=new RTCPeerConnection(kC);u.onicecandidate=async m=>{if(m.candidate){const y=i?`connections.${t}.hostCandidates`:`connections.${t}.guestCandidates`,g=Xe($e,"games",r);await kn(g,{[y]:IE(m.candidate.toJSON())})}},u.onconnectionstatechange=()=>{const m=u.connectionState;o(y=>({peerConnectionStates:new Map(y.peerConnectionStates).set(t,m)})),(m==="disconnected"||m==="failed"||m==="closed")&&(To.getState().handlePlayerDisconnect(t),s().peerConnections.get(t)?.close(),o(y=>{const g=new Map(y.peerConnections);g.delete(t);const E=new Map(y.dataChannels);return E.delete(t),{peerConnections:g,dataChannels:E}}))};const h=m=>{m.onopen=()=>{To.getState().handlePlayerConnect(t)},m.onmessage=y=>{s().onMessageCallback(JSON.parse(y.data),t)},m.onclose=()=>{},o(y=>({dataChannels:new Map(y.dataChannels).set(t,m)}))};if(i){const m=u.createDataChannel("gameData");h(m)}else u.ondatachannel=m=>h(m.channel);return o(m=>({peerConnections:new Map(m.peerConnections).set(t,u)})),u},ce=Bv((r,t)=>({gameId:null,isHost:!1,peerConnections:new Map,dataChannels:new Map,peerConnectionStates:new Map,onMessageCallback:()=>{},unsubscribes:[],initAsHost:i=>{t()._reset(),r({isHost:!0,gameId:i});const s=Xe($e,"games",i),o=Nc(s,async u=>{const h=u.data();if(h?.connections)for(const m in h.connections){const y=t().peerConnections.get(m);if(!y)continue;const g=h.connections[m];g.answer&&!y.currentRemoteDescription&&await y.setRemoteDescription(new RTCSessionDescription(g.answer)),g.guestCandidates&&g.guestCandidates.forEach(E=>{y.addIceCandidate(new RTCIceCandidate(E)).catch(()=>{})})}});r({unsubscribes:[o]})},initAsGuest:(i,s,o)=>{t()._reset(),r({isHost:!1,gameId:i});const u=yv(i,o,!1,t,r),h=Xe($e,"games",i),m=Nc(h,async y=>{const E=y.data()?.connections?.[s];if(E){if(E.offer&&!u.remoteDescription){if(u.signalingState!=="stable")return;await u.setRemoteDescription(new RTCSessionDescription(E.offer));const S=await u.createAnswer();await u.setLocalDescription(S),await kn(h,{[`connections.${s}.answer`]:{type:S.type,sdp:S.sdp}})}E.hostCandidates&&E.hostCandidates.forEach(S=>{u.addIceCandidate(new RTCIceCandidate(S)).catch(()=>{})})}});r({unsubscribes:[m]})},initiateConnectionForGuest:async i=>{const{gameId:s,isHost:o}=t();if(!o||!s)return;const u=yv(s,i,!0,t,r),h=await u.createOffer();await u.setLocalDescription(h);const m=Xe($e,"games",s);await kn(m,{[`connections.${i}.offer`]:{type:h.type,sdp:h.sdp}})},broadcastMessage:i=>{const{dataChannels:s}=t(),o=JSON.stringify(i);s.forEach(u=>{u.readyState==="open"&&u.send(o)})},sendMessageToHost:i=>{const{dataChannels:s}=t(),o=Array.from(s.values())[0];o?.readyState==="open"&&o.send(JSON.stringify(i))},sendMessageToGuest:(i,s)=>{const{dataChannels:o}=t(),u=o.get(i);u?.readyState==="open"&&u.send(JSON.stringify(s))},leaveSession:async()=>{t()._reset()},_reset:()=>{t().unsubscribes.forEach(i=>i()),t().peerConnections.forEach(i=>i.close()),r({gameId:null,isHost:!1,peerConnections:new Map,dataChannels:new Map,peerConnectionStates:new Map,unsubscribes:[]})}}));let yd=!1;const To=Bv((r,t)=>({gameId:null,gameName:null,gameInfo:null,playerId:null,players:[],gamePhase:"lobby",gameState:null,gameOptions:{},disconnectionMessage:null,unsubscribes:[],createGame:async i=>{if(t().gameId)return;const s=Ed(i);if(!s)return;t().resetStore();const o="p1",u=Xe(gC($e,"games")).id,h={id:o,username:"Player 1"},m=s.gameOptions?.reduce((g,E)=>(g[E.id]=E.defaultValue,g),{})||{};r({gameId:u,gameName:i,gameInfo:s,playerId:o,players:[h],gamePhase:"lobby",gameOptions:m}),ce.getState().initAsHost(u),await xC(Xe($e,"games",u),{players:[h],connections:{},gamePhase:"lobby",options:m});const y=Nc(Xe($e,"games",u),g=>{if(!g.exists()){t().leaveGame();return}const{players:E=[],options:S={}}=g.data(),b=t().players;if(t().gameId===u&&(r({players:E,gameOptions:S}),E.length>b.length)){const I=E.find(M=>!b.some(G=>G.id===M.id));I&&ce.getState().initiateConnectionForGuest(I.id)}});return r({unsubscribes:[y]}),u},joinGame:async(i,s)=>{if(yd)return"locked";yd=!0;try{if(t().gameId)return"success";const o=Ed(s);if(!o)return r({disconnectionMessage:`Invalid game type: ${s}`}),"failed";const u=Xe($e,"games",i),h=await OC(u);if(!h.exists())return r({disconnectionMessage:"Game not found or has been ended by the host."}),"failed";const m=h.data(),y=m.players;if(y.length>=o.maxPlayers)return r({disconnectionMessage:"This game lobby is already full."}),"failed";t().resetStore();const g=Nc(u,b=>{if(!b.exists())r({disconnectionMessage:"The host has left the game."});else{const I=b.data();t().gamePhase!=="in-game"&&I.gameState&&r({gameState:I.gameState}),I.options&&r({gameOptions:I.options})}}),E=`p${Math.random().toString(36).substring(2,9)}`,S={id:E,username:`Player ${y.length+1}`};return r({gameId:i,gameName:s,gameInfo:o,playerId:E,gamePhase:"lobby",gameOptions:m.options||{},unsubscribes:[g]}),await kn(u,{players:IE(S)}),ce.getState().initAsGuest(i,E,"p1"),"success"}finally{yd=!1}},notifyLeave:()=>{const{isHost:i}=ce.getState();i||ce.getState().sendMessageToHost({type:"player_leaving"})},leaveGame:async()=>{t().notifyLeave();const{isHost:i}=ce.getState(),{gameId:s}=t();i&&s&&await NC(Xe($e,"games",s)),t().resetStore()},resetSession:()=>{ce.getState().leaveSession(),t().unsubscribes.forEach(i=>i()),r(i=>({gameId:null,gameName:i.gameName,gameInfo:i.gameInfo,playerId:null,players:[],gamePhase:"lobby",gameState:null,gameOptions:{},unsubscribes:[],disconnectionMessage:i.disconnectionMessage}))},clearDisconnectionMessage:()=>{r({disconnectionMessage:null})},resetStore:()=>{ce.getState().leaveSession(),t().unsubscribes.forEach(i=>i()),r({gameId:null,gameName:null,gameInfo:null,playerId:null,players:[],gamePhase:"lobby",gameState:null,gameOptions:{},disconnectionMessage:null,unsubscribes:[]})},setMyUsername:i=>{const{playerId:s,players:o,gameId:u}=t(),{isHost:h,sendMessageToHost:m}=ce.getState();if(!(!s||!i.trim()))if(h){const y=o.map(g=>g.id===s?{...g,username:i}:g);r({players:y}),ce.getState().broadcastMessage({type:"sync_players",payload:y}),u&&kn(Xe($e,"games",u),{players:y})}else m({type:"username_change",payload:{newUsername:i}})},setGameOptions:i=>{const{gameId:s,gameOptions:o}=t(),{isHost:u}=ce.getState();if(!u||!s)return;const h={...o,...i};r({gameOptions:h}),kn(Xe($e,"games",s),{options:h})},performAction:i=>{const{playerId:s,gamePhase:o}=t(),{isHost:u,sendMessageToHost:h}=ce.getState();if(o!=="in-game"||!s)return;const m={...i,playerId:s};u?t().handleMessage({type:"game_action",payload:m},s):h({type:"game_action",payload:m})},startGame:()=>{const{gameInfo:i,players:s,gameId:o,gameState:u,gameOptions:h}=t(),{isHost:m,broadcastMessage:y}=ce.getState();if(!m||!i)return;const g=i.getInitialState(s.map(S=>S.id),u,h),E="in-game";r({gameState:g,gamePhase:E}),y({type:"start_game",payload:g}),o&&kn(Xe($e,"games",o),{gameState:g,gamePhase:E})},playAgain:()=>{t().startGame()},returnToLobby:()=>{const{isHost:i,broadcastMessage:s}=ce.getState(),{gameId:o}=t();!i||!o||(r({gamePhase:"lobby",gameState:null}),s({type:"return_to_lobby"}),kn(Xe($e,"games",o),{gamePhase:"lobby",gameState:null}))},handlePlayerConnect:i=>{const{isHost:s}=ce.getState();if(s){const{players:o,gameState:u,gamePhase:h,gameOptions:m}=t();ce.getState().sendMessageToGuest(i,{type:"sync_full_game_state",payload:{players:o,gameState:u,gamePhase:h,gameOptions:m}})}},handleMessage:(i,s)=>{const{isHost:o}=ce.getState();if(!o)return;const{players:u,gameId:h,gameInfo:m,gameState:y}=t();switch(i.type){case"player_leaving":{t().handlePlayerDisconnect(s);break}case"username_change":{const g=u.map(E=>E.id===s?{...E,username:i.payload.newUsername}:E);r({players:g}),ce.getState().broadcastMessage({type:"sync_players",payload:g}),h&&kn(Xe($e,"games",h),{players:g});break}case"game_action":{if(!m||!y||!m.isTurnOf(y,i.payload.playerId))return;const g=m.handleAction(y,i.payload),E=m.isGameOver(g)?"post-game":"in-game";r({gameState:g,gamePhase:E}),ce.getState().broadcastMessage({type:"game_state_update",payload:g}),h&&kn(Xe($e,"games",h),{gameState:g,gamePhase:E});break}}},handlePlayerDisconnect:async i=>{const{isHost:s,broadcastMessage:o}=ce.getState();if(s){const{gameId:u,players:h,gameOptions:m}=t(),y=h.filter(g=>g.id!==i);if(y.length<h.length){const E="lobby";if(r({players:y,gameState:null,gamePhase:E}),u){const S=Xe($e,"games",u);await kn(S,{players:y,gameState:null,gamePhase:E,[`connections.${i}`]:MC()})}o({type:"sync_full_game_state",payload:{players:y,gameState:null,gamePhase:E,gameOptions:m}})}}else i==="p1"&&r({disconnectionMessage:"The host has disconnected."})}}));ce.setState({onMessageCallback:(r,t)=>{const{getState:i,setState:s}=To,{isHost:o}=ce.getState();switch(o&&i().handleMessage(r,t),r.type){case"sync_full_game_state":s({players:r.payload.players,gameState:r.payload.gameState,gamePhase:r.payload.gamePhase,gameOptions:r.payload.gameOptions});break;case"sync_players":s({players:r.payload});break;case"start_game":s({gameState:r.payload,gamePhase:"in-game"});break;case"game_state_update":const u=i().gameInfo,h=r.payload;s({gameState:h,gamePhase:u?.isGameOver(h)?"post-game":"in-game"});break;case"return_to_lobby":s({gamePhase:"lobby",gameState:null});break}}});const _v=()=>{const{gameName:r,gameId:t}=H1();if($.useEffect(()=>{const o=()=>{To.getState().gameId&&To.getState().notifyLeave()};return window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)},[]),!r)return It.jsx("div",{className:"text-xl text-red-500",children:"Error: No game specified in URL!"});const i=Ed(r);if(!i)return It.jsxs("div",{className:"text-xl text-red-500",children:["Error: Game '",r,"' not found!"]});if(t){const o=i.GamePageComponent;return It.jsx(Hn.Suspense,{fallback:It.jsx("div",{className:"text-xl",children:"Loading Game..."}),children:It.jsx(o,{})})}const s=i.LobbyPageComponent;return It.jsx(Hn.Suspense,{fallback:It.jsx("div",{className:"text-xl",children:"Loading Lobby..."}),children:It.jsx(s,{})})},BC=()=>It.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans flex",children:It.jsx("main",{className:"flex-grow w-full flex items-center justify-center p-4",children:It.jsxs(iS,{children:[It.jsx(oc,{path:"/",element:It.jsx(NA,{})})," ",It.jsx(oc,{path:"/game/:gameName/:gameId",element:It.jsx(_v,{})}),It.jsx(oc,{path:"/game/:gameName",element:It.jsx(_v,{})})]})})});c1.createRoot(document.getElementById("root")).render(It.jsx(Hn.StrictMode,{children:It.jsx(CS,{children:It.jsx(BC,{})})}));export{To as a,H1 as b,Uv as c,ce as d,Ed as f,It as j,$ as r,B1 as u};
