import{c as r,j as e,a as j,r as y}from"./index-B37KDAax.js";import{C as v}from"./check-C57tEIjn.js";import{L as W}from"./log-out-CIRTqNFv.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],D=r("ban",A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R=r("circle-question-mark",H);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],q=r("hand",S);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],E=r("layers",I);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],w=r("plus",V);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B=r("refresh-cw",Y);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],F=r("triangle-alert",G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N=r("user",Q),J={red:"bg-red-500",yellow:"bg-yellow-400",green:"bg-green-500",blue:"bg-blue-500",black:"bg-slate-800"},K=({value:l,className:t})=>{switch(l){case"skip":return e.jsx(D,{className:t,strokeWidth:2});case"reverse":return e.jsx(B,{className:t,strokeWidth:2});case"draw-two":return e.jsx(w,{className:t,strokeWidth:2.5});case"wild-draw-four":return e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:t,strokeWidth:2.5}),e.jsx("span",{className:"absolute -top-2 -right-1 text-lg font-bold",children:"4"})]});case"wild":return e.jsx(R,{className:t,strokeWidth:2});default:return e.jsx("span",{className:"font-black text-5xl tracking-tighter",children:l})}},X=()=>e.jsxs("div",{className:"absolute inset-0 grid grid-cols-2 grid-rows-2",children:[e.jsx("div",{className:"bg-red-500 rounded-tl-lg"}),e.jsx("div",{className:"bg-blue-500 rounded-tr-lg"}),e.jsx("div",{className:"bg-yellow-400 rounded-bl-lg"}),e.jsx("div",{className:"bg-green-500 rounded-br-lg"})]}),m=({card:l,isFaceDown:t,onClick:a,className:n=""})=>{if(t)return e.jsx("div",{onClick:a,className:`w-20 h-28 md:w-24 md:h-36 bg-slate-900 rounded-lg border-2 border-slate-600 flex items-center justify-center shadow-lg ${a?"cursor-pointer":""} ${n}`,children:e.jsx("h1",{className:"text-4xl font-black text-cyan-400 -rotate-12",children:"UNO"})});if(!l)return null;const i=J[l.color];return e.jsxs("div",{onClick:a,className:`w-20 h-28 md:w-24 md:h-36 rounded-lg border-2 border-slate-300 flex items-center justify-center p-2 relative shadow-xl ${i} ${a?"cursor-pointer transition-transform hover:-translate-y-4 hover:shadow-2xl":""} ${n}`,children:[e.jsx("div",{className:"absolute w-full h-full bg-black/10"}),e.jsx("div",{className:"absolute top-1 left-2 text-white font-bold text-xl",children:l.value.toUpperCase()}),e.jsx("div",{className:"absolute bottom-1 right-2 text-white font-bold text-xl transform rotate-180",children:l.value.toUpperCase()}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:[l.color==="black"&&e.jsx(X,{}),e.jsx("div",{className:"relative z-10 w-16 h-24 bg-white/20 backdrop-blur-sm rounded-md flex items-center justify-center",children:e.jsx(K,{value:l.value,className:"w-10 h-10"})})]})]})},Z=["red","yellow","green","blue"],T={red:"bg-red-500 hover:bg-red-400",yellow:"bg-yellow-400 hover:bg-yellow-300",green:"bg-green-500 hover:bg-green-400",blue:"bg-blue-500 hover:bg-blue-400"},ee=({onSelectColor:l})=>e.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm flex flex-col items-center justify-center z-50 animate-in fade-in",children:e.jsxs("div",{className:"p-6 bg-slate-800 rounded-2xl shadow-xl border border-slate-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Choose a Color"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Z.map(t=>e.jsx("button",{onClick:()=>l(t),className:`w-28 h-28 rounded-lg ${T[t]} transition-transform transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-white/50`,"aria-label":`Select ${t}`},t))})]})}),ae=({gameState:l,isMyTurn:t,onPerformAction:a,onLeaveGame:n,statusMessage:i})=>{const o=j(s=>s.playerId),g=j(s=>s.players),[k,d]=y.useState(!1);if(y.useEffect(()=>{l?.awaitingColorChoice&&t?d(!0):d(!1)},[l?.awaitingColorChoice,t]),!l||!o)return e.jsx("div",{children:"Loading..."});const{playerHands:b,discardPile:p,deckSize:C,currentPlayerId:$,activeColor:x,unoSaid:h,drawCount:f}=l,u=b[o]||[],_=p[p.length-1],z=g.filter(s=>s.id!==o),M=s=>{!t||l.awaitingColorChoice||a({type:"PLAY_CARD",payload:{card:s,chosenColor:null}})},L=s=>{t&&a({type:"CHOOSE_COLOR",payload:{color:s}}),d(!1)},U=()=>{t&&!l.awaitingColorChoice&&a({type:"DRAW_CARD",payload:null})},O=()=>{a({type:"SAY_UNO",payload:null})},P=s=>g.find(c=>c.id===s)?.username||"Player";return e.jsxs("div",{className:"fixed inset-0 bg-slate-900 text-white flex flex-col items-center justify-center overflow-hidden",children:[k&&e.jsx(ee,{onSelectColor:L}),e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex gap-8",children:z.map(s=>e.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg transition-all duration-300 ${s.id===$?"bg-cyan-500/20 ring-2 ring-cyan-400 scale-105":"bg-slate-800/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{size:16}),e.jsx("span",{className:"font-bold",children:s.username})]}),e.jsxs("span",{className:"text-sm text-slate-400",children:[b[s.id]?.length||0," cards"]}),h.includes(s.id)&&e.jsx(v,{size:16,className:"text-green-400"})]},s.id))}),e.jsx("div",{className:"absolute top-24 text-center",children:e.jsx("p",{className:"text-lg font-semibold text-slate-300",children:i})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-8 my-auto",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(m,{card:_}),x&&x!=="black"&&e.jsx("div",{className:`w-10 h-10 rounded-full border-2 border-white ${"bg-"+x}-500`})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(m,{isFaceDown:!0,onClick:U}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx(E,{size:16}),e.jsx("span",{children:C})]}),f>0&&e.jsxs("div",{className:"absolute -bottom-8 bg-red-600 text-white font-bold rounded-full px-4 py-2",children:["+",f]})]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-slate-900/50 backdrop-blur-sm flex flex-col items-center gap-4",children:[e.jsx("div",{className:"flex justify-center items-end gap-[-3rem] md:gap-[-4rem] h-40",children:u.map((s,c)=>e.jsx("div",{className:"transition-transform duration-300 hover:-translate-y-4",style:{zIndex:c},children:e.jsx(m,{card:s,onClick:()=>M(s)})},`${s.color}-${s.value}-${c}`))}),e.jsxs("div",{className:`w-full max-w-lg flex justify-between items-center p-2 rounded-lg transition-all duration-300 ${t&&!l.awaitingColorChoice?"bg-cyan-500/20 ring-2 ring-cyan-400":"bg-slate-800/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",children:[e.jsx(N,{size:20}),e.jsxs("span",{children:[P(o)," (You)"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-slate-300",children:[e.jsx(q,{size:16}),e.jsxs("span",{children:[u.length," cards"]}),h.includes(o)&&e.jsx(v,{size:16,className:"text-green-400"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u.length===1&&!h.includes(o)&&e.jsxs("button",{onClick:O,className:"px-4 py-2 font-bold text-slate-900 bg-yellow-400 rounded-lg hover:bg-yellow-300 flex items-center gap-2",children:[e.jsx(F,{size:18})," UNO!"]}),e.jsx("button",{onClick:n,className:"px-3 py-2 text-slate-300 bg-red-800/50 rounded-lg hover:bg-red-700 flex items-center gap-2",children:e.jsx(W,{size:18})})]})]})]})]})};export{ae as default};
